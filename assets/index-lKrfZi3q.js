import{bB as bo,av as J,bC as yo,am as _n,bD as B,a5 as Og}from"./index-yzHpTuCW.js";import{e as Yu}from"./events-V6GCmsqX.js";function Ng(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Ku={},Yi={},mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.walletLogo=void 0;const Lg=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};mo.walletLogo=Lg;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.LINK_API_URL=void 0;_o.LINK_API_URL="https://www.walletlink.org";var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.ScopedLocalStorage=void 0;class Pg{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}wo.ScopedLocalStorage=Pg;var ii={},wn={};Object.defineProperty(wn,"__esModule",{value:!0});const $g=Yu;function dl(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Dg(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let jg=class extends $g.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")dl(s,this,r);else{const o=s.length,a=Dg(s);for(let c=0;c<o;c+=1)dl(a[c],this,r)}return!0}};wn.default=jg;var Xu={exports:{}};Xu.exports;(function(t){(function(e,r){function n(b,u){if(!b)throw new Error(u||"Assertion failed")}function i(b,u){b.super_=u;var p=function(){};p.prototype=u.prototype,b.prototype=new p,b.prototype.constructor=b}function s(b,u,p){if(s.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(b||0,u||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=bo.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,v){if(typeof u=="number")return this._initNumber(u,p,v);if(typeof u=="object")return this._initArray(u,p,v);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var y=0;u[0]==="-"&&(y++,this.negative=1),y<u.length&&(p===16?this._parseHex(u,y,v):(this._parseBase(u,p,y),v==="le"&&this._initArray(this.toArray(),p,v)))},s.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),p,v)},s.prototype._initArray=function(u,p,v){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var S,C,k=0;if(v==="be")for(y=u.length-1,S=0;y>=0;y-=3)C=u[y]|u[y-1]<<8|u[y-2]<<16,this.words[S]|=C<<k&67108863,this.words[S+1]=C>>>26-k&67108863,k+=24,k>=26&&(k-=26,S++);else if(v==="le")for(y=0,S=0;y<u.length;y+=3)C=u[y]|u[y+1]<<8|u[y+2]<<16,this.words[S]|=C<<k&67108863,this.words[S+1]=C>>>26-k&67108863,k+=24,k>=26&&(k-=26,S++);return this._strip()};function a(b,u){var p=b.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+b)}function c(b,u,p){var v=a(b,p);return p-1>=u&&(v|=a(b,p-1)<<4),v}s.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var S=0,C=0,k;if(v==="be")for(y=u.length-1;y>=p;y-=2)k=c(u,p,y)<<S,this.words[C]|=k&67108863,S>=18?(S-=18,C+=1,this.words[C]|=k>>>26):S+=8;else{var m=u.length-p;for(y=m%2===0?p+1:p;y<u.length;y+=2)k=c(u,p,y)<<S,this.words[C]|=k&67108863,S>=18?(S-=18,C+=1,this.words[C]|=k>>>26):S+=8}this._strip()};function l(b,u,p,v){for(var y=0,S=0,C=Math.min(b.length,p),k=u;k<C;k++){var m=b.charCodeAt(k)-48;y*=v,m>=49?S=m-49+10:m>=17?S=m-17+10:S=m,n(m>=0&&S<v,"Invalid character"),y+=S}return y}s.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var y=0,S=1;S<=67108863;S*=p)y++;y--,S=S/p|0;for(var C=u.length-v,k=C%y,m=Math.min(C,C-k)+v,f=0,x=v;x<m;x+=y)f=l(u,x,x+y,p),this.imuln(S),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(k!==0){var U=1;for(f=l(u,x,u.length,p),x=0;x<k;x++)U*=p;this.imuln(U),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function h(b,u){b.words=u.words,b.length=u.length,b.negative=u.negative,b.red=u.red}if(s.prototype._move=function(u){h(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var v;if(u===16||u==="hex"){v="";for(var y=0,S=0,C=0;C<this.length;C++){var k=this.words[C],m=((k<<y|S)&16777215).toString(16);S=k>>>24-y&16777215,y+=2,y>=26&&(y-=26,C--),S!==0||C!==this.length-1?v=g[6-m.length]+m+v:v=m+v}for(S!==0&&(v=S.toString(16)+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var f=_[u],x=R[u];v="";var U=this.clone();for(U.negative=0;!U.isZero();){var G=U.modrn(x).toString(u);U=U.idivn(x),U.isZero()?v=G+v:v=g[f-G.length]+G+v}for(this.isZero()&&(v="0"+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,p){return this.toArrayLike(o,u,p)}),s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var L=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};s.prototype.toArrayLike=function(u,p,v){this._strip();var y=this.byteLength(),S=v||Math.max(1,y);n(y<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var C=L(u,S),k=p==="le"?"LE":"BE";return this["_toArrayLike"+k](C,y),C},s.prototype._toArrayLikeLE=function(u,p){for(var v=0,y=0,S=0,C=0;S<this.length;S++){var k=this.words[S]<<C|y;u[v++]=k&255,v<u.length&&(u[v++]=k>>8&255),v<u.length&&(u[v++]=k>>16&255),C===6?(v<u.length&&(u[v++]=k>>24&255),y=0,C=0):(y=k>>>24,C+=2)}if(v<u.length)for(u[v++]=y;v<u.length;)u[v++]=0},s.prototype._toArrayLikeBE=function(u,p){for(var v=u.length-1,y=0,S=0,C=0;S<this.length;S++){var k=this.words[S]<<C|y;u[v--]=k&255,v>=0&&(u[v--]=k>>8&255),v>=0&&(u[v--]=k>>16&255),C===6?(v>=0&&(u[v--]=k>>24&255),y=0,C=0):(y=k>>>24,C+=2)}if(v>=0)for(u[v--]=y;v>=0;)u[v--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,v=0;return p&8191||(v+=13,p>>>=13),p&127||(v+=7,p>>>=7),p&15||(v+=4,p>>>=4),p&3||(v+=2,p>>>=2),p&1||v++,v},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function O(b){for(var u=new Array(b.bitLength()),p=0;p<u.length;p++){var v=p/26|0,y=p%26;u[p]=b.words[v]>>>y&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,v!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var y=0;y<v.length;y++)this.words[y]=p.words[y]^v.words[y];if(this!==p)for(;y<p.length;y++)this.words[y]=p.words[y];return this.length=p.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,v=u%26;this._expand(p),v>0&&p--;for(var y=0;y<p;y++)this.words[y]=~this.words[y]&67108863;return v>0&&(this.words[y]=~this.words[y]&67108863>>26-v),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){n(typeof u=="number"&&u>=0);var v=u/26|0,y=u%26;return this._expand(v+1),p?this.words[v]=this.words[v]|1<<y:this.words[v]=this.words[v]&~(1<<y),this._strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var v,y;this.length>u.length?(v=this,y=u):(v=u,y=this);for(var S=0,C=0;C<y.length;C++)p=(v.words[C]|0)+(y.words[C]|0)+S,this.words[C]=p&67108863,S=p>>>26;for(;S!==0&&C<v.length;C++)p=(v.words[C]|0)+S,this.words[C]=p&67108863,S=p>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;C<v.length;C++)this.words[C]=v.words[C];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,S;v>0?(y=this,S=u):(y=u,S=this);for(var C=0,k=0;k<S.length;k++)p=(y.words[k]|0)-(S.words[k]|0)+C,C=p>>26,this.words[k]=p&67108863;for(;C!==0&&k<y.length;k++)p=(y.words[k]|0)+C,C=p>>26,this.words[k]=p&67108863;if(C===0&&k<y.length&&y!==this)for(;k<y.length;k++)this.words[k]=y.words[k];return this.length=Math.max(this.length,k),y!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function w(b,u,p){p.negative=u.negative^b.negative;var v=b.length+u.length|0;p.length=v,v=v-1|0;var y=b.words[0]|0,S=u.words[0]|0,C=y*S,k=C&67108863,m=C/67108864|0;p.words[0]=k;for(var f=1;f<v;f++){for(var x=m>>>26,U=m&67108863,G=Math.min(f,u.length-1),A=Math.max(0,f-b.length+1);A<=G;A++){var N=f-A|0;y=b.words[N]|0,S=u.words[A]|0,C=y*S+U,x+=C/67108864|0,U=C&67108863}p.words[f]=U|0,m=x|0}return m!==0?p.words[f]=m|0:p.length--,p._strip()}var I=function(u,p,v){var y=u.words,S=p.words,C=v.words,k=0,m,f,x,U=y[0]|0,G=U&8191,A=U>>>13,N=y[1]|0,D=N&8191,V=N>>>13,oe=y[2]|0,E=oe&8191,M=oe>>>13,W=y[3]|0,H=W&8191,re=W>>>13,se=y[4]|0,ee=se&8191,pe=se>>>13,Kt=y[5]|0,Se=Kt&8191,Me=Kt>>>13,Er=y[6]|0,ye=Er&8191,me=Er>>>13,hr=y[7]|0,be=hr&8191,ge=hr>>>13,Rt=y[8]|0,xe=Rt&8191,Ce=Rt>>>13,kn=y[9]|0,Re=kn&8191,Ie=kn>>>13,Tn=S[0]|0,Ae=Tn&8191,ke=Tn>>>13,On=S[1]|0,Te=On&8191,Oe=On>>>13,Nn=S[2]|0,Ne=Nn&8191,Le=Nn>>>13,Ln=S[3]|0,Pe=Ln&8191,$e=Ln>>>13,Pn=S[4]|0,De=Pn&8191,je=Pn>>>13,$n=S[5]|0,Be=$n&8191,Fe=$n>>>13,Dn=S[6]|0,We=Dn&8191,He=Dn>>>13,jn=S[7]|0,Ve=jn&8191,Ue=jn>>>13,Bn=S[8]|0,ze=Bn&8191,qe=Bn>>>13,Fn=S[9]|0,Ge=Fn&8191,Je=Fn>>>13;v.negative=u.negative^p.negative,v.length=19,m=Math.imul(G,Ae),f=Math.imul(G,ke),f=f+Math.imul(A,Ae)|0,x=Math.imul(A,ke);var Wr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,m=Math.imul(D,Ae),f=Math.imul(D,ke),f=f+Math.imul(V,Ae)|0,x=Math.imul(V,ke),m=m+Math.imul(G,Te)|0,f=f+Math.imul(G,Oe)|0,f=f+Math.imul(A,Te)|0,x=x+Math.imul(A,Oe)|0;var Hr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,m=Math.imul(E,Ae),f=Math.imul(E,ke),f=f+Math.imul(M,Ae)|0,x=Math.imul(M,ke),m=m+Math.imul(D,Te)|0,f=f+Math.imul(D,Oe)|0,f=f+Math.imul(V,Te)|0,x=x+Math.imul(V,Oe)|0,m=m+Math.imul(G,Ne)|0,f=f+Math.imul(G,Le)|0,f=f+Math.imul(A,Ne)|0,x=x+Math.imul(A,Le)|0;var Vr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,m=Math.imul(H,Ae),f=Math.imul(H,ke),f=f+Math.imul(re,Ae)|0,x=Math.imul(re,ke),m=m+Math.imul(E,Te)|0,f=f+Math.imul(E,Oe)|0,f=f+Math.imul(M,Te)|0,x=x+Math.imul(M,Oe)|0,m=m+Math.imul(D,Ne)|0,f=f+Math.imul(D,Le)|0,f=f+Math.imul(V,Ne)|0,x=x+Math.imul(V,Le)|0,m=m+Math.imul(G,Pe)|0,f=f+Math.imul(G,$e)|0,f=f+Math.imul(A,Pe)|0,x=x+Math.imul(A,$e)|0;var Ur=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,m=Math.imul(ee,Ae),f=Math.imul(ee,ke),f=f+Math.imul(pe,Ae)|0,x=Math.imul(pe,ke),m=m+Math.imul(H,Te)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(re,Te)|0,x=x+Math.imul(re,Oe)|0,m=m+Math.imul(E,Ne)|0,f=f+Math.imul(E,Le)|0,f=f+Math.imul(M,Ne)|0,x=x+Math.imul(M,Le)|0,m=m+Math.imul(D,Pe)|0,f=f+Math.imul(D,$e)|0,f=f+Math.imul(V,Pe)|0,x=x+Math.imul(V,$e)|0,m=m+Math.imul(G,De)|0,f=f+Math.imul(G,je)|0,f=f+Math.imul(A,De)|0,x=x+Math.imul(A,je)|0;var zr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(zr>>>26)|0,zr&=67108863,m=Math.imul(Se,Ae),f=Math.imul(Se,ke),f=f+Math.imul(Me,Ae)|0,x=Math.imul(Me,ke),m=m+Math.imul(ee,Te)|0,f=f+Math.imul(ee,Oe)|0,f=f+Math.imul(pe,Te)|0,x=x+Math.imul(pe,Oe)|0,m=m+Math.imul(H,Ne)|0,f=f+Math.imul(H,Le)|0,f=f+Math.imul(re,Ne)|0,x=x+Math.imul(re,Le)|0,m=m+Math.imul(E,Pe)|0,f=f+Math.imul(E,$e)|0,f=f+Math.imul(M,Pe)|0,x=x+Math.imul(M,$e)|0,m=m+Math.imul(D,De)|0,f=f+Math.imul(D,je)|0,f=f+Math.imul(V,De)|0,x=x+Math.imul(V,je)|0,m=m+Math.imul(G,Be)|0,f=f+Math.imul(G,Fe)|0,f=f+Math.imul(A,Be)|0,x=x+Math.imul(A,Fe)|0;var qr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(qr>>>26)|0,qr&=67108863,m=Math.imul(ye,Ae),f=Math.imul(ye,ke),f=f+Math.imul(me,Ae)|0,x=Math.imul(me,ke),m=m+Math.imul(Se,Te)|0,f=f+Math.imul(Se,Oe)|0,f=f+Math.imul(Me,Te)|0,x=x+Math.imul(Me,Oe)|0,m=m+Math.imul(ee,Ne)|0,f=f+Math.imul(ee,Le)|0,f=f+Math.imul(pe,Ne)|0,x=x+Math.imul(pe,Le)|0,m=m+Math.imul(H,Pe)|0,f=f+Math.imul(H,$e)|0,f=f+Math.imul(re,Pe)|0,x=x+Math.imul(re,$e)|0,m=m+Math.imul(E,De)|0,f=f+Math.imul(E,je)|0,f=f+Math.imul(M,De)|0,x=x+Math.imul(M,je)|0,m=m+Math.imul(D,Be)|0,f=f+Math.imul(D,Fe)|0,f=f+Math.imul(V,Be)|0,x=x+Math.imul(V,Fe)|0,m=m+Math.imul(G,We)|0,f=f+Math.imul(G,He)|0,f=f+Math.imul(A,We)|0,x=x+Math.imul(A,He)|0;var Gr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,m=Math.imul(be,Ae),f=Math.imul(be,ke),f=f+Math.imul(ge,Ae)|0,x=Math.imul(ge,ke),m=m+Math.imul(ye,Te)|0,f=f+Math.imul(ye,Oe)|0,f=f+Math.imul(me,Te)|0,x=x+Math.imul(me,Oe)|0,m=m+Math.imul(Se,Ne)|0,f=f+Math.imul(Se,Le)|0,f=f+Math.imul(Me,Ne)|0,x=x+Math.imul(Me,Le)|0,m=m+Math.imul(ee,Pe)|0,f=f+Math.imul(ee,$e)|0,f=f+Math.imul(pe,Pe)|0,x=x+Math.imul(pe,$e)|0,m=m+Math.imul(H,De)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(re,De)|0,x=x+Math.imul(re,je)|0,m=m+Math.imul(E,Be)|0,f=f+Math.imul(E,Fe)|0,f=f+Math.imul(M,Be)|0,x=x+Math.imul(M,Fe)|0,m=m+Math.imul(D,We)|0,f=f+Math.imul(D,He)|0,f=f+Math.imul(V,We)|0,x=x+Math.imul(V,He)|0,m=m+Math.imul(G,Ve)|0,f=f+Math.imul(G,Ue)|0,f=f+Math.imul(A,Ve)|0,x=x+Math.imul(A,Ue)|0;var Jr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,m=Math.imul(xe,Ae),f=Math.imul(xe,ke),f=f+Math.imul(Ce,Ae)|0,x=Math.imul(Ce,ke),m=m+Math.imul(be,Te)|0,f=f+Math.imul(be,Oe)|0,f=f+Math.imul(ge,Te)|0,x=x+Math.imul(ge,Oe)|0,m=m+Math.imul(ye,Ne)|0,f=f+Math.imul(ye,Le)|0,f=f+Math.imul(me,Ne)|0,x=x+Math.imul(me,Le)|0,m=m+Math.imul(Se,Pe)|0,f=f+Math.imul(Se,$e)|0,f=f+Math.imul(Me,Pe)|0,x=x+Math.imul(Me,$e)|0,m=m+Math.imul(ee,De)|0,f=f+Math.imul(ee,je)|0,f=f+Math.imul(pe,De)|0,x=x+Math.imul(pe,je)|0,m=m+Math.imul(H,Be)|0,f=f+Math.imul(H,Fe)|0,f=f+Math.imul(re,Be)|0,x=x+Math.imul(re,Fe)|0,m=m+Math.imul(E,We)|0,f=f+Math.imul(E,He)|0,f=f+Math.imul(M,We)|0,x=x+Math.imul(M,He)|0,m=m+Math.imul(D,Ve)|0,f=f+Math.imul(D,Ue)|0,f=f+Math.imul(V,Ve)|0,x=x+Math.imul(V,Ue)|0,m=m+Math.imul(G,ze)|0,f=f+Math.imul(G,qe)|0,f=f+Math.imul(A,ze)|0,x=x+Math.imul(A,qe)|0;var Zr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,m=Math.imul(Re,Ae),f=Math.imul(Re,ke),f=f+Math.imul(Ie,Ae)|0,x=Math.imul(Ie,ke),m=m+Math.imul(xe,Te)|0,f=f+Math.imul(xe,Oe)|0,f=f+Math.imul(Ce,Te)|0,x=x+Math.imul(Ce,Oe)|0,m=m+Math.imul(be,Ne)|0,f=f+Math.imul(be,Le)|0,f=f+Math.imul(ge,Ne)|0,x=x+Math.imul(ge,Le)|0,m=m+Math.imul(ye,Pe)|0,f=f+Math.imul(ye,$e)|0,f=f+Math.imul(me,Pe)|0,x=x+Math.imul(me,$e)|0,m=m+Math.imul(Se,De)|0,f=f+Math.imul(Se,je)|0,f=f+Math.imul(Me,De)|0,x=x+Math.imul(Me,je)|0,m=m+Math.imul(ee,Be)|0,f=f+Math.imul(ee,Fe)|0,f=f+Math.imul(pe,Be)|0,x=x+Math.imul(pe,Fe)|0,m=m+Math.imul(H,We)|0,f=f+Math.imul(H,He)|0,f=f+Math.imul(re,We)|0,x=x+Math.imul(re,He)|0,m=m+Math.imul(E,Ve)|0,f=f+Math.imul(E,Ue)|0,f=f+Math.imul(M,Ve)|0,x=x+Math.imul(M,Ue)|0,m=m+Math.imul(D,ze)|0,f=f+Math.imul(D,qe)|0,f=f+Math.imul(V,ze)|0,x=x+Math.imul(V,qe)|0,m=m+Math.imul(G,Ge)|0,f=f+Math.imul(G,Je)|0,f=f+Math.imul(A,Ge)|0,x=x+Math.imul(A,Je)|0;var Qr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,m=Math.imul(Re,Te),f=Math.imul(Re,Oe),f=f+Math.imul(Ie,Te)|0,x=Math.imul(Ie,Oe),m=m+Math.imul(xe,Ne)|0,f=f+Math.imul(xe,Le)|0,f=f+Math.imul(Ce,Ne)|0,x=x+Math.imul(Ce,Le)|0,m=m+Math.imul(be,Pe)|0,f=f+Math.imul(be,$e)|0,f=f+Math.imul(ge,Pe)|0,x=x+Math.imul(ge,$e)|0,m=m+Math.imul(ye,De)|0,f=f+Math.imul(ye,je)|0,f=f+Math.imul(me,De)|0,x=x+Math.imul(me,je)|0,m=m+Math.imul(Se,Be)|0,f=f+Math.imul(Se,Fe)|0,f=f+Math.imul(Me,Be)|0,x=x+Math.imul(Me,Fe)|0,m=m+Math.imul(ee,We)|0,f=f+Math.imul(ee,He)|0,f=f+Math.imul(pe,We)|0,x=x+Math.imul(pe,He)|0,m=m+Math.imul(H,Ve)|0,f=f+Math.imul(H,Ue)|0,f=f+Math.imul(re,Ve)|0,x=x+Math.imul(re,Ue)|0,m=m+Math.imul(E,ze)|0,f=f+Math.imul(E,qe)|0,f=f+Math.imul(M,ze)|0,x=x+Math.imul(M,qe)|0,m=m+Math.imul(D,Ge)|0,f=f+Math.imul(D,Je)|0,f=f+Math.imul(V,Ge)|0,x=x+Math.imul(V,Je)|0;var Yr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,m=Math.imul(Re,Ne),f=Math.imul(Re,Le),f=f+Math.imul(Ie,Ne)|0,x=Math.imul(Ie,Le),m=m+Math.imul(xe,Pe)|0,f=f+Math.imul(xe,$e)|0,f=f+Math.imul(Ce,Pe)|0,x=x+Math.imul(Ce,$e)|0,m=m+Math.imul(be,De)|0,f=f+Math.imul(be,je)|0,f=f+Math.imul(ge,De)|0,x=x+Math.imul(ge,je)|0,m=m+Math.imul(ye,Be)|0,f=f+Math.imul(ye,Fe)|0,f=f+Math.imul(me,Be)|0,x=x+Math.imul(me,Fe)|0,m=m+Math.imul(Se,We)|0,f=f+Math.imul(Se,He)|0,f=f+Math.imul(Me,We)|0,x=x+Math.imul(Me,He)|0,m=m+Math.imul(ee,Ve)|0,f=f+Math.imul(ee,Ue)|0,f=f+Math.imul(pe,Ve)|0,x=x+Math.imul(pe,Ue)|0,m=m+Math.imul(H,ze)|0,f=f+Math.imul(H,qe)|0,f=f+Math.imul(re,ze)|0,x=x+Math.imul(re,qe)|0,m=m+Math.imul(E,Ge)|0,f=f+Math.imul(E,Je)|0,f=f+Math.imul(M,Ge)|0,x=x+Math.imul(M,Je)|0;var Kr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Kr>>>26)|0,Kr&=67108863,m=Math.imul(Re,Pe),f=Math.imul(Re,$e),f=f+Math.imul(Ie,Pe)|0,x=Math.imul(Ie,$e),m=m+Math.imul(xe,De)|0,f=f+Math.imul(xe,je)|0,f=f+Math.imul(Ce,De)|0,x=x+Math.imul(Ce,je)|0,m=m+Math.imul(be,Be)|0,f=f+Math.imul(be,Fe)|0,f=f+Math.imul(ge,Be)|0,x=x+Math.imul(ge,Fe)|0,m=m+Math.imul(ye,We)|0,f=f+Math.imul(ye,He)|0,f=f+Math.imul(me,We)|0,x=x+Math.imul(me,He)|0,m=m+Math.imul(Se,Ve)|0,f=f+Math.imul(Se,Ue)|0,f=f+Math.imul(Me,Ve)|0,x=x+Math.imul(Me,Ue)|0,m=m+Math.imul(ee,ze)|0,f=f+Math.imul(ee,qe)|0,f=f+Math.imul(pe,ze)|0,x=x+Math.imul(pe,qe)|0,m=m+Math.imul(H,Ge)|0,f=f+Math.imul(H,Je)|0,f=f+Math.imul(re,Ge)|0,x=x+Math.imul(re,Je)|0;var Xr=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,m=Math.imul(Re,De),f=Math.imul(Re,je),f=f+Math.imul(Ie,De)|0,x=Math.imul(Ie,je),m=m+Math.imul(xe,Be)|0,f=f+Math.imul(xe,Fe)|0,f=f+Math.imul(Ce,Be)|0,x=x+Math.imul(Ce,Fe)|0,m=m+Math.imul(be,We)|0,f=f+Math.imul(be,He)|0,f=f+Math.imul(ge,We)|0,x=x+Math.imul(ge,He)|0,m=m+Math.imul(ye,Ve)|0,f=f+Math.imul(ye,Ue)|0,f=f+Math.imul(me,Ve)|0,x=x+Math.imul(me,Ue)|0,m=m+Math.imul(Se,ze)|0,f=f+Math.imul(Se,qe)|0,f=f+Math.imul(Me,ze)|0,x=x+Math.imul(Me,qe)|0,m=m+Math.imul(ee,Ge)|0,f=f+Math.imul(ee,Je)|0,f=f+Math.imul(pe,Ge)|0,x=x+Math.imul(pe,Je)|0;var en=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(en>>>26)|0,en&=67108863,m=Math.imul(Re,Be),f=Math.imul(Re,Fe),f=f+Math.imul(Ie,Be)|0,x=Math.imul(Ie,Fe),m=m+Math.imul(xe,We)|0,f=f+Math.imul(xe,He)|0,f=f+Math.imul(Ce,We)|0,x=x+Math.imul(Ce,He)|0,m=m+Math.imul(be,Ve)|0,f=f+Math.imul(be,Ue)|0,f=f+Math.imul(ge,Ve)|0,x=x+Math.imul(ge,Ue)|0,m=m+Math.imul(ye,ze)|0,f=f+Math.imul(ye,qe)|0,f=f+Math.imul(me,ze)|0,x=x+Math.imul(me,qe)|0,m=m+Math.imul(Se,Ge)|0,f=f+Math.imul(Se,Je)|0,f=f+Math.imul(Me,Ge)|0,x=x+Math.imul(Me,Je)|0;var xa=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(xa>>>26)|0,xa&=67108863,m=Math.imul(Re,We),f=Math.imul(Re,He),f=f+Math.imul(Ie,We)|0,x=Math.imul(Ie,He),m=m+Math.imul(xe,Ve)|0,f=f+Math.imul(xe,Ue)|0,f=f+Math.imul(Ce,Ve)|0,x=x+Math.imul(Ce,Ue)|0,m=m+Math.imul(be,ze)|0,f=f+Math.imul(be,qe)|0,f=f+Math.imul(ge,ze)|0,x=x+Math.imul(ge,qe)|0,m=m+Math.imul(ye,Ge)|0,f=f+Math.imul(ye,Je)|0,f=f+Math.imul(me,Ge)|0,x=x+Math.imul(me,Je)|0;var Ca=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,m=Math.imul(Re,Ve),f=Math.imul(Re,Ue),f=f+Math.imul(Ie,Ve)|0,x=Math.imul(Ie,Ue),m=m+Math.imul(xe,ze)|0,f=f+Math.imul(xe,qe)|0,f=f+Math.imul(Ce,ze)|0,x=x+Math.imul(Ce,qe)|0,m=m+Math.imul(be,Ge)|0,f=f+Math.imul(be,Je)|0,f=f+Math.imul(ge,Ge)|0,x=x+Math.imul(ge,Je)|0;var Ra=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Ra>>>26)|0,Ra&=67108863,m=Math.imul(Re,ze),f=Math.imul(Re,qe),f=f+Math.imul(Ie,ze)|0,x=Math.imul(Ie,qe),m=m+Math.imul(xe,Ge)|0,f=f+Math.imul(xe,Je)|0,f=f+Math.imul(Ce,Ge)|0,x=x+Math.imul(Ce,Je)|0;var Ia=(k+m|0)+((f&8191)<<13)|0;k=(x+(f>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,m=Math.imul(Re,Ge),f=Math.imul(Re,Je),f=f+Math.imul(Ie,Ge)|0,x=Math.imul(Ie,Je);var Aa=(k+m|0)+((f&8191)<<13)|0;return k=(x+(f>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,C[0]=Wr,C[1]=Hr,C[2]=Vr,C[3]=Ur,C[4]=zr,C[5]=qr,C[6]=Gr,C[7]=Jr,C[8]=Zr,C[9]=Qr,C[10]=Yr,C[11]=Kr,C[12]=Xr,C[13]=en,C[14]=xa,C[15]=Ca,C[16]=Ra,C[17]=Ia,C[18]=Aa,k!==0&&(C[19]=k,v.length++),v};Math.imul||(I=w);function T(b,u,p){p.negative=u.negative^b.negative,p.length=b.length+u.length;for(var v=0,y=0,S=0;S<p.length-1;S++){var C=y;y=0;for(var k=v&67108863,m=Math.min(S,u.length-1),f=Math.max(0,S-b.length+1);f<=m;f++){var x=S-f,U=b.words[x]|0,G=u.words[f]|0,A=U*G,N=A&67108863;C=C+(A/67108864|0)|0,N=N+k|0,k=N&67108863,C=C+(N>>>26)|0,y+=C>>>26,C&=67108863}p.words[S]=k,v=C,C=y}return v!==0?p.words[S]=v:p.length--,p._strip()}function $(b,u,p){return T(b,u,p)}s.prototype.mulTo=function(u,p){var v,y=this.length+u.length;return this.length===10&&u.length===10?v=I(this,u,p):y<63?v=w(this,u,p):y<1024?v=T(this,u,p):v=$(this,u,p),v},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),$(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var p=u<0;p&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var v=0,y=0;y<this.length;y++){var S=(this.words[y]|0)*u,C=(S&67108863)+(v&67108863);v>>=26,v+=S/67108864|0,v+=C>>>26,this.words[y]=C&67108863}return v!==0&&(this.words[y]=v,this.length++),p?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=O(u);if(p.length===0)return new s(1);for(var v=this,y=0;y<p.length&&p[y]===0;y++,v=v.sqr());if(++y<p.length)for(var S=v.sqr();y<p.length;y++,S=S.sqr())p[y]!==0&&(v=v.mul(S));return v},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26,y=67108863>>>26-p<<26-p,S;if(p!==0){var C=0;for(S=0;S<this.length;S++){var k=this.words[S]&y,m=(this.words[S]|0)-k<<p;this.words[S]=m|C,C=k>>>26-p}C&&(this.words[S]=C,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,v){n(typeof u=="number"&&u>=0);var y;p?y=(p-p%26)/26:y=0;var S=u%26,C=Math.min((u-S)/26,this.length),k=67108863^67108863>>>S<<S,m=v;if(y-=C,y=Math.max(0,y),m){for(var f=0;f<C;f++)m.words[f]=this.words[f];m.length=C}if(C!==0)if(this.length>C)for(this.length-=C,f=0;f<this.length;f++)this.words[f]=this.words[f+C];else this.words[0]=0,this.length=1;var x=0;for(f=this.length-1;f>=0&&(x!==0||f>=y);f--){var U=this.words[f]|0;this.words[f]=x<<26-S|U>>>S,x=U&k}return m&&x!==0&&(m.words[m.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,p,v){return n(this.negative===0),this.iushrn(u,p,v)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26,y=1<<p;if(this.length<=v)return!1;var S=this.words[v];return!!(S&y)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(p!==0&&v++,this.length=Math.min(v,this.length),p!==0){var y=67108863^67108863>>>p<<p;this.words[this.length-1]&=y}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,v){var y=u.length+v,S;this._expand(y);var C,k=0;for(S=0;S<u.length;S++){C=(this.words[S+v]|0)+k;var m=(u.words[S]|0)*p;C-=m&67108863,k=(C>>26)-(m/67108864|0),this.words[S+v]=C&67108863}for(;S<this.length-v;S++)C=(this.words[S+v]|0)+k,k=C>>26,this.words[S+v]=C&67108863;if(k===0)return this._strip();for(n(k===-1),k=0,S=0;S<this.length;S++)C=-(this.words[S]|0)+k,k=C>>26,this.words[S]=C&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,p){var v=this.length-u.length,y=this.clone(),S=u,C=S.words[S.length-1]|0,k=this._countBits(C);v=26-k,v!==0&&(S=S.ushln(v),y.iushln(v),C=S.words[S.length-1]|0);var m=y.length-S.length,f;if(p!=="mod"){f=new s(null),f.length=m+1,f.words=new Array(f.length);for(var x=0;x<f.length;x++)f.words[x]=0}var U=y.clone()._ishlnsubmul(S,1,m);U.negative===0&&(y=U,f&&(f.words[m]=1));for(var G=m-1;G>=0;G--){var A=(y.words[S.length+G]|0)*67108864+(y.words[S.length+G-1]|0);for(A=Math.min(A/C|0,67108863),y._ishlnsubmul(S,A,G);y.negative!==0;)A--,y.negative=0,y._ishlnsubmul(S,1,G),y.isZero()||(y.negative^=1);f&&(f.words[G]=A)}return f&&f._strip(),y._strip(),p!=="div"&&v!==0&&y.iushrn(v),{div:f||null,mod:y}},s.prototype.divmod=function(u,p,v){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var y,S,C;return this.negative!==0&&u.negative===0?(C=this.neg().divmod(u,p),p!=="mod"&&(y=C.div.neg()),p!=="div"&&(S=C.mod.neg(),v&&S.negative!==0&&S.iadd(u)),{div:y,mod:S}):this.negative===0&&u.negative!==0?(C=this.divmod(u.neg(),p),p!=="mod"&&(y=C.div.neg()),{div:y,mod:C.mod}):this.negative&u.negative?(C=this.neg().divmod(u.neg(),p),p!=="div"&&(S=C.mod.neg(),v&&S.negative!==0&&S.isub(u)),{div:C.div,mod:S}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=p.div.negative!==0?p.mod.isub(u):p.mod,y=u.ushrn(1),S=u.andln(1),C=v.cmp(y);return C<0||S===1&&C===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var v=(1<<26)%u,y=0,S=this.length-1;S>=0;S--)y=(v*y+(this.words[S]|0))%u;return p?-y:y},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var p=u<0;p&&(u=-u),n(u<=67108863);for(var v=0,y=this.length-1;y>=0;y--){var S=(this.words[y]|0)+v*67108864;this.words[y]=S/u|0,v=S%u}return this._strip(),p?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var p=this,v=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var y=new s(1),S=new s(0),C=new s(0),k=new s(1),m=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++m;for(var f=v.clone(),x=p.clone();!p.isZero();){for(var U=0,G=1;!(p.words[0]&G)&&U<26;++U,G<<=1);if(U>0)for(p.iushrn(U);U-- >0;)(y.isOdd()||S.isOdd())&&(y.iadd(f),S.isub(x)),y.iushrn(1),S.iushrn(1);for(var A=0,N=1;!(v.words[0]&N)&&A<26;++A,N<<=1);if(A>0)for(v.iushrn(A);A-- >0;)(C.isOdd()||k.isOdd())&&(C.iadd(f),k.isub(x)),C.iushrn(1),k.iushrn(1);p.cmp(v)>=0?(p.isub(v),y.isub(C),S.isub(k)):(v.isub(p),C.isub(y),k.isub(S))}return{a:C,b:k,gcd:v.iushln(m)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var p=this,v=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var y=new s(1),S=new s(0),C=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var k=0,m=1;!(p.words[0]&m)&&k<26;++k,m<<=1);if(k>0)for(p.iushrn(k);k-- >0;)y.isOdd()&&y.iadd(C),y.iushrn(1);for(var f=0,x=1;!(v.words[0]&x)&&f<26;++f,x<<=1);if(f>0)for(v.iushrn(f);f-- >0;)S.isOdd()&&S.iadd(C),S.iushrn(1);p.cmp(v)>=0?(p.isub(v),y.isub(S)):(v.isub(p),S.isub(y))}var U;return p.cmpn(1)===0?U=y:U=S,U.cmpn(0)<0&&U.iadd(u),U},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var y=0;p.isEven()&&v.isEven();y++)p.iushrn(1),v.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=p.cmp(v);if(S<0){var C=p;p=v,v=C}else if(S===0||v.cmpn(1)===0)break;p.isub(v)}while(!0);return v.iushln(y)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var p=u%26,v=(u-p)/26,y=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=y,this;for(var S=y,C=v;S!==0&&C<this.length;C++){var k=this.words[C]|0;k+=S,S=k>>>26,k&=67108863,this.words[C]=k}return S!==0&&(this.words[C]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var v;if(this.length>1)v=1;else{p&&(u=-u),n(u<=67108863,"Number is too big");var y=this.words[0]|0;v=y===u?0:y<u?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var y=this.words[v]|0,S=u.words[v]|0;if(y!==S){y<S?p=-1:y>S&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new K(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var P={k256:null,p224:null,p192:null,p25519:null};function j(b,u){this.name=b,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},j.prototype.ireduce=function(u){var p=u,v;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),v=p.bitLength();while(v>this.n);var y=v<this.n?-1:p.ucmp(this.p);return y===0?(p.words[0]=0,p.length=1):y>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},j.prototype.split=function(u,p){u.iushrn(this.n,0,p)},j.prototype.imulK=function(u){return u.imul(this.k)};function q(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(q,j),q.prototype.split=function(u,p){for(var v=4194303,y=Math.min(u.length,9),S=0;S<y;S++)p.words[S]=u.words[S];if(p.length=y,u.length<=9){u.words[0]=0,u.length=1;return}var C=u.words[9];for(p.words[p.length++]=C&v,S=10;S<u.length;S++){var k=u.words[S]|0;u.words[S-10]=(k&v)<<4|C>>>22,C=k}C>>>=22,u.words[S-10]=C,C===0&&u.length>10?u.length-=10:u.length-=9},q.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var y=u.words[v]|0;p+=y*977,u.words[v]=p&67108863,p=y*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function z(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,j);function F(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(F,j);function Z(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Z,j),Z.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var y=(u.words[v]|0)*19+p,S=y&67108863;y>>>=26,u.words[v]=S,p=y}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if(P[u])return P[u];var p;if(u==="k256")p=new q;else if(u==="p224")p=new z;else if(u==="p192")p=new F;else if(u==="p25519")p=new Z;else throw new Error("Unknown prime "+u);return P[u]=p,p};function K(b){if(typeof b=="string"){var u=s._prime(b);this.m=u.p,this.prime=u}else n(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}K.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},K.prototype._verify2=function(u,p){n((u.negative|p.negative)===0,"red works only with positives"),n(u.red&&u.red===p.red,"red works only with red numbers")},K.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(h(u,u.umod(this.m)._forceRed(this)),u)},K.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},K.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},K.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},K.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},K.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},K.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},K.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},K.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},K.prototype.isqr=function(u){return this.imul(u,u.clone())},K.prototype.sqr=function(u){return this.mul(u,u)},K.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(u,v)}for(var y=this.m.subn(1),S=0;!y.isZero()&&y.andln(1)===0;)S++,y.iushrn(1);n(!y.isZero());var C=new s(1).toRed(this),k=C.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,m).cmp(k)!==0;)f.redIAdd(k);for(var x=this.pow(f,y),U=this.pow(u,y.addn(1).iushrn(1)),G=this.pow(u,y),A=S;G.cmp(C)!==0;){for(var N=G,D=0;N.cmp(C)!==0;D++)N=N.redSqr();n(D<A);var V=this.pow(x,new s(1).iushln(A-D-1));U=U.redMul(V),x=V.redSqr(),G=G.redMul(x),A=D}return U},K.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},K.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var v=4,y=new Array(1<<v);y[0]=new s(1).toRed(this),y[1]=u;for(var S=2;S<y.length;S++)y[S]=this.mul(y[S-1],u);var C=y[0],k=0,m=0,f=p.bitLength()%26;for(f===0&&(f=26),S=p.length-1;S>=0;S--){for(var x=p.words[S],U=f-1;U>=0;U--){var G=x>>U&1;if(C!==y[0]&&(C=this.sqr(C)),G===0&&k===0){m=0;continue}k<<=1,k|=G,m++,!(m!==v&&(S!==0||U!==0))&&(C=this.mul(C,y[k]),m=0,k=0)}f=26}return C},K.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},K.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new X(u)};function X(b){K.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(X,K),X.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},X.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},X.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(y).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},X.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var v=u.mul(p),y=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(y).iushrn(this.shift),C=S;return S.cmp(this.m)>=0?C=S.isub(this.m):S.cmpn(0)<0&&(C=S.iadd(this.m)),C._forceRed(this)},X.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,J)})(Xu);var So=Xu.exports,wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.EVENTS=void 0;wi.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var ss={},Wh={},Or={},Hh=Ki;Ki.default=Ki;Ki.stable=zh;Ki.stableStringify=zh;var eo="[...]",Vh="[Circular]",gn=[],ln=[];function Uh(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Ki(t,e,r,n){typeof n>"u"&&(n=Uh()),_u(t,"",0,[],void 0,0,n);var i;try{ln.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,qh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var s=gn.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Kn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),gn.push([n,r,e,i])):ln.push([e,r,t]):(n[r]=t,gn.push([n,r,e]))}function _u(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Kn(Vh,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Kn(eo,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Kn(eo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)_u(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];_u(t[l],l,a,n,t,s,o)}}n.pop()}}function Bg(t,e){return t<e?-1:t>e?1:0}function zh(t,e,r,n){typeof n>"u"&&(n=Uh());var i=wu(t,"",0,[],void 0,0,n)||t,s;try{ln.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,qh(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;gn.length!==0;){var o=gn.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function wu(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Kn(Vh,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Kn(eo,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Kn(eo,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)wu(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(Bg);for(a=0;a<l.length;a++){var h=l[a];wu(t[h],h,a,n,t,s,o),c[h]=t[h]}if(typeof i<"u")gn.push([i,e,t]),i[e]=c;else return c}n.pop()}}function qh(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(ln.length>0)for(var n=0;n<ln.length;n++){var i=ln[n];if(i[1]===e&&i[0]===r){r=i[2],ln.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Or,"__esModule",{value:!0});Or.EthereumProviderError=Or.EthereumRpcError=void 0;const Fg=Hh;let Gh=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Fg.default(this.serialize(),Vg,2)}};Or.EthereumRpcError=Gh;let Wg=class extends Gh{constructor(e,r,n){if(!Hg(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};Or.EthereumProviderError=Wg;function Hg(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Vg(t,e){if(e!=="[Circular]")return e}var ec={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.errorValues=Nr.errorCodes=void 0;Nr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Nr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Nr,r=Or,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(g,_=i){if(Number.isInteger(g)){const R=g.toString();if(d(e.errorValues,R))return e.errorValues[R].message;if(l(g))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return _}t.getMessageFromCode=o;function a(g){if(!Number.isInteger(g))return!1;const _=g.toString();return!!(e.errorValues[_]||l(g))}t.isValidCode=a;function c(g,{fallbackError:_=s,shouldIncludeStack:R=!1}={}){var L,O;if(!_||!Number.isInteger(_.code)||typeof _.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(g instanceof r.EthereumRpcError)return g.serialize();const w={};if(g&&typeof g=="object"&&!Array.isArray(g)&&d(g,"code")&&a(g.code)){const T=g;w.code=T.code,T.message&&typeof T.message=="string"?(w.message=T.message,d(T,"data")&&(w.data=T.data)):(w.message=o(w.code),w.data={originalError:h(g)})}else{w.code=_.code;const T=(L=g)===null||L===void 0?void 0:L.message;w.message=T&&typeof T=="string"?T:_.message,w.data={originalError:h(g)}}const I=(O=g)===null||O===void 0?void 0:O.stack;return R&&g&&I&&typeof I=="string"&&(w.stack=I),w}t.serializeError=c;function l(g){return g>=-32099&&g<=-32e3}function h(g){return g&&typeof g=="object"&&!Array.isArray(g)?Object.assign({},g):g}function d(g,_){return Object.prototype.hasOwnProperty.call(g,_)}})(ec);var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.ethErrors=void 0;const tc=Or,Jh=ec,gt=Nr;Eo.ethErrors={rpc:{parse:t=>Ot(gt.errorCodes.rpc.parse,t),invalidRequest:t=>Ot(gt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ot(gt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ot(gt.errorCodes.rpc.methodNotFound,t),internal:t=>Ot(gt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ot(e,t)},invalidInput:t=>Ot(gt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ot(gt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ot(gt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ot(gt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ot(gt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ot(gt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Li(gt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Li(gt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Li(gt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Li(gt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Li(gt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new tc.EthereumProviderError(e,r,n)}}};function Ot(t,e){const[r,n]=Zh(e);return new tc.EthereumRpcError(t,r||Jh.getMessageFromCode(t),n)}function Li(t,e){const[r,n]=Zh(e);return new tc.EthereumProviderError(t,r||Jh.getMessageFromCode(t),n)}function Zh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Or;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=ec;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Eo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Nr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Wh);var Ee={},Mo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Mo);Object.defineProperty(Ee,"__esModule",{value:!0});Ee.EthereumAddressFromSignedMessageResponse=Ee.SubmitEthereumTransactionResponse=Ee.SignEthereumTransactionResponse=Ee.SignEthereumMessageResponse=Ee.isRequestEthereumAccountsResponse=Ee.SelectProviderResponse=Ee.WatchAssetReponse=Ee.RequestEthereumAccountsResponse=Ee.SwitchEthereumChainResponse=Ee.AddEthereumChainResponse=Ee.isErrorResponse=void 0;const fr=Mo;function Ug(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}Ee.isErrorResponse=Ug;function zg(t){return{method:fr.Web3Method.addEthereumChain,result:t}}Ee.AddEthereumChainResponse=zg;function qg(t){return{method:fr.Web3Method.switchEthereumChain,result:t}}Ee.SwitchEthereumChainResponse=qg;function Gg(t){return{method:fr.Web3Method.requestEthereumAccounts,result:t}}Ee.RequestEthereumAccountsResponse=Gg;function Jg(t){return{method:fr.Web3Method.watchAsset,result:t}}Ee.WatchAssetReponse=Jg;function Zg(t){return{method:fr.Web3Method.selectProvider,result:t}}Ee.SelectProviderResponse=Zg;function Qg(t){return t&&t.method===fr.Web3Method.requestEthereumAccounts}Ee.isRequestEthereumAccountsResponse=Qg;function Yg(t){return{method:fr.Web3Method.signEthereumMessage,result:t}}Ee.SignEthereumMessageResponse=Yg;function Kg(t){return{method:fr.Web3Method.signEthereumTransaction,result:t}}Ee.SignEthereumTransactionResponse=Kg;function Xg(t){return{method:fr.Web3Method.submitEthereumTransaction,result:t}}Ee.SubmitEthereumTransactionResponse=Xg;function ev(t){return{method:fr.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ee.EthereumAddressFromSignedMessageResponse=ev;var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.LIB_VERSION=void 0;Si.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Wh,r=Ee,n=Si;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(h){return h!==void 0?(0,e.getMessageFromCode)(h):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(h="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${h}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(h,d){const g=(0,e.serializeError)(o(h),{shouldIncludeStack:!0}),_=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");_.searchParams.set("version",n.LIB_VERSION),_.searchParams.set("code",g.code.toString());const R=a(g.data,d);return R&&_.searchParams.set("method",R),_.searchParams.set("message",g.message),Object.assign(Object.assign({},g),{docUrl:_.href})}t.serializeError=s;function o(h){return typeof h=="string"?{message:h,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(h)?Object.assign(Object.assign({},h),{message:h.errorMessage,code:h.errorCode,data:{method:h.method,result:h.result}}):h}function a(h,d){var g;const _=(g=h)===null||g===void 0?void 0:g.method;if(_)return _;if(d!==void 0)return typeof d=="string"?d:Array.isArray(d)?d.length>0?d[0].method:void 0:d.method}function c(h){var d;if(typeof h=="number")return h;if(l(h))return(d=h.code)!==null&&d!==void 0?d:h.errorCode}t.getErrorCode=c;function l(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}})(ss);var Ei={},Qh={exports:{}},Su={exports:{}};typeof Object.create=="function"?Su.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Su.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var Zt=Su.exports,Eu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=yo,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Eu,Eu.exports);var Br=Eu.exports,Yh=Br.Buffer;function xo(t,e){this._block=Yh.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}xo.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Yh.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};xo.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};xo.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Mi=xo,tv=Zt,Kh=Mi,rv=Br.Buffer,nv=[1518500249,1859775393,-1894007588,-899497514],iv=new Array(80);function os(){this.init(),this._w=iv,Kh.call(this,64,56)}tv(os,Kh);os.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function sv(t){return t<<5|t>>>27}function ov(t){return t<<30|t>>>2}function av(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}os.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),h=sv(r)+av(l,n,i,s)+o+e[c]+nv[l]|0;o=s,s=i,i=ov(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};os.prototype._hash=function(){var t=rv.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var uv=os,cv=Zt,Xh=Mi,lv=Br.Buffer,fv=[1518500249,1859775393,-1894007588,-899497514],hv=new Array(80);function as(){this.init(),this._w=hv,Xh.call(this,64,56)}cv(as,Xh);as.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function dv(t){return t<<1|t>>>31}function pv(t){return t<<5|t>>>27}function gv(t){return t<<30|t>>>2}function vv(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}as.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=dv(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),h=pv(r)+vv(l,n,i,s)+o+e[c]+fv[l]|0;o=s,s=i,i=gv(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};as.prototype._hash=function(){var t=lv.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var bv=as,yv=Zt,ed=Mi,mv=Br.Buffer,_v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],wv=new Array(64);function us(){this.init(),this._w=wv,ed.call(this,64,56)}yv(us,ed);us.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Sv(t,e,r){return r^t&(e^r)}function Ev(t,e,r){return t&e|r&(t|e)}function Mv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function xv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Cv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Rv(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}us.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,h=0;h<16;++h)e[h]=t.readInt32BE(h*4);for(;h<64;++h)e[h]=Rv(e[h-2])+e[h-7]+Cv(e[h-15])+e[h-16]|0;for(var d=0;d<64;++d){var g=l+xv(o)+Sv(o,a,c)+_v[d]+e[d]|0,_=Mv(r)+Ev(r,n,i)|0;l=c,c=a,a=o,o=s+g|0,s=i,i=n,n=r,r=g+_|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};us.prototype._hash=function(){var t=mv.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var td=us,Iv=Zt,Av=td,kv=Mi,Tv=Br.Buffer,Ov=new Array(64);function Co(){this.init(),this._w=Ov,kv.call(this,64,56)}Iv(Co,Av);Co.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Co.prototype._hash=function(){var t=Tv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Nv=Co,Lv=Zt,rd=Mi,Pv=Br.Buffer,pl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$v=new Array(160);function cs(){this.init(),this._w=$v,rd.call(this,128,112)}Lv(cs,rd);cs.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function gl(t,e,r){return r^t&(e^r)}function vl(t,e,r){return t&e|r&(t|e)}function bl(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function yl(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Dv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function jv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Bv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Fv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ot(t,e){return t>>>0<e>>>0?1:0}cs.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,h=this._al|0,d=this._bl|0,g=this._cl|0,_=this._dl|0,R=this._el|0,L=this._fl|0,O=this._gl|0,w=this._hl|0,I=0;I<32;I+=2)e[I]=t.readInt32BE(I*4),e[I+1]=t.readInt32BE(I*4+4);for(;I<160;I+=2){var T=e[I-30],$=e[I-15*2+1],P=Dv(T,$),j=jv($,T);T=e[I-2*2],$=e[I-2*2+1];var q=Bv(T,$),z=Fv($,T),F=e[I-7*2],Z=e[I-7*2+1],K=e[I-16*2],X=e[I-16*2+1],b=j+Z|0,u=P+F+ot(b,j)|0;b=b+z|0,u=u+q+ot(b,z)|0,b=b+X|0,u=u+K+ot(b,X)|0,e[I]=u,e[I+1]=b}for(var p=0;p<160;p+=2){u=e[p],b=e[p+1];var v=vl(r,n,i),y=vl(h,d,g),S=bl(r,h),C=bl(h,r),k=yl(o,R),m=yl(R,o),f=pl[p],x=pl[p+1],U=gl(o,a,c),G=gl(R,L,O),A=w+m|0,N=l+k+ot(A,w)|0;A=A+G|0,N=N+U+ot(A,G)|0,A=A+x|0,N=N+f+ot(A,x)|0,A=A+b|0,N=N+u+ot(A,b)|0;var D=C+y|0,V=S+v+ot(D,C)|0;l=c,w=O,c=a,O=L,a=o,L=R,R=_+A|0,o=s+N+ot(R,_)|0,s=i,_=g,i=n,g=d,n=r,d=h,h=A+D|0,r=N+V+ot(h,A)|0}this._al=this._al+h|0,this._bl=this._bl+d|0,this._cl=this._cl+g|0,this._dl=this._dl+_|0,this._el=this._el+R|0,this._fl=this._fl+L|0,this._gl=this._gl+O|0,this._hl=this._hl+w|0,this._ah=this._ah+r+ot(this._al,h)|0,this._bh=this._bh+n+ot(this._bl,d)|0,this._ch=this._ch+i+ot(this._cl,g)|0,this._dh=this._dh+s+ot(this._dl,_)|0,this._eh=this._eh+o+ot(this._el,R)|0,this._fh=this._fh+a+ot(this._fl,L)|0,this._gh=this._gh+c+ot(this._gl,O)|0,this._hh=this._hh+l+ot(this._hl,w)|0};cs.prototype._hash=function(){var t=Pv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var nd=cs,Wv=Zt,Hv=nd,Vv=Mi,Uv=Br.Buffer,zv=new Array(160);function Ro(){this.init(),this._w=zv,Vv.call(this,128,112)}Wv(Ro,Hv);Ro.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ro.prototype._hash=function(){var t=Uv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var qv=Ro,Sn=Qh.exports=function(e){e=e.toLowerCase();var r=Sn[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Sn.sha=uv;Sn.sha1=bv;Sn.sha224=Nv;Sn.sha256=td;Sn.sha384=qv;Sn.sha512=nd;var Gv=Qh.exports,Q={},Jv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},ml=typeof Symbol<"u"&&Symbol,Zv=Jv,Qv=function(){return typeof ml!="function"||typeof Symbol!="function"||typeof ml("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zv()},_l={foo:{}},Yv=Object,Kv=function(){return{__proto__:_l}.foo===_l.foo&&!({__proto__:null}instanceof Yv)},Xv="Function.prototype.bind called on incompatible ",eb=Object.prototype.toString,tb=Math.max,rb="[object Function]",wl=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},nb=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},ib=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},sb=function(e){var r=this;if(typeof r!="function"||eb.apply(r)!==rb)throw new TypeError(Xv+r);for(var n=nb(arguments,1),i,s=function(){if(this instanceof i){var h=r.apply(this,wl(n,arguments));return Object(h)===h?h:this}return r.apply(e,wl(n,arguments))},o=tb(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+ib(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},ob=sb,rc=Function.prototype.bind||ob,ab=Function.prototype.call,ub=Object.prototype.hasOwnProperty,cb=rc,lb=cb.call(ab,ub),le,si=SyntaxError,id=Function,Xn=TypeError,ka=function(t){try{return id('"use strict"; return ('+t+").constructor;")()}catch{}},dn=Object.getOwnPropertyDescriptor;if(dn)try{dn({},"")}catch{dn=null}var Ta=function(){throw new Xn},fb=dn?function(){try{return arguments.callee,Ta}catch{try{return dn(arguments,"callee").get}catch{return Ta}}}():Ta,Wn=Qv(),hb=Kv(),ct=Object.getPrototypeOf||(hb?function(t){return t.__proto__}:null),Jn={},db=typeof Uint8Array>"u"||!ct?le:ct(Uint8Array),pn={"%AggregateError%":typeof AggregateError>"u"?le:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?le:ArrayBuffer,"%ArrayIteratorPrototype%":Wn&&ct?ct([][Symbol.iterator]()):le,"%AsyncFromSyncIteratorPrototype%":le,"%AsyncFunction%":Jn,"%AsyncGenerator%":Jn,"%AsyncGeneratorFunction%":Jn,"%AsyncIteratorPrototype%":Jn,"%Atomics%":typeof Atomics>"u"?le:Atomics,"%BigInt%":typeof BigInt>"u"?le:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?le:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?le:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?le:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?le:Float32Array,"%Float64Array%":typeof Float64Array>"u"?le:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?le:FinalizationRegistry,"%Function%":id,"%GeneratorFunction%":Jn,"%Int8Array%":typeof Int8Array>"u"?le:Int8Array,"%Int16Array%":typeof Int16Array>"u"?le:Int16Array,"%Int32Array%":typeof Int32Array>"u"?le:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Wn&&ct?ct(ct([][Symbol.iterator]())):le,"%JSON%":typeof JSON=="object"?JSON:le,"%Map%":typeof Map>"u"?le:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Wn||!ct?le:ct(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?le:Promise,"%Proxy%":typeof Proxy>"u"?le:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?le:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?le:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Wn||!ct?le:ct(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?le:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Wn&&ct?ct(""[Symbol.iterator]()):le,"%Symbol%":Wn?Symbol:le,"%SyntaxError%":si,"%ThrowTypeError%":fb,"%TypedArray%":db,"%TypeError%":Xn,"%Uint8Array%":typeof Uint8Array>"u"?le:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?le:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?le:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?le:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?le:WeakMap,"%WeakRef%":typeof WeakRef>"u"?le:WeakRef,"%WeakSet%":typeof WeakSet>"u"?le:WeakSet};if(ct)try{null.error}catch(t){var pb=ct(ct(t));pn["%Error.prototype%"]=pb}var gb=function t(e){var r;if(e==="%AsyncFunction%")r=ka("async function () {}");else if(e==="%GeneratorFunction%")r=ka("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ka("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&ct&&(r=ct(i.prototype))}return pn[e]=r,r},Sl={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ls=rc,to=lb,vb=ls.call(Function.call,Array.prototype.concat),bb=ls.call(Function.apply,Array.prototype.splice),El=ls.call(Function.call,String.prototype.replace),ro=ls.call(Function.call,String.prototype.slice),yb=ls.call(Function.call,RegExp.prototype.exec),mb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_b=/\\(\\)?/g,wb=function(e){var r=ro(e,0,1),n=ro(e,-1);if(r==="%"&&n!=="%")throw new si("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new si("invalid intrinsic syntax, expected opening `%`");var i=[];return El(e,mb,function(s,o,a,c){i[i.length]=a?El(c,_b,"$1"):o||s}),i},Sb=function(e,r){var n=e,i;if(to(Sl,n)&&(i=Sl[n],n="%"+i[0]+"%"),to(pn,n)){var s=pn[n];if(s===Jn&&(s=gb(n)),typeof s>"u"&&!r)throw new Xn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new si("intrinsic "+e+" does not exist!")},En=function(e,r){if(typeof e!="string"||e.length===0)throw new Xn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Xn('"allowMissing" argument must be a boolean');if(yb(/^%?[^%]*%?$/,e)===null)throw new si("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=wb(e),i=n.length>0?n[0]:"",s=Sb("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],bb(n,vb([0,1],l)));for(var h=1,d=!0;h<n.length;h+=1){var g=n[h],_=ro(g,0,1),R=ro(g,-1);if((_==='"'||_==="'"||_==="`"||R==='"'||R==="'"||R==="`")&&_!==R)throw new si("property names with quotes must have matching quotes");if((g==="constructor"||!d)&&(c=!0),i+="."+g,o="%"+i+"%",to(pn,o))a=pn[o];else if(a!=null){if(!(g in a)){if(!r)throw new Xn("base intrinsic for "+e+" exists, but the property is not available.");return}if(dn&&h+1>=n.length){var L=dn(a,g);d=!!L,d&&"get"in L&&!("originalValue"in L.get)?a=L.get:a=a[g]}else d=to(a,g),a=a[g];d&&!c&&(pn[o]=a)}}return a},sd={exports:{}},Eb=En,Mu=Eb("%Object.defineProperty%",!0),xu=function(){if(Mu)try{return Mu({},"a",{value:1}),!0}catch{return!1}return!1};xu.hasArrayLengthDefineBug=function(){if(!xu())return null;try{return Mu([],"length",{value:1}).length!==1}catch{return!0}};var od=xu,Mb=En,Gs=Mb("%Object.getOwnPropertyDescriptor%",!0);if(Gs)try{Gs([],"length")}catch{Gs=null}var ad=Gs,xb=od(),nc=En,Hi=xb&&nc("%Object.defineProperty%",!0);if(Hi)try{Hi({},"a",{value:1})}catch{Hi=!1}var Cb=nc("%SyntaxError%"),Hn=nc("%TypeError%"),Ml=ad,Rb=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Hn("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Hn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Hn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Hn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Hn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Hn("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Ml&&Ml(e,r);if(Hi)Hi(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new Cb("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ud=En,xl=Rb,Ib=od(),Cl=ad,Rl=ud("%TypeError%"),Ab=ud("%Math.floor%"),kb=function(e,r){if(typeof e!="function")throw new Rl("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||Ab(r)!==r)throw new Rl("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Cl){var o=Cl(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(Ib?xl(e,"length",r,!0,!0):xl(e,"length",r)),e};(function(t){var e=rc,r=En,n=kb,i=r("%TypeError%"),s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=r("%Object.defineProperty%",!0),l=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(g){if(typeof g!="function")throw new i("a function is required");var _=a(e,o,arguments);return n(_,1+l(0,g.length-(arguments.length-1)),!0)};var h=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h})(sd);var Tb=sd.exports,cd=En,ld=Tb,Ob=ld(cd("String.prototype.indexOf")),Nb=function(e,r){var n=cd(e,!!r);return typeof n=="function"&&Ob(e,".prototype.")>-1?ld(n):n},ic=typeof Map=="function"&&Map.prototype,Oa=Object.getOwnPropertyDescriptor&&ic?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,no=ic&&Oa&&typeof Oa.get=="function"?Oa.get:null,Il=ic&&Map.prototype.forEach,sc=typeof Set=="function"&&Set.prototype,Na=Object.getOwnPropertyDescriptor&&sc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,io=sc&&Na&&typeof Na.get=="function"?Na.get:null,Al=sc&&Set.prototype.forEach,Lb=typeof WeakMap=="function"&&WeakMap.prototype,Vi=Lb?WeakMap.prototype.has:null,Pb=typeof WeakSet=="function"&&WeakSet.prototype,Ui=Pb?WeakSet.prototype.has:null,$b=typeof WeakRef=="function"&&WeakRef.prototype,kl=$b?WeakRef.prototype.deref:null,Db=Boolean.prototype.valueOf,jb=Object.prototype.toString,Bb=Function.prototype.toString,Fb=String.prototype.match,oc=String.prototype.slice,kr=String.prototype.replace,Wb=String.prototype.toUpperCase,Tl=String.prototype.toLowerCase,fd=RegExp.prototype.test,Ol=Array.prototype.concat,sr=Array.prototype.join,Hb=Array.prototype.slice,Nl=Math.floor,Cu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,La=Object.getOwnPropertySymbols,Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,oi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===oi||!0)?Symbol.toStringTag:null,hd=Object.prototype.propertyIsEnumerable,Ll=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Pl(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||fd.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Nl(-t):Nl(t);if(n!==t){var i=String(n),s=oc.call(e,i.length+1);return kr.call(i,r,"$&_")+"."+kr.call(kr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return kr.call(e,r,"$&_")}var Iu=bo,$l=Iu.custom,Dl=pd($l)?$l:null,Vb=function t(e,r,n,i){var s=r||{};if(Rr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Rr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Rr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Rr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Rr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return vd(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Pl(e,c):c}if(typeof e=="bigint"){var l=String(e)+"n";return a?Pl(e,l):l}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Au(e)?"[Array]":"[Object]";var d=ay(s,n);if(typeof i>"u")i=[];else if(gd(i,e)>=0)return"[Circular]";function g(b,u,p){if(u&&(i=Hb.call(i),i.push(u)),p){var v={depth:s.depth};return Rr(s,"quoteStyle")&&(v.quoteStyle=s.quoteStyle),t(b,v,n+1,i)}return t(b,s,n+1,i)}if(typeof e=="function"&&!jl(e)){var _=Kb(e),R=Ts(e,g);return"[Function"+(_?": "+_:" (anonymous)")+"]"+(R.length>0?" { "+sr.call(R,", ")+" }":"")}if(pd(e)){var L=oi?kr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ru.call(e);return typeof e=="object"&&!oi?Pi(L):L}if(iy(e)){for(var O="<"+Tl.call(String(e.nodeName)),w=e.attributes||[],I=0;I<w.length;I++)O+=" "+w[I].name+"="+dd(Ub(w[I].value),"double",s);return O+=">",e.childNodes&&e.childNodes.length&&(O+="..."),O+="</"+Tl.call(String(e.nodeName))+">",O}if(Au(e)){if(e.length===0)return"[]";var T=Ts(e,g);return d&&!oy(T)?"["+ku(T,d)+"]":"[ "+sr.call(T,", ")+" ]"}if(qb(e)){var $=Ts(e,g);return!("cause"in Error.prototype)&&"cause"in e&&!hd.call(e,"cause")?"{ ["+String(e)+"] "+sr.call(Ol.call("[cause]: "+g(e.cause),$),", ")+" }":$.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+sr.call($,", ")+" }"}if(typeof e=="object"&&o){if(Dl&&typeof e[Dl]=="function"&&Iu)return Iu(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Xb(e)){var P=[];return Il&&Il.call(e,function(b,u){P.push(g(u,e,!0)+" => "+g(b,e))}),Bl("Map",no.call(e),P,d)}if(ry(e)){var j=[];return Al&&Al.call(e,function(b){j.push(g(b,e))}),Bl("Set",io.call(e),j,d)}if(ey(e))return Pa("WeakMap");if(ny(e))return Pa("WeakSet");if(ty(e))return Pa("WeakRef");if(Jb(e))return Pi(g(Number(e)));if(Qb(e))return Pi(g(Cu.call(e)));if(Zb(e))return Pi(Db.call(e));if(Gb(e))return Pi(g(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===J)return"{ [object globalThis] }";if(!zb(e)&&!jl(e)){var q=Ts(e,g),z=Ll?Ll(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",Z=!z&&mt&&Object(e)===e&&mt in e?oc.call(Fr(e),8,-1):F?"Object":"",K=z||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",X=K+(Z||F?"["+sr.call(Ol.call([],Z||[],F||[]),": ")+"] ":"");return q.length===0?X+"{}":d?X+"{"+ku(q,d)+"}":X+"{ "+sr.call(q,", ")+" }"}return String(e)};function dd(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Ub(t){return kr.call(String(t),/"/g,"&quot;")}function Au(t){return Fr(t)==="[object Array]"&&(!mt||!(typeof t=="object"&&mt in t))}function zb(t){return Fr(t)==="[object Date]"&&(!mt||!(typeof t=="object"&&mt in t))}function jl(t){return Fr(t)==="[object RegExp]"&&(!mt||!(typeof t=="object"&&mt in t))}function qb(t){return Fr(t)==="[object Error]"&&(!mt||!(typeof t=="object"&&mt in t))}function Gb(t){return Fr(t)==="[object String]"&&(!mt||!(typeof t=="object"&&mt in t))}function Jb(t){return Fr(t)==="[object Number]"&&(!mt||!(typeof t=="object"&&mt in t))}function Zb(t){return Fr(t)==="[object Boolean]"&&(!mt||!(typeof t=="object"&&mt in t))}function pd(t){if(oi)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ru)return!1;try{return Ru.call(t),!0}catch{}return!1}function Qb(t){if(!t||typeof t!="object"||!Cu)return!1;try{return Cu.call(t),!0}catch{}return!1}var Yb=Object.prototype.hasOwnProperty||function(t){return t in this};function Rr(t,e){return Yb.call(t,e)}function Fr(t){return jb.call(t)}function Kb(t){if(t.name)return t.name;var e=Fb.call(Bb.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function gd(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Xb(t){if(!no||!t||typeof t!="object")return!1;try{no.call(t);try{io.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ey(t){if(!Vi||!t||typeof t!="object")return!1;try{Vi.call(t,Vi);try{Ui.call(t,Ui)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ty(t){if(!kl||!t||typeof t!="object")return!1;try{return kl.call(t),!0}catch{}return!1}function ry(t){if(!io||!t||typeof t!="object")return!1;try{io.call(t);try{no.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function ny(t){if(!Ui||!t||typeof t!="object")return!1;try{Ui.call(t,Ui);try{Vi.call(t,Vi)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function iy(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function vd(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return vd(oc.call(t,0,e.maxStringLength),e)+n}var i=kr.call(kr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,sy);return dd(i,"single",e)}function sy(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Wb.call(e.toString(16))}function Pi(t){return"Object("+t+")"}function Pa(t){return t+" { ? }"}function Bl(t,e,r,n){var i=n?ku(r,n):sr.call(r,", ");return t+" ("+e+") {"+i+"}"}function oy(t){for(var e=0;e<t.length;e++)if(gd(t[e],`
`)>=0)return!1;return!0}function ay(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=sr.call(Array(t.indent+1)," ");else return null;return{base:r,prev:sr.call(Array(e+1),r)}}function ku(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+sr.call(t,","+r)+`
`+e.prev}function Ts(t,e){var r=Au(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Rr(t,i)?e(t[i],t):""}var s=typeof La=="function"?La(t):[],o;if(oi){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)Rr(t,c)&&(r&&String(Number(c))===c&&c<t.length||oi&&o["$"+c]instanceof Symbol||(fd.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof La=="function")for(var l=0;l<s.length;l++)hd.call(t,s[l])&&n.push("["+e(s[l])+"]: "+e(t[s[l]],t));return n}var ac=En,xi=Nb,uy=Vb,cy=ac("%TypeError%"),Os=ac("%WeakMap%",!0),Ns=ac("%Map%",!0),ly=xi("WeakMap.prototype.get",!0),fy=xi("WeakMap.prototype.set",!0),hy=xi("WeakMap.prototype.has",!0),dy=xi("Map.prototype.get",!0),py=xi("Map.prototype.set",!0),gy=xi("Map.prototype.has",!0),uc=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},vy=function(t,e){var r=uc(t,e);return r&&r.value},by=function(t,e,r){var n=uc(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},yy=function(t,e){return!!uc(t,e)},my=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new cy("Side channel does not contain "+uy(s))},get:function(s){if(Os&&s&&(typeof s=="object"||typeof s=="function")){if(e)return ly(e,s)}else if(Ns){if(r)return dy(r,s)}else if(n)return vy(n,s)},has:function(s){if(Os&&s&&(typeof s=="object"||typeof s=="function")){if(e)return hy(e,s)}else if(Ns){if(r)return gy(r,s)}else if(n)return yy(n,s);return!1},set:function(s,o){Os&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Os),fy(e,s,o)):Ns?(r||(r=new Ns),py(r,s,o)):(n||(n={key:{},next:null}),by(n,s,o))}};return i},_y=String.prototype.replace,wy=/%20/g,$a={RFC1738:"RFC1738",RFC3986:"RFC3986"},cc={default:$a.RFC3986,formatters:{RFC1738:function(t){return _y.call(t,wy,"+")},RFC3986:function(t){return String(t)}},RFC1738:$a.RFC1738,RFC3986:$a.RFC3986},Sy=cc,Da=Object.prototype.hasOwnProperty,sn=Array.isArray,Xt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Ey=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(sn(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},bd=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},My=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(sn(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Da.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return sn(e)&&!sn(r)&&(i=bd(e,n)),sn(e)&&sn(r)?(r.forEach(function(s,o){if(Da.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Da.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},xy=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Cy=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Ry=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var l=o.charCodeAt(c);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===Sy.RFC1738&&(l===40||l===41)){a+=o.charAt(c);continue}if(l<128){a=a+Xt[l];continue}if(l<2048){a=a+(Xt[192|l>>6]+Xt[128|l&63]);continue}if(l<55296||l>=57344){a=a+(Xt[224|l>>12]+Xt[128|l>>6&63]+Xt[128|l&63]);continue}c+=1,l=65536+((l&1023)<<10|o.charCodeAt(c)&1023),a+=Xt[240|l>>18]+Xt[128|l>>12&63]+Xt[128|l>>6&63]+Xt[128|l&63]}return a},Iy=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var l=a[c],h=o[l];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:l}),n.push(h))}return Ey(r),e},Ay=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ky=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Ty=function(e,r){return[].concat(e,r)},Oy=function(e,r){if(sn(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},yd={arrayToObject:bd,assign:xy,combine:Ty,compact:Iy,decode:Cy,encode:Ry,isBuffer:ky,isRegExp:Ay,maybeMap:Oy,merge:My},md=my,Js=yd,zi=cc,Ny=Object.prototype.hasOwnProperty,Fl={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},gr=Array.isArray,Ly=Array.prototype.push,_d=function(t,e){Ly.apply(t,gr(e)?e:[e])},Py=Date.prototype.toISOString,Wl=zi.default,yt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Js.encode,encodeValuesOnly:!1,format:Wl,formatter:zi.formatters[Wl],indices:!1,serializeDate:function(e){return Py.call(e)},skipNulls:!1,strictNullHandling:!1},$y=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ja={},Dy=function t(e,r,n,i,s,o,a,c,l,h,d,g,_,R,L,O){for(var w=e,I=O,T=0,$=!1;(I=I.get(ja))!==void 0&&!$;){var P=I.get(e);if(T+=1,typeof P<"u"){if(P===T)throw new RangeError("Cyclic object value");$=!0}typeof I.get(ja)>"u"&&(T=0)}if(typeof c=="function"?w=c(r,w):w instanceof Date?w=d(w):n==="comma"&&gr(w)&&(w=Js.maybeMap(w,function(v){return v instanceof Date?d(v):v})),w===null){if(s)return a&&!R?a(r,yt.encoder,L,"key",g):r;w=""}if($y(w)||Js.isBuffer(w)){if(a){var j=R?r:a(r,yt.encoder,L,"key",g);return[_(j)+"="+_(a(w,yt.encoder,L,"value",g))]}return[_(r)+"="+_(String(w))]}var q=[];if(typeof w>"u")return q;var z;if(n==="comma"&&gr(w))R&&a&&(w=Js.maybeMap(w,a)),z=[{value:w.length>0?w.join(",")||null:void 0}];else if(gr(c))z=c;else{var F=Object.keys(w);z=l?F.sort(l):F}for(var Z=i&&gr(w)&&w.length===1?r+"[]":r,K=0;K<z.length;++K){var X=z[K],b=typeof X=="object"&&typeof X.value<"u"?X.value:w[X];if(!(o&&b===null)){var u=gr(w)?typeof n=="function"?n(Z,X):Z:Z+(h?"."+X:"["+X+"]");O.set(e,T);var p=md();p.set(ja,O),_d(q,t(b,u,n,i,s,o,n==="comma"&&R&&gr(w)?null:a,c,l,h,d,g,_,R,L,p))}}return q},jy=function(e){if(!e)return yt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||yt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=zi.default;if(typeof e.format<"u"){if(!Ny.call(zi.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=zi.formatters[n],s=yt.filter;return(typeof e.filter=="function"||gr(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:yt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?yt.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:yt.charsetSentinel,delimiter:typeof e.delimiter>"u"?yt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:yt.encode,encoder:typeof e.encoder=="function"?e.encoder:yt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:yt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:yt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:yt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:yt.strictNullHandling}},By=function(t,e){var r=t,n=jy(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):gr(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Fl?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Fl[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=md(),d=0;d<i.length;++d){var g=i[d];n.skipNulls&&r[g]===null||_d(o,Dy(r[g],g,c,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var _=o.join(n.delimiter),R=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),_.length>0?R+_:""},ai=yd,Tu=Object.prototype.hasOwnProperty,Fy=Array.isArray,at={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:ai.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Wy=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},wd=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Hy="utf8=%26%2310003%3B",Vy="utf8=%E2%9C%93",Uy=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Vy?l="utf-8":o[c]===Hy&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var h=o[c],d=h.indexOf("]="),g=d===-1?h.indexOf("="):d+1,_,R;g===-1?(_=r.decoder(h,at.decoder,l,"key"),R=r.strictNullHandling?null:""):(_=r.decoder(h.slice(0,g),at.decoder,l,"key"),R=ai.maybeMap(wd(h.slice(g+1),r),function(L){return r.decoder(L,at.decoder,l,"value")})),R&&r.interpretNumericEntities&&l==="iso-8859-1"&&(R=Wy(R)),h.indexOf("[]=")>-1&&(R=Fy(R)?[R]:R),Tu.call(n,_)?n[_]=ai.combine(n[_],R):n[_]=R}return n},zy=function(t,e,r,n){for(var i=n?e:wd(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},qy=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,h=[];if(l){if(!n.plainObjects&&Tu.call(Object.prototype,l)&&!n.allowPrototypes)return;h.push(l)}for(var d=0;n.depth>0&&(c=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Tu.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),zy(h,r,n,i)}},Gy=function(e){if(!e)return at;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?at.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?at.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:at.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:at.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:at.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:at.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:at.comma,decoder:typeof e.decoder=="function"?e.decoder:at.decoder,delimiter:typeof e.delimiter=="string"||ai.isRegExp(e.delimiter)?e.delimiter:at.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:at.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:at.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:at.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:at.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:at.strictNullHandling}},Jy=function(t,e){var r=Gy(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Uy(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=qy(a,n[a],r,typeof t=="string");i=ai.merge(i,c,r)}return r.allowSparse===!0?i:ai.compact(i)},Zy=By,Qy=Jy,Yy=cc,Ky={formats:Yy,parse:Qy,stringify:Zy},fs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(fs);var Xy=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q,"__esModule",{value:!0});Q.isInIFrame=Q.createQrUrl=Q.getFavicon=Q.range=Q.isBigNumber=Q.ensureParsedJSONObject=Q.ensureBN=Q.ensureRegExpString=Q.ensureIntNumber=Q.ensureBuffer=Q.ensureAddressString=Q.ensureEvenLengthHexString=Q.ensureHexString=Q.isHexString=Q.prepend0x=Q.strip0x=Q.has0xPrefix=Q.hexStringFromIntNumber=Q.intNumberFromHexString=Q.bigIntStringFromBN=Q.hexStringFromBuffer=Q.hexStringToUint8Array=Q.uint8ArrayToHex=Q.randomBytesHex=void 0;const Ir=Xy(So),em=Ky,Mn=ss,Bt=fs,Sd=/^[0-9]*$/,Ed=/^[a-f0-9]*$/;function tm(t){return Md(crypto.getRandomValues(new Uint8Array(t)))}Q.randomBytesHex=tm;function Md(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}Q.uint8ArrayToHex=Md;function rm(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}Q.hexStringToUint8Array=rm;function nm(t,e=!1){const r=t.toString("hex");return(0,Bt.HexString)(e?"0x"+r:r)}Q.hexStringFromBuffer=nm;function im(t){return(0,Bt.BigIntString)(t.toString(10))}Q.bigIntStringFromBN=im;function sm(t){return(0,Bt.IntNumber)(new Ir.default(ds(t,!1),16).toNumber())}Q.intNumberFromHexString=sm;function om(t){return(0,Bt.HexString)("0x"+new Ir.default(t).toString(16))}Q.hexStringFromIntNumber=om;function lc(t){return t.startsWith("0x")||t.startsWith("0X")}Q.has0xPrefix=lc;function Io(t){return lc(t)?t.slice(2):t}Q.strip0x=Io;function xd(t){return lc(t)?"0x"+t.slice(2):"0x"+t}Q.prepend0x=xd;function hs(t){if(typeof t!="string")return!1;const e=Io(t).toLowerCase();return Ed.test(e)}Q.isHexString=hs;function Cd(t,e=!1){if(typeof t=="string"){const r=Io(t).toLowerCase();if(Ed.test(r))return(0,Bt.HexString)(e?"0x"+r:r)}throw Mn.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}Q.ensureHexString=Cd;function ds(t,e=!1){let r=Cd(t,!1);return r.length%2===1&&(r=(0,Bt.HexString)("0"+r)),e?(0,Bt.HexString)("0x"+r):r}Q.ensureEvenLengthHexString=ds;function am(t){if(typeof t=="string"){const e=Io(t).toLowerCase();if(hs(e)&&e.length===40)return(0,Bt.AddressString)(xd(e))}throw Mn.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}Q.ensureAddressString=am;function um(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(hs(t)){const e=ds(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw Mn.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}Q.ensureBuffer=um;function Rd(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Bt.IntNumber)(t);if(typeof t=="string"){if(Sd.test(t))return(0,Bt.IntNumber)(Number(t));if(hs(t))return(0,Bt.IntNumber)(new Ir.default(ds(t,!1),16).toNumber())}throw Mn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Q.ensureIntNumber=Rd;function cm(t){if(t instanceof RegExp)return(0,Bt.RegExpString)(t.toString());throw Mn.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}Q.ensureRegExpString=cm;function lm(t){if(t!==null&&(Ir.default.isBN(t)||Id(t)))return new Ir.default(t.toString(10),10);if(typeof t=="number")return new Ir.default(Rd(t));if(typeof t=="string"){if(Sd.test(t))return new Ir.default(t,10);if(hs(t))return new Ir.default(ds(t,!1),16)}throw Mn.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}Q.ensureBN=lm;function fm(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw Mn.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}Q.ensureParsedJSONObject=fm;function Id(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}Q.isBigNumber=Id;function hm(t,e){return Array.from({length:e-t},(r,n)=>t+n)}Q.range=hm;function dm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}Q.getFavicon=dm;function pm(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,em.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}Q.createQrUrl=pm;function gm(){try{return window.frameElement!==null}catch{return!1}}Q.isInIFrame=gm;Object.defineProperty(Ei,"__esModule",{value:!0});Ei.Session=void 0;const Hl=Gv,Vl=Q,Ul="session:id",zl="session:secret",ql="session:linked";class fc{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Vl.randomBytesHex)(16),this._secret=n||(0,Vl.randomBytesHex)(32),this._key=new Hl.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Ul),n=e.getItem(ql),i=e.getItem(zl);return r&&i?new fc(e,r,i,n==="1"):null}static hash(e){return new Hl.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Ul,this._id),this._storage.setItem(zl,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ql,this._linked?"1":"0")}}Ei.Session=fc;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.WalletSDKRelayAbstract=Jt.APP_VERSION_KEY=Jt.LOCAL_STORAGE_ADDRESSES_KEY=Jt.WALLET_USER_NAME_KEY=void 0;const Gl=ss;Jt.WALLET_USER_NAME_KEY="walletUsername";Jt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Jt.APP_VERSION_KEY="AppVersion";class vm{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Gl.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Gl.serializeError)(s,e.method);return i})}}Jt.WalletSDKRelayAbstract=vm;var Ad={};const Jl=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Ad.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],d=t[9]^t[19]^t[29]^t[39]^t[49];let g=h^(i<<1|s>>>31),_=d^(s<<1|i>>>31);const R=t[0]^g,L=t[1]^_,O=t[10]^g,w=t[11]^_,I=t[20]^g,T=t[21]^_,$=t[30]^g,P=t[31]^_,j=t[40]^g,q=t[41]^_;g=r^(o<<1|a>>>31),_=n^(a<<1|o>>>31);const z=t[2]^g,F=t[3]^_,Z=t[12]^g,K=t[13]^_,X=t[22]^g,b=t[23]^_,u=t[32]^g,p=t[33]^_,v=t[42]^g,y=t[43]^_;g=i^(c<<1|l>>>31),_=s^(l<<1|c>>>31);const S=t[4]^g,C=t[5]^_,k=t[14]^g,m=t[15]^_,f=t[24]^g,x=t[25]^_,U=t[34]^g,G=t[35]^_,A=t[44]^g,N=t[45]^_;g=o^(h<<1|d>>>31),_=a^(d<<1|h>>>31);const D=t[6]^g,V=t[7]^_,oe=t[16]^g,E=t[17]^_,M=t[26]^g,W=t[27]^_,H=t[36]^g,re=t[37]^_,se=t[46]^g,ee=t[47]^_;g=c^(r<<1|n>>>31),_=l^(n<<1|r>>>31);const pe=t[8]^g,Kt=t[9]^_,Se=t[18]^g,Me=t[19]^_,Er=t[28]^g,ye=t[29]^_,me=t[38]^g,hr=t[39]^_,be=t[48]^g,ge=t[49]^_,Rt=R,xe=L,Ce=w<<4|O>>>28,kn=O<<4|w>>>28,Re=I<<3|T>>>29,Ie=T<<3|I>>>29,Tn=P<<9|$>>>23,Ae=$<<9|P>>>23,ke=j<<18|q>>>14,On=q<<18|j>>>14,Te=z<<1|F>>>31,Oe=F<<1|z>>>31,Nn=K<<12|Z>>>20,Ne=Z<<12|K>>>20,Le=X<<10|b>>>22,Ln=b<<10|X>>>22,Pe=p<<13|u>>>19,$e=u<<13|p>>>19,Pn=v<<2|y>>>30,De=y<<2|v>>>30,je=C<<30|S>>>2,$n=S<<30|C>>>2,Be=k<<6|m>>>26,Fe=m<<6|k>>>26,Dn=x<<11|f>>>21,We=f<<11|x>>>21,He=U<<15|G>>>17,jn=G<<15|U>>>17,Ve=N<<29|A>>>3,Ue=A<<29|N>>>3,Bn=D<<28|V>>>4,ze=V<<28|D>>>4,qe=E<<23|oe>>>9,Fn=oe<<23|E>>>9,Ge=M<<25|W>>>7,Je=W<<25|M>>>7,Wr=H<<21|re>>>11,Hr=re<<21|H>>>11,Vr=ee<<24|se>>>8,Ur=se<<24|ee>>>8,zr=pe<<27|Kt>>>5,qr=Kt<<27|pe>>>5,Gr=Se<<20|Me>>>12,Jr=Me<<20|Se>>>12,Zr=ye<<7|Er>>>25,Qr=Er<<7|ye>>>25,Yr=me<<8|hr>>>24,Kr=hr<<8|me>>>24,Xr=be<<14|ge>>>18,en=ge<<14|be>>>18;t[0]=Rt^~Nn&Dn,t[1]=xe^~Ne&We,t[10]=Bn^~Gr&Re,t[11]=ze^~Jr&Ie,t[20]=Te^~Be&Ge,t[21]=Oe^~Fe&Je,t[30]=zr^~Ce&Le,t[31]=qr^~kn&Ln,t[40]=je^~qe&Zr,t[41]=$n^~Fn&Qr,t[2]=Nn^~Dn&Wr,t[3]=Ne^~We&Hr,t[12]=Gr^~Re&Pe,t[13]=Jr^~Ie&$e,t[22]=Be^~Ge&Yr,t[23]=Fe^~Je&Kr,t[32]=Ce^~Le&He,t[33]=kn^~Ln&jn,t[42]=qe^~Zr&Tn,t[43]=Fn^~Qr&Ae,t[4]=Dn^~Wr&Xr,t[5]=We^~Hr&en,t[14]=Re^~Pe&Ve,t[15]=Ie^~$e&Ue,t[24]=Ge^~Yr&ke,t[25]=Je^~Kr&On,t[34]=Le^~He&Vr,t[35]=Ln^~jn&Ur,t[44]=Zr^~Tn&Pn,t[45]=Qr^~Ae&De,t[6]=Wr^~Xr&Rt,t[7]=Hr^~en&xe,t[16]=Pe^~Ve&Bn,t[17]=$e^~Ue&ze,t[26]=Yr^~ke&Te,t[27]=Kr^~On&Oe,t[36]=He^~Vr&zr,t[37]=jn^~Ur&qr,t[46]=Tn^~Pn&je,t[47]=Ae^~De&$n,t[8]=Xr^~Rt&Nn,t[9]=en^~xe&Ne,t[18]=Ve^~Bn&Gr,t[19]=Ue^~ze&Jr,t[28]=ke^~Te&Be,t[29]=On^~Oe&Fe,t[38]=Vr^~zr&Ce,t[39]=Ur^~qr&kn,t[48]=Pn^~je&qe,t[49]=De^~$n&Fn,t[0]^=Jl[e*2],t[1]^=Jl[e*2+1]}};const so=Ad;function Ci(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Ci.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Ci.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(so.p1600(this.state),this.count=0)};Ci.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&so.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),so.p1600(this.state),this.count=0,this.squeezing=!0};Ci.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(so.p1600(this.state),this.count=0);return e};Ci.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var bm=Ci,Ou={exports:{}},kd=Yu.EventEmitter,Ba,Zl;function ym(){if(Zl)return Ba;Zl=1;function t(R,L){var O=Object.keys(R);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(R);L&&(w=w.filter(function(I){return Object.getOwnPropertyDescriptor(R,I).enumerable})),O.push.apply(O,w)}return O}function e(R){for(var L=1;L<arguments.length;L++){var O=arguments[L]!=null?arguments[L]:{};L%2?t(Object(O),!0).forEach(function(w){r(R,w,O[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(O)):t(Object(O)).forEach(function(w){Object.defineProperty(R,w,Object.getOwnPropertyDescriptor(O,w))})}return R}function r(R,L,O){return L=o(L),L in R?Object.defineProperty(R,L,{value:O,enumerable:!0,configurable:!0,writable:!0}):R[L]=O,R}function n(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function i(R,L){for(var O=0;O<L.length;O++){var w=L[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(R,o(w.key),w)}}function s(R,L,O){return L&&i(R.prototype,L),O&&i(R,O),Object.defineProperty(R,"prototype",{writable:!1}),R}function o(R){var L=a(R,"string");return typeof L=="symbol"?L:String(L)}function a(R,L){if(typeof R!="object"||R===null)return R;var O=R[Symbol.toPrimitive];if(O!==void 0){var w=O.call(R,L||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(R)}var c=yo,l=c.Buffer,h=bo,d=h.inspect,g=d&&d.custom||"inspect";function _(R,L,O){l.prototype.copy.call(R,L,O)}return Ba=function(){function R(){n(this,R),this.head=null,this.tail=null,this.length=0}return s(R,[{key:"push",value:function(O){var w={data:O,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(O){var w={data:O,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var O=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,O}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(O){if(this.length===0)return"";for(var w=this.head,I=""+w.data;w=w.next;)I+=O+w.data;return I}},{key:"concat",value:function(O){if(this.length===0)return l.alloc(0);for(var w=l.allocUnsafe(O>>>0),I=this.head,T=0;I;)_(I.data,w,T),T+=I.data.length,I=I.next;return w}},{key:"consume",value:function(O,w){var I;return O<this.head.data.length?(I=this.head.data.slice(0,O),this.head.data=this.head.data.slice(O)):O===this.head.data.length?I=this.shift():I=w?this._getString(O):this._getBuffer(O),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(O){var w=this.head,I=1,T=w.data;for(O-=T.length;w=w.next;){var $=w.data,P=O>$.length?$.length:O;if(P===$.length?T+=$:T+=$.slice(0,O),O-=P,O===0){P===$.length?(++I,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=$.slice(P));break}++I}return this.length-=I,T}},{key:"_getBuffer",value:function(O){var w=l.allocUnsafe(O),I=this.head,T=1;for(I.data.copy(w),O-=I.data.length;I=I.next;){var $=I.data,P=O>$.length?$.length:O;if($.copy(w,w.length-O,0,P),O-=P,O===0){P===$.length?(++T,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=$.slice(P));break}++T}return this.length-=T,w}},{key:g,value:function(O,w){return d(this,e(e({},w),{},{depth:0,customInspect:!1}))}}]),R}(),Ba}function mm(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Nu,this,t)):process.nextTick(Nu,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Zs,r):(r._writableState.errorEmitted=!0,process.nextTick(Ql,r,s)):process.nextTick(Ql,r,s):e?(process.nextTick(Zs,r),e(s)):process.nextTick(Zs,r)}),this)}function Ql(t,e){Nu(t,e),Zs(t)}function Zs(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function _m(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Nu(t,e){t.emit("error",e)}function wm(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Td={destroy:mm,undestroy:_m,errorOrDestroy:wm},xn={};function Sm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Od={};function Wt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Sm(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Od[t]=i}function Yl(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Em(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Mm(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function xm(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Wt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Wt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Em(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Mm(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Yl(e,"type"));else{var s=xm(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Yl(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Wt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Wt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Wt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Wt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Wt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Wt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Wt("ERR_STREAM_WRITE_AFTER_END","write after end");Wt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Wt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Wt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");xn.codes=Od;var Cm=xn.codes.ERR_INVALID_OPT_VALUE;function Rm(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Im(t,e,r,n){var i=Rm(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Cm(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Nd={getHighWaterMark:Im},Am=km;function km(t,e){if(Fa("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Fa("throwDeprecation"))throw new Error(e);Fa("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Fa(t){try{if(!J.localStorage)return!1}catch{return!1}var e=J.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Wa,Kl;function Ld(){if(Kl)return Wa;Kl=1,Wa=z;function t(A){var N=this;this.next=null,this.entry=null,this.finish=function(){G(N,A)}}var e;z.WritableState=j;var r={deprecate:Am},n=kd,i=yo.Buffer,s=(typeof J<"u"?J:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(A){return i.from(A)}function a(A){return i.isBuffer(A)||A instanceof s}var c=Td,l=Nd,h=l.getHighWaterMark,d=xn.codes,g=d.ERR_INVALID_ARG_TYPE,_=d.ERR_METHOD_NOT_IMPLEMENTED,R=d.ERR_MULTIPLE_CALLBACK,L=d.ERR_STREAM_CANNOT_PIPE,O=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,I=d.ERR_STREAM_WRITE_AFTER_END,T=d.ERR_UNKNOWN_ENCODING,$=c.errorOrDestroy;Zt(z,n);function P(){}function j(A,N,D){e=e||ui(),A=A||{},typeof D!="boolean"&&(D=N instanceof e),this.objectMode=!!A.objectMode,D&&(this.objectMode=this.objectMode||!!A.writableObjectMode),this.highWaterMark=h(this,A,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=A.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(oe){v(N,oe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=A.emitClose!==!1,this.autoDestroy=!!A.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}j.prototype.getBuffer=function(){for(var N=this.bufferedRequest,D=[];N;)D.push(N),N=N.next;return D},function(){try{Object.defineProperty(j.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var q;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(q=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(N){return q.call(this,N)?!0:this!==z?!1:N&&N._writableState instanceof j}})):q=function(N){return N instanceof this};function z(A){e=e||ui();var N=this instanceof e;if(!N&&!q.call(z,this))return new z(A);this._writableState=new j(A,this,N),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),n.call(this)}z.prototype.pipe=function(){$(this,new L)};function F(A,N){var D=new I;$(A,D),process.nextTick(N,D)}function Z(A,N,D,V){var oe;return D===null?oe=new w:typeof D!="string"&&!N.objectMode&&(oe=new g("chunk",["string","Buffer"],D)),oe?($(A,oe),process.nextTick(V,oe),!1):!0}z.prototype.write=function(A,N,D){var V=this._writableState,oe=!1,E=!V.objectMode&&a(A);return E&&!i.isBuffer(A)&&(A=o(A)),typeof N=="function"&&(D=N,N=null),E?N="buffer":N||(N=V.defaultEncoding),typeof D!="function"&&(D=P),V.ending?F(this,D):(E||Z(this,V,A,D))&&(V.pendingcb++,oe=X(this,V,E,A,N,D)),oe},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&C(this,A))},z.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new T(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function K(A,N,D){return!A.objectMode&&A.decodeStrings!==!1&&typeof N=="string"&&(N=i.from(N,D)),N}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function X(A,N,D,V,oe,E){if(!D){var M=K(N,V,oe);V!==M&&(D=!0,oe="buffer",V=M)}var W=N.objectMode?1:V.length;N.length+=W;var H=N.length<N.highWaterMark;if(H||(N.needDrain=!0),N.writing||N.corked){var re=N.lastBufferedRequest;N.lastBufferedRequest={chunk:V,encoding:oe,isBuf:D,callback:E,next:null},re?re.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else b(A,N,!1,W,V,oe,E);return H}function b(A,N,D,V,oe,E,M){N.writelen=V,N.writecb=M,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new O("write")):D?A._writev(oe,N.onwrite):A._write(oe,E,N.onwrite),N.sync=!1}function u(A,N,D,V,oe){--N.pendingcb,D?(process.nextTick(oe,V),process.nextTick(x,A,N),A._writableState.errorEmitted=!0,$(A,V)):(oe(V),A._writableState.errorEmitted=!0,$(A,V),x(A,N))}function p(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function v(A,N){var D=A._writableState,V=D.sync,oe=D.writecb;if(typeof oe!="function")throw new R;if(p(D),N)u(A,D,V,N,oe);else{var E=k(D)||A.destroyed;!E&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&C(A,D),V?process.nextTick(y,A,D,E,oe):y(A,D,E,oe)}}function y(A,N,D,V){D||S(A,N),N.pendingcb--,V(),x(A,N)}function S(A,N){N.length===0&&N.needDrain&&(N.needDrain=!1,A.emit("drain"))}function C(A,N){N.bufferProcessing=!0;var D=N.bufferedRequest;if(A._writev&&D&&D.next){var V=N.bufferedRequestCount,oe=new Array(V),E=N.corkedRequestsFree;E.entry=D;for(var M=0,W=!0;D;)oe[M]=D,D.isBuf||(W=!1),D=D.next,M+=1;oe.allBuffers=W,b(A,N,!0,N.length,oe,"",E.finish),N.pendingcb++,N.lastBufferedRequest=null,E.next?(N.corkedRequestsFree=E.next,E.next=null):N.corkedRequestsFree=new t(N),N.bufferedRequestCount=0}else{for(;D;){var H=D.chunk,re=D.encoding,se=D.callback,ee=N.objectMode?1:H.length;if(b(A,N,!1,ee,H,re,se),D=D.next,N.bufferedRequestCount--,N.writing)break}D===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=D,N.bufferProcessing=!1}z.prototype._write=function(A,N,D){D(new _("_write()"))},z.prototype._writev=null,z.prototype.end=function(A,N,D){var V=this._writableState;return typeof A=="function"?(D=A,A=null,N=null):typeof N=="function"&&(D=N,N=null),A!=null&&this.write(A,N),V.corked&&(V.corked=1,this.uncork()),V.ending||U(this,V,D),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function k(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function m(A,N){A._final(function(D){N.pendingcb--,D&&$(A,D),N.prefinished=!0,A.emit("prefinish"),x(A,N)})}function f(A,N){!N.prefinished&&!N.finalCalled&&(typeof A._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,process.nextTick(m,A,N)):(N.prefinished=!0,A.emit("prefinish")))}function x(A,N){var D=k(N);if(D&&(f(A,N),N.pendingcb===0&&(N.finished=!0,A.emit("finish"),N.autoDestroy))){var V=A._readableState;(!V||V.autoDestroy&&V.endEmitted)&&A.destroy()}return D}function U(A,N,D){N.ending=!0,x(A,N),D&&(N.finished?process.nextTick(D):A.once("finish",D)),N.ended=!0,A.writable=!1}function G(A,N,D){var V=A.entry;for(A.entry=null;V;){var oe=V.callback;N.pendingcb--,oe(D),V=V.next}N.corkedRequestsFree.next=A}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),z.prototype.destroy=c.destroy,z.prototype._undestroy=c.undestroy,z.prototype._destroy=function(A,N){N(A)},Wa}var Ha,Xl;function ui(){if(Xl)return Ha;Xl=1;var t=Object.keys||function(l){var h=[];for(var d in l)h.push(d);return h};Ha=o;var e=$d(),r=Ld();Zt(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Ha}var Va={},ef;function tf(){if(ef)return Va;ef=1;var t=Br.Buffer,e=t.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(w){if(!w)return"utf8";for(var I;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(I)return;w=(""+w).toLowerCase(),I=!0}}function n(w){var I=r(w);if(typeof I!="string"&&(t.isEncoding===e||!e(w)))throw new Error("Unknown encoding: "+w);return I||w}Va.StringDecoder=i;function i(w){this.encoding=n(w);var I;switch(this.encoding){case"utf16le":this.text=d,this.end=g,I=4;break;case"utf8":this.fillLast=c,I=4;break;case"base64":this.text=_,this.end=R,I=3;break;default:this.write=L,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(I)}i.prototype.write=function(w){if(w.length===0)return"";var I,T;if(this.lastNeed){if(I=this.fillLast(w),I===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<w.length?I?I+this.text(w,T):this.text(w,T):I||""},i.prototype.end=h,i.prototype.text=l,i.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function s(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function o(w,I,T){var $=I.length-1;if($<T)return 0;var P=s(I[$]);return P>=0?(P>0&&(w.lastNeed=P-1),P):--$<T||P===-2?0:(P=s(I[$]),P>=0?(P>0&&(w.lastNeed=P-2),P):--$<T||P===-2?0:(P=s(I[$]),P>=0?(P>0&&(P===2?P=0:w.lastNeed=P-3),P):0))}function a(w,I,T){if((I[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return w.lastNeed=2,"�"}}function c(w){var I=this.lastTotal-this.lastNeed,T=a(this,w);if(T!==void 0)return T;if(this.lastNeed<=w.length)return w.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,I,0,w.length),this.lastNeed-=w.length}function l(w,I){var T=o(this,w,I);if(!this.lastNeed)return w.toString("utf8",I);this.lastTotal=T;var $=w.length-(T-this.lastNeed);return w.copy(this.lastChar,0,$),w.toString("utf8",I,$)}function h(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+"�":I}function d(w,I){if((w.length-I)%2===0){var T=w.toString("utf16le",I);if(T){var $=T.charCodeAt(T.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",I,w.length-1)}function g(w){var I=w&&w.length?this.write(w):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,T)}return I}function _(w,I){var T=(w.length-I)%3;return T===0?w.toString("base64",I):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",I,w.length-T))}function R(w){var I=w&&w.length?this.write(w):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function L(w){return w.toString(this.encoding)}function O(w){return w&&w.length?this.write(w):""}return Va}var rf=xn.codes.ERR_STREAM_PREMATURE_CLOSE;function Tm(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Om(){}function Nm(t){return t.setHeader&&typeof t.abort=="function"}function Pd(t,e,r){if(typeof e=="function")return Pd(t,null,e);e||(e={}),r=Tm(r||Om);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},h=function(R){r.call(t,R)},d=function(){var R;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(R=new rf),r.call(t,R);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(R=new rf),r.call(t,R)},g=function(){t.req.on("finish",a)};return Nm(t)?(t.on("complete",a),t.on("abort",d),t.req?g():t.on("request",g)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",a),t.removeListener("abort",d),t.removeListener("request",g),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",h),t.removeListener("close",d)}}var hc=Pd,Ua,nf;function Lm(){if(nf)return Ua;nf=1;var t;function e(T,$,P){return $=r($),$ in T?Object.defineProperty(T,$,{value:P,enumerable:!0,configurable:!0,writable:!0}):T[$]=P,T}function r(T){var $=n(T,"string");return typeof $=="symbol"?$:String($)}function n(T,$){if(typeof T!="object"||T===null)return T;var P=T[Symbol.toPrimitive];if(P!==void 0){var j=P.call(T,$||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(T)}var i=hc,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function g(T,$){return{value:T,done:$}}function _(T){var $=T[s];if($!==null){var P=T[d].read();P!==null&&(T[l]=null,T[s]=null,T[o]=null,$(g(P,!1)))}}function R(T){process.nextTick(_,T)}function L(T,$){return function(P,j){T.then(function(){if($[c]){P(g(void 0,!0));return}$[h](P,j)},j)}}var O=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[d]},next:function(){var $=this,P=this[a];if(P!==null)return Promise.reject(P);if(this[c])return Promise.resolve(g(void 0,!0));if(this[d].destroyed)return new Promise(function(F,Z){process.nextTick(function(){$[a]?Z($[a]):F(g(void 0,!0))})});var j=this[l],q;if(j)q=new Promise(L(j,this));else{var z=this[d].read();if(z!==null)return Promise.resolve(g(z,!1));q=new Promise(this[h])}return this[l]=q,q}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var $=this;return new Promise(function(P,j){$[d].destroy(null,function(q){if(q){j(q);return}P(g(void 0,!0))})})}),t),O),I=function($){var P,j=Object.create(w,(P={},e(P,d,{value:$,writable:!0}),e(P,s,{value:null,writable:!0}),e(P,o,{value:null,writable:!0}),e(P,a,{value:null,writable:!0}),e(P,c,{value:$._readableState.endEmitted,writable:!0}),e(P,h,{value:function(z,F){var Z=j[d].read();Z?(j[l]=null,j[s]=null,j[o]=null,z(g(Z,!1))):(j[s]=z,j[o]=F)},writable:!0}),P));return j[l]=null,i($,function(q){if(q&&q.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=j[o];z!==null&&(j[l]=null,j[s]=null,j[o]=null,z(q)),j[a]=q;return}var F=j[s];F!==null&&(j[l]=null,j[s]=null,j[o]=null,F(g(void 0,!0))),j[c]=!0}),$.on("readable",R.bind(null,j)),j};return Ua=I,Ua}var za,sf;function Pm(){return sf||(sf=1,za=function(){throw new Error("Readable.from is not available in the browser")}),za}var qa,of;function $d(){if(of)return qa;of=1,qa=F;var t;F.ReadableState=z,Yu.EventEmitter;var e=function(M,W){return M.listeners(W).length},r=kd,n=yo.Buffer,i=(typeof J<"u"?J:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(E){return n.from(E)}function o(E){return n.isBuffer(E)||E instanceof i}var a=bo,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=ym(),h=Td,d=Nd,g=d.getHighWaterMark,_=xn.codes,R=_.ERR_INVALID_ARG_TYPE,L=_.ERR_STREAM_PUSH_AFTER_EOF,O=_.ERR_METHOD_NOT_IMPLEMENTED,w=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,T,$;Zt(F,r);var P=h.errorOrDestroy,j=["error","close","destroy","pause","resume"];function q(E,M,W){if(typeof E.prependListener=="function")return E.prependListener(M,W);!E._events||!E._events[M]?E.on(M,W):Array.isArray(E._events[M])?E._events[M].unshift(W):E._events[M]=[W,E._events[M]]}function z(E,M,W){t=t||ui(),E=E||{},typeof W!="boolean"&&(W=M instanceof t),this.objectMode=!!E.objectMode,W&&(this.objectMode=this.objectMode||!!E.readableObjectMode),this.highWaterMark=g(this,E,"readableHighWaterMark",W),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.destroyed=!1,this.defaultEncoding=E.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,E.encoding&&(I||(I=tf().StringDecoder),this.decoder=new I(E.encoding),this.encoding=E.encoding)}function F(E){if(t=t||ui(),!(this instanceof F))return new F(E);var M=this instanceof t;this._readableState=new z(E,this,M),this.readable=!0,E&&(typeof E.read=="function"&&(this._read=E.read),typeof E.destroy=="function"&&(this._destroy=E.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),F.prototype.destroy=h.destroy,F.prototype._undestroy=h.undestroy,F.prototype._destroy=function(E,M){M(E)},F.prototype.push=function(E,M){var W=this._readableState,H;return W.objectMode?H=!0:typeof E=="string"&&(M=M||W.defaultEncoding,M!==W.encoding&&(E=n.from(E,M),M=""),H=!0),Z(this,E,M,!1,H)},F.prototype.unshift=function(E){return Z(this,E,null,!0,!1)};function Z(E,M,W,H,re){c("readableAddChunk",M);var se=E._readableState;if(M===null)se.reading=!1,v(E,se);else{var ee;if(re||(ee=X(se,M)),ee)P(E,ee);else if(se.objectMode||M&&M.length>0)if(typeof M!="string"&&!se.objectMode&&Object.getPrototypeOf(M)!==n.prototype&&(M=s(M)),H)se.endEmitted?P(E,new w):K(E,se,M,!0);else if(se.ended)P(E,new L);else{if(se.destroyed)return!1;se.reading=!1,se.decoder&&!W?(M=se.decoder.write(M),se.objectMode||M.length!==0?K(E,se,M,!1):C(E,se)):K(E,se,M,!1)}else H||(se.reading=!1,C(E,se))}return!se.ended&&(se.length<se.highWaterMark||se.length===0)}function K(E,M,W,H){M.flowing&&M.length===0&&!M.sync?(M.awaitDrain=0,E.emit("data",W)):(M.length+=M.objectMode?1:W.length,H?M.buffer.unshift(W):M.buffer.push(W),M.needReadable&&y(E)),C(E,M)}function X(E,M){var W;return!o(M)&&typeof M!="string"&&M!==void 0&&!E.objectMode&&(W=new R("chunk",["string","Buffer","Uint8Array"],M)),W}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(E){I||(I=tf().StringDecoder);var M=new I(E);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,H="";W!==null;)H+=M.write(W.data),W=W.next;return this._readableState.buffer.clear(),H!==""&&this._readableState.buffer.push(H),this._readableState.length=H.length,this};var b=1073741824;function u(E){return E>=b?E=b:(E--,E|=E>>>1,E|=E>>>2,E|=E>>>4,E|=E>>>8,E|=E>>>16,E++),E}function p(E,M){return E<=0||M.length===0&&M.ended?0:M.objectMode?1:E!==E?M.flowing&&M.length?M.buffer.head.data.length:M.length:(E>M.highWaterMark&&(M.highWaterMark=u(E)),E<=M.length?E:M.ended?M.length:(M.needReadable=!0,0))}F.prototype.read=function(E){c("read",E),E=parseInt(E,10);var M=this._readableState,W=E;if(E!==0&&(M.emittedReadable=!1),E===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return c("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?D(this):y(this),null;if(E=p(E,M),E===0&&M.ended)return M.length===0&&D(this),null;var H=M.needReadable;c("need readable",H),(M.length===0||M.length-E<M.highWaterMark)&&(H=!0,c("length less than watermark",H)),M.ended||M.reading?(H=!1,c("reading or ended",H)):H&&(c("do read"),M.reading=!0,M.sync=!0,M.length===0&&(M.needReadable=!0),this._read(M.highWaterMark),M.sync=!1,M.reading||(E=p(W,M)));var re;return E>0?re=N(E,M):re=null,re===null?(M.needReadable=M.length<=M.highWaterMark,E=0):(M.length-=E,M.awaitDrain=0),M.length===0&&(M.ended||(M.needReadable=!0),W!==E&&M.ended&&D(this)),re!==null&&this.emit("data",re),re};function v(E,M){if(c("onEofChunk"),!M.ended){if(M.decoder){var W=M.decoder.end();W&&W.length&&(M.buffer.push(W),M.length+=M.objectMode?1:W.length)}M.ended=!0,M.sync?y(E):(M.needReadable=!1,M.emittedReadable||(M.emittedReadable=!0,S(E)))}}function y(E){var M=E._readableState;c("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(c("emitReadable",M.flowing),M.emittedReadable=!0,process.nextTick(S,E))}function S(E){var M=E._readableState;c("emitReadable_",M.destroyed,M.length,M.ended),!M.destroyed&&(M.length||M.ended)&&(E.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,A(E)}function C(E,M){M.readingMore||(M.readingMore=!0,process.nextTick(k,E,M))}function k(E,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){var W=M.length;if(c("maybeReadMore read 0"),E.read(0),W===M.length)break}M.readingMore=!1}F.prototype._read=function(E){P(this,new O("_read()"))},F.prototype.pipe=function(E,M){var W=this,H=this._readableState;switch(H.pipesCount){case 0:H.pipes=E;break;case 1:H.pipes=[H.pipes,E];break;default:H.pipes.push(E);break}H.pipesCount+=1,c("pipe count=%d opts=%j",H.pipesCount,M);var re=(!M||M.end!==!1)&&E!==process.stdout&&E!==process.stderr,se=re?pe:be;H.endEmitted?process.nextTick(se):W.once("end",se),E.on("unpipe",ee);function ee(ge,Rt){c("onunpipe"),ge===W&&Rt&&Rt.hasUnpiped===!1&&(Rt.hasUnpiped=!0,Me())}function pe(){c("onend"),E.end()}var Kt=m(W);E.on("drain",Kt);var Se=!1;function Me(){c("cleanup"),E.removeListener("close",me),E.removeListener("finish",hr),E.removeListener("drain",Kt),E.removeListener("error",ye),E.removeListener("unpipe",ee),W.removeListener("end",pe),W.removeListener("end",be),W.removeListener("data",Er),Se=!0,H.awaitDrain&&(!E._writableState||E._writableState.needDrain)&&Kt()}W.on("data",Er);function Er(ge){c("ondata");var Rt=E.write(ge);c("dest.write",Rt),Rt===!1&&((H.pipesCount===1&&H.pipes===E||H.pipesCount>1&&oe(H.pipes,E)!==-1)&&!Se&&(c("false write response, pause",H.awaitDrain),H.awaitDrain++),W.pause())}function ye(ge){c("onerror",ge),be(),E.removeListener("error",ye),e(E,"error")===0&&P(E,ge)}q(E,"error",ye);function me(){E.removeListener("finish",hr),be()}E.once("close",me);function hr(){c("onfinish"),E.removeListener("close",me),be()}E.once("finish",hr);function be(){c("unpipe"),W.unpipe(E)}return E.emit("pipe",W),H.flowing||(c("pipe resume"),W.resume()),E};function m(E){return function(){var W=E._readableState;c("pipeOnDrain",W.awaitDrain),W.awaitDrain&&W.awaitDrain--,W.awaitDrain===0&&e(E,"data")&&(W.flowing=!0,A(E))}}F.prototype.unpipe=function(E){var M=this._readableState,W={hasUnpiped:!1};if(M.pipesCount===0)return this;if(M.pipesCount===1)return E&&E!==M.pipes?this:(E||(E=M.pipes),M.pipes=null,M.pipesCount=0,M.flowing=!1,E&&E.emit("unpipe",this,W),this);if(!E){var H=M.pipes,re=M.pipesCount;M.pipes=null,M.pipesCount=0,M.flowing=!1;for(var se=0;se<re;se++)H[se].emit("unpipe",this,{hasUnpiped:!1});return this}var ee=oe(M.pipes,E);return ee===-1?this:(M.pipes.splice(ee,1),M.pipesCount-=1,M.pipesCount===1&&(M.pipes=M.pipes[0]),E.emit("unpipe",this,W),this)},F.prototype.on=function(E,M){var W=r.prototype.on.call(this,E,M),H=this._readableState;return E==="data"?(H.readableListening=this.listenerCount("readable")>0,H.flowing!==!1&&this.resume()):E==="readable"&&!H.endEmitted&&!H.readableListening&&(H.readableListening=H.needReadable=!0,H.flowing=!1,H.emittedReadable=!1,c("on readable",H.length,H.reading),H.length?y(this):H.reading||process.nextTick(x,this)),W},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(E,M){var W=r.prototype.removeListener.call(this,E,M);return E==="readable"&&process.nextTick(f,this),W},F.prototype.removeAllListeners=function(E){var M=r.prototype.removeAllListeners.apply(this,arguments);return(E==="readable"||E===void 0)&&process.nextTick(f,this),M};function f(E){var M=E._readableState;M.readableListening=E.listenerCount("readable")>0,M.resumeScheduled&&!M.paused?M.flowing=!0:E.listenerCount("data")>0&&E.resume()}function x(E){c("readable nexttick read 0"),E.read(0)}F.prototype.resume=function(){var E=this._readableState;return E.flowing||(c("resume"),E.flowing=!E.readableListening,U(this,E)),E.paused=!1,this};function U(E,M){M.resumeScheduled||(M.resumeScheduled=!0,process.nextTick(G,E,M))}function G(E,M){c("resume",M.reading),M.reading||E.read(0),M.resumeScheduled=!1,E.emit("resume"),A(E),M.flowing&&!M.reading&&E.read(0)}F.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function A(E){var M=E._readableState;for(c("flow",M.flowing);M.flowing&&E.read()!==null;);}F.prototype.wrap=function(E){var M=this,W=this._readableState,H=!1;E.on("end",function(){if(c("wrapped end"),W.decoder&&!W.ended){var ee=W.decoder.end();ee&&ee.length&&M.push(ee)}M.push(null)}),E.on("data",function(ee){if(c("wrapped data"),W.decoder&&(ee=W.decoder.write(ee)),!(W.objectMode&&ee==null)&&!(!W.objectMode&&(!ee||!ee.length))){var pe=M.push(ee);pe||(H=!0,E.pause())}});for(var re in E)this[re]===void 0&&typeof E[re]=="function"&&(this[re]=function(pe){return function(){return E[pe].apply(E,arguments)}}(re));for(var se=0;se<j.length;se++)E.on(j[se],this.emit.bind(this,j[se]));return this._read=function(ee){c("wrapped _read",ee),H&&(H=!1,E.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=Lm()),T(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),F._fromList=N,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(E,M){if(M.length===0)return null;var W;return M.objectMode?W=M.buffer.shift():!E||E>=M.length?(M.decoder?W=M.buffer.join(""):M.buffer.length===1?W=M.buffer.first():W=M.buffer.concat(M.length),M.buffer.clear()):W=M.buffer.consume(E,M.decoder),W}function D(E){var M=E._readableState;c("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,process.nextTick(V,M,E))}function V(E,M){if(c("endReadableNT",E.endEmitted,E.length),!E.endEmitted&&E.length===0&&(E.endEmitted=!0,M.readable=!1,M.emit("end"),E.autoDestroy)){var W=M._writableState;(!W||W.autoDestroy&&W.finished)&&M.destroy()}}typeof Symbol=="function"&&(F.from=function(E,M){return $===void 0&&($=Pm()),$(F,E,M)});function oe(E,M){for(var W=0,H=E.length;W<H;W++)if(E[W]===M)return W;return-1}return qa}var Dd=mr,Ao=xn.codes,$m=Ao.ERR_METHOD_NOT_IMPLEMENTED,Dm=Ao.ERR_MULTIPLE_CALLBACK,jm=Ao.ERR_TRANSFORM_ALREADY_TRANSFORMING,Bm=Ao.ERR_TRANSFORM_WITH_LENGTH_0,ko=ui();Zt(mr,ko);function Fm(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Dm);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function mr(t){if(!(this instanceof mr))return new mr(t);ko.call(this,t),this._transformState={afterTransform:Fm.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Wm)}function Wm(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){af(t,e,r)}):af(this,null,null)}mr.prototype.push=function(t,e){return this._transformState.needTransform=!1,ko.prototype.push.call(this,t,e)};mr.prototype._transform=function(t,e,r){r(new $m("_transform()"))};mr.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};mr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};mr.prototype._destroy=function(t,e){ko.prototype._destroy.call(this,t,function(r){e(r)})};function af(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Bm;if(t._transformState.transforming)throw new jm;return t.push(null)}var Hm=Xi,jd=Dd;Zt(Xi,jd);function Xi(t){if(!(this instanceof Xi))return new Xi(t);jd.call(this,t)}Xi.prototype._transform=function(t,e,r){r(null,t)};var Ga;function Vm(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Bd=xn.codes,Um=Bd.ERR_MISSING_ARGS,zm=Bd.ERR_STREAM_DESTROYED;function uf(t){if(t)throw t}function qm(t){return t.setHeader&&typeof t.abort=="function"}function Gm(t,e,r,n){n=Vm(n);var i=!1;t.on("close",function(){i=!0}),Ga===void 0&&(Ga=hc),Ga(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,qm(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new zm("pipe"))}}}function cf(t){t()}function Jm(t,e){return t.pipe(e)}function Zm(t){return!t.length||typeof t[t.length-1]!="function"?uf:t.pop()}function Qm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Zm(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Um("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return Gm(o,c,l,function(h){i||(i=h),h&&s.forEach(cf),!c&&(s.forEach(cf),n(i))})});return e.reduce(Jm)}var Ym=Qm;(function(t,e){e=t.exports=$d(),e.Stream=e,e.Readable=e,e.Writable=Ld(),e.Duplex=ui(),e.Transform=Dd,e.PassThrough=Hm,e.finished=hc,e.pipeline=Ym})(Ou,Ou.exports);var Fd=Ou.exports;const{Transform:Km}=Fd;var Xm=t=>class Wd extends Km{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Wd(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:e1}=Fd;var t1=t=>class Hd extends e1{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Hd(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const r1=Xm,n1=t1;var i1=function(t){const e=r1(t),r=n1(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},s1=i1(bm);const o1=s1,a1=So;function Vd(t){return Buffer.allocUnsafe(t).fill(0)}function Ud(t,e,r){const n=Vd(e);return t=To(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function u1(t,e){return Ud(t,e,!0)}function To(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")zd(t)?t=Buffer.from(f1(qd(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(a1.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function c1(t){return t=To(t),"0x"+t.toString("hex")}function l1(t,e){return t=To(t),e||(e=256),o1("keccak"+e).update(t).digest()}function f1(t){return t.length%2?"0"+t:t}function zd(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function qd(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Gd={zeros:Vd,setLength:Ud,setLengthRight:u1,isHexString:zd,stripHexPrefix:qd,toBuffer:To,bufferToHex:c1,keccak:l1};const vn=Gd,fn=So;function Jd(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function ei(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function lf(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Zd(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function on(t){var e=typeof t;if(e==="string")return vn.isHexString(t)?new fn(vn.stripHexPrefix(t),16):new fn(t,10);if(e==="number")return new fn(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function nr(t,e){var r,n,i,s;if(t==="address")return nr("uint160",on(e));if(t==="bool")return nr("uint8",e?1:0);if(t==="string")return nr("bytes",new Buffer(e,"utf8"));if(d1(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Zd(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(nr(t,e[s]));if(r==="dynamic"){var o=nr("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([nr("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,vn.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=ei(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return vn.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=ei(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=on(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=ei(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=on(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=lf(t),n=on(e),n<0)throw new Error("Supplied ufixed is negative");return nr("uint256",n.mul(new fn(2).pow(new fn(r[1]))))}else if(t.startsWith("fixed"))return r=lf(t),nr("int256",on(e).mul(new fn(2).pow(new fn(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function h1(t){return t==="string"||t==="bytes"||Zd(t)==="dynamic"}function d1(t){return t.lastIndexOf("]")===t.length-1}function p1(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Jd(t[s]),a=e[s],c=nr(o,a);h1(o)?(r.push(nr("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function Qd(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Jd(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(vn.setLength(a,20));else if(o.startsWith("bytes")){if(r=ei(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(vn.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=ei(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=on(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=ei(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=on(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function g1(t,e){return vn.keccak(Qd(t,e))}var v1={rawEncode:p1,solidityPack:Qd,soliditySHA3:g1};const zt=Gd,qi=v1,Yd={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ja={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":zt.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",zt.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",zt.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),d=l.map(g=>o(a,h,g));return["bytes32",zt.keccak(qi.rawEncode(d.map(([g])=>g),d.map(([,g])=>g)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=zt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=zt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=zt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return qi.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return zt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return zt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Yd.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),zt.keccak(Buffer.concat(n))}};var b1={TYPED_MESSAGE_SCHEMA:Yd,TypedDataUtils:Ja,hashForSignTypedDataLegacy:function(t){return y1(t.data)},hashForSignTypedData_v3:function(t){return Ja.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ja.hash(t.data)}};function y1(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?zt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return qi.soliditySHA3(["bytes32","bytes32"],[qi.soliditySHA3(new Array(t.length).fill("string"),i),qi.soliditySHA3(n,r)])}var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.filterFromParam=ci.FilterPolyfill=void 0;const Zn=fs,_t=Q,m1=5*60*1e3,an={jsonrpc:"2.0",id:0};class _1{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Zn.IntNumber)(1),this.provider=e}async newFilter(e){const r=Kd(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,_t.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,_t.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,_t.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,_t.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,_t.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Ls())}async getFilterLogs(e){const r=(0,_t.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_getLogs",params:[ff(n)]})):Ls()}makeFilterId(){return(0,Zn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Ls();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Ps();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_getLogs",params:[ff(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,_t.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,Zn.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Ls();const n=await this.getCurrentBlockHeight();if(r>n)return Ps();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,_t.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Zn.IntNumber)(o))))).filter(o=>!!o),s=(0,Zn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},an),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Ps())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},m1);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_blockNumber",params:[]}));return(0,_t.intNumberFromHexString)((0,_t.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},an),{method:"eth_getBlockByNumber",params:[(0,_t.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,_t.ensureHexString)(r.result.hash):null}}ci.FilterPolyfill=_1;function Kd(t){return{fromBlock:hf(t.fromBlock),toBlock:hf(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}ci.filterFromParam=Kd;function ff(t){const e={fromBlock:df(t.fromBlock),toBlock:df(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function hf(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Zn.IntNumber)(0);if((0,_t.isHexString)(t))return(0,_t.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function df(t){return t==="latest"?t:(0,_t.hexStringFromIntNumber)(t)}function Ls(){return Object.assign(Object.assign({},an),{error:{code:-32e3,message:"filter not found"}})}function Ps(){return Object.assign(Object.assign({},an),{result:[]})}var Xd={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Xd);var Oo={},ep={},No={},dc=w1;function w1(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const pf=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var S1=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):pf(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?pf(s,e):s}return n},ps={},E1=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});ps.BaseBlockTracker=void 0;const M1=E1(wn),x1=1e3,C1=(t,e)=>t+e,gf=["sync","latest"];class R1 extends M1.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*x1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){gf.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return gf.map(e=>this.listenerCount(e)).reduce(C1)}_newPotentialLatest(e){const r=this._currentBlock;r&&vf(e)<=vf(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}ps.BaseBlockTracker=R1;function vf(t){return Number.parseInt(t,16)}var tp={},rp={},pt={};class np extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function I1(t){return Ft(t)&&typeof t[Symbol.iterator]=="function"}function Ft(t){return typeof t=="object"&&t!=null}function bf(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function st(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function A1(t){const{done:e,value:r}=t.next();return e?void 0:r}function k1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${st(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Lu(t,e,r,n){I1(t)||(t=[t]);for(const i of t){const s=k1(i,e,r,n);s&&(yield s)}}function*pc(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ft(e.schema)&&Ft(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,h,d]of e.entries(t,a)){const g=pc(h,d,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,h],coerce:s,mask:o,message:r.message});for(const _ of g)_[0]?(c=_[0].refinement!=null?"not_refined":"not_valid",yield[_[0],void 0]):s&&(h=_[1],l===void 0?t=h:t instanceof Map?t.set(l,h):t instanceof Set?t.add(h):Ft(t)&&(h!==void 0||l in t)&&(t[l]=h))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class rt{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const h=i(c,l);return Lu(h,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const h=s(c,l);return Lu(h,l,this,c)}:this.refiner=()=>[]}assert(e,r){return ip(e,this,r)}create(e,r){return sp(e,this,r)}is(e){return gc(e,this)}mask(e,r){return op(e,this,r)}validate(e,r={}){return Ri(e,this,r)}}function ip(t,e,r){const n=Ri(t,e,{message:r});if(n[0])throw n[0]}function sp(t,e,r){const n=Ri(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function op(t,e,r){const n=Ri(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function gc(t,e){return!Ri(t,e)[0]}function Ri(t,e,r={}){const n=pc(t,e,r),i=A1(n);return i[0]?[new np(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function T1(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?bc(n):gs(n)}function Ct(t,e){return new rt({type:t,schema:null,validator:e})}function O1(t,e){return new rt({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function N1(t){return new rt({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function L1(t){let e;return new rt({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function P1(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return bc(n);default:return gs(n)}}function $1(t){const e=t instanceof rt?{...t.schema}:{...t};for(const r in e)e[r]=ap(e[r]);return gs(e)}function D1(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return gs(n)}function j1(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ct(t,e)}function B1(){return Ct("any",()=>!0)}function F1(t){return new rt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${st(e)}`}})}function W1(){return Ct("bigint",t=>typeof t=="bigint")}function H1(){return Ct("boolean",t=>typeof t=="boolean")}function V1(){return Ct("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${st(t)}`)}function U1(t){const e={},r=t.map(n=>st(n)).join();for(const n of t)e[n]=n;return new rt({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${st(n)}`}})}function z1(){return Ct("func",t=>typeof t=="function"||`Expected a function, but received: ${st(t)}`)}function q1(t){return Ct("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${st(e)}`)}function G1(){return Ct("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${st(t)}`)}function J1(t){return new rt({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Z1(t){const e=st(t),r=typeof t;return new rt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${st(n)}`}})}function Q1(t,e){return new rt({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${st(r)}`}})}function vc(){return Ct("never",()=>!1)}function Y1(t){return new rt({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function K1(){return Ct("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${st(t)}`)}function gs(t){const e=t?Object.keys(t):[],r=vc();return new rt({type:"object",schema:t||null,*entries(n){if(t&&Ft(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Ft(n)||`Expected an object, but received: ${st(n)}`},coercer(n){return Ft(n)?{...n}:n}})}function ap(t){return new rt({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function X1(t,e){return new rt({type:"record",schema:null,*entries(r){if(Ft(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ft(r)||`Expected an object, but received: ${st(r)}`}})}function e_(){return Ct("regexp",t=>t instanceof RegExp)}function t_(t){return new rt({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${st(e)}`}})}function up(){return Ct("string",t=>typeof t=="string"||`Expected a string, but received: ${st(t)}`)}function r_(t){const e=vc();return new rt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${st(r)}`}})}function bc(t){const e=Object.keys(t);return new rt({type:"type",schema:t,*entries(r){if(Ft(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ft(r)||`Expected an object, but received: ${st(r)}`},coercer(r){return Ft(r)?{...r}:r}})}function n_(t){const e=t.map(r=>r.type).join(" | ");return new rt({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=pc(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${st(r)}`,...i]}})}function cp(){return Ct("unknown",()=>!0)}function yc(t,e,r){return new rt({...t,coercer:(n,i)=>gc(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function i_(t,e,r={}){return yc(t,cp(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&bf(n)&&bf(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function s_(t){return yc(t,up(),e=>e.trim())}function o_(t){return Cn(t,"empty",e=>{const r=lp(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function lp(t){return t instanceof Map||t instanceof Set?t.size:t.length}function a_(t,e,r={}){const{exclusive:n}=r;return Cn(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function u_(t,e,r={}){const{exclusive:n}=r;return Cn(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function c_(t){return Cn(t,"nonempty",e=>lp(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function l_(t,e){return Cn(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function f_(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return Cn(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function Cn(t,e,r){return new rt({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=Lu(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const h_=Object.freeze(Object.defineProperty({__proto__:null,Struct:rt,StructError:np,any:B1,array:F1,assert:ip,assign:T1,bigint:W1,boolean:H1,coerce:yc,create:sp,date:V1,defaulted:i_,define:Ct,deprecated:O1,dynamic:N1,empty:o_,enums:U1,func:z1,instance:q1,integer:G1,intersection:J1,is:gc,lazy:L1,literal:Z1,map:Q1,mask:op,max:a_,min:u_,never:vc,nonempty:c_,nullable:Y1,number:K1,object:gs,omit:P1,optional:ap,partial:$1,pattern:l_,pick:D1,record:X1,refine:Cn,regexp:e_,set:t_,size:f_,string:up,struct:j1,trimmed:s_,tuple:r_,type:bc,union:n_,unknown:cp,validate:Ri},Symbol.toStringTag,{value:"Module"})),Rn=_n(h_);Object.defineProperty(pt,"__esModule",{value:!0});pt.assertExhaustive=pt.assertStruct=pt.assert=pt.AssertionError=void 0;const d_=Rn;function p_(t){return typeof t=="object"&&t!==null&&"message"in t}function g_(t){var e,r;return typeof((r=(e=t==null?void 0:t.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function v_(t){const e=p_(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function fp(t,e){return g_(t)?new t({message:e}):t({message:e})}class mc extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}pt.AssertionError=mc;function b_(t,e="Assertion failed.",r=mc){if(!t)throw e instanceof Error?e:fp(r,e)}pt.assert=b_;function y_(t,e,r="Assertion failed",n=mc){try{(0,d_.assert)(t,e)}catch(i){throw fp(n,`${r}: ${v_(i)}.`)}}pt.assertStruct=y_;function m_(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}pt.assertExhaustive=m_;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.base64=void 0;const __=Rn,w_=pt,S_=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,w_.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,__.pattern)(t,a)};vs.base64=S_;var he={},bs={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=Rn,r=pt;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(bs);Object.defineProperty(he,"__esModule",{value:!0});he.createDataView=he.concatBytes=he.valueToBytes=he.stringToBytes=he.numberToBytes=he.signedBigIntToBytes=he.bigIntToBytes=he.hexToBytes=he.bytesToString=he.bytesToNumber=he.bytesToSignedBigInt=he.bytesToBigInt=he.bytesToHex=he.assertIsBytes=he.isBytes=void 0;const At=pt,Pu=bs,yf=48,mf=58,_f=87;function E_(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const M_=E_();function _c(t){return t instanceof Uint8Array}he.isBytes=_c;function Ii(t){(0,At.assert)(_c(t),"Value must be a Uint8Array.")}he.assertIsBytes=Ii;function hp(t){if(Ii(t),t.length===0)return"0x";const e=M_(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,Pu.add0x)(r.join(""))}he.bytesToHex=hp;function dp(t){Ii(t);const e=hp(t);return BigInt(e)}he.bytesToBigInt=dp;function x_(t){Ii(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}he.bytesToSignedBigInt=x_;function C_(t){Ii(t);const e=dp(t);return(0,At.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}he.bytesToNumber=C_;function R_(t){return Ii(t),new TextDecoder().decode(t)}he.bytesToString=R_;function Lo(t){var e;if(((e=t==null?void 0:t.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,Pu.assertIsHexString)(t);const r=(0,Pu.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<mf?yf:_f),l=a-(a<mf?yf:_f);i[s]=c*16+l}return i}he.hexToBytes=Lo;function pp(t){(0,At.assert)(typeof t=="bigint","Value must be a bigint."),(0,At.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Lo(e)}he.bigIntToBytes=pp;function I_(t,e){(0,At.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function A_(t,e){(0,At.assert)(typeof t=="bigint","Value must be a bigint."),(0,At.assert)(typeof e=="number","Byte length must be a number."),(0,At.assert)(e>0,"Byte length must be greater than 0."),(0,At.assert)(I_(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}he.signedBigIntToBytes=A_;function gp(t){(0,At.assert)(typeof t=="number","Value must be a number."),(0,At.assert)(t>=0,"Value must be a non-negative number."),(0,At.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Lo(e)}he.numberToBytes=gp;function vp(t){return(0,At.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}he.stringToBytes=vp;function bp(t){if(typeof t=="bigint")return pp(t);if(typeof t=="number")return gp(t);if(typeof t=="string")return t.startsWith("0x")?Lo(t):vp(t);if(_c(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}he.valueToBytes=bp;function k_(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=bp(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}he.concatBytes=k_;function T_(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}he.createDataView=T_;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.ChecksumStruct=void 0;const wf=Rn,O_=vs;Po.ChecksumStruct=(0,wf.size)((0,O_.base64)((0,wf.string)(),{paddingRequired:!0}),44,44);var ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.createHex=ar.createBytes=ar.createBigInt=ar.createNumber=void 0;const Ye=Rn,N_=pt,yp=he,$o=bs,mp=(0,Ye.union)([(0,Ye.number)(),(0,Ye.bigint)(),(0,Ye.string)(),$o.StrictHexStruct]),L_=(0,Ye.coerce)((0,Ye.number)(),mp,Number),P_=(0,Ye.coerce)((0,Ye.bigint)(),mp,BigInt);(0,Ye.union)([$o.StrictHexStruct,(0,Ye.instance)(Uint8Array)]);const $_=(0,Ye.coerce)((0,Ye.instance)(Uint8Array),(0,Ye.union)([$o.StrictHexStruct]),yp.hexToBytes),D_=(0,Ye.coerce)($o.StrictHexStruct,(0,Ye.instance)(Uint8Array),yp.bytesToHex);function j_(t){try{const e=(0,Ye.create)(t,L_);return(0,N_.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ar.createNumber=j_;function B_(t){try{return(0,Ye.create)(t,P_)}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ar.createBigInt=B_;function F_(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,Ye.create)(t,$_)}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ar.createBytes=F_;function W_(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,Ye.create)(t,D_)}catch(e){throw e instanceof Ye.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ar.createHex=W_;var li={},_p=J&&J.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},wt=J&&J.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Vt,er;Object.defineProperty(li,"__esModule",{value:!0});li.FrozenSet=li.FrozenMap=void 0;class wc{constructor(e){Vt.set(this,void 0),_p(this,Vt,new Map(e),"f"),Object.freeze(this)}get size(){return wt(this,Vt,"f").size}[(Vt=new WeakMap,Symbol.iterator)](){return wt(this,Vt,"f")[Symbol.iterator]()}entries(){return wt(this,Vt,"f").entries()}forEach(e,r){return wt(this,Vt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return wt(this,Vt,"f").get(e)}has(e){return wt(this,Vt,"f").has(e)}keys(){return wt(this,Vt,"f").keys()}values(){return wt(this,Vt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}li.FrozenMap=wc;class Sc{constructor(e){er.set(this,void 0),_p(this,er,new Set(e),"f"),Object.freeze(this)}get size(){return wt(this,er,"f").size}[(er=new WeakMap,Symbol.iterator)](){return wt(this,er,"f")[Symbol.iterator]()}entries(){return wt(this,er,"f").entries()}forEach(e,r){return wt(this,er,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return wt(this,er,"f").has(e)}keys(){return wt(this,er,"f").keys()}values(){return wt(this,er,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}li.FrozenSet=Sc;Object.freeze(wc);Object.freeze(wc.prototype);Object.freeze(Sc);Object.freeze(Sc.prototype);var wp={},Ec={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return!!l&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,h)=>Object.hasOwnProperty.call(l,h);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let h=l;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(l)===h}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var h;return l.split("").reduce((g,_)=>o(_)?g+1:g+2,0)+((h=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(Ec);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=Rn,r=pt,n=Ec;t.JsonStruct=(0,e.define)("Json",P=>{const[j]=$(P,!0);return j?!0:"Expected a valid JSON-serializable value"});function i(P){return(0,e.is)(P,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(P){return(0,e.is)(P,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(P,j){(0,r.assertStruct)(P,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",j)}t.assertIsJsonRpcNotification=o;function a(P){return(0,e.is)(P,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(P,j){(0,r.assertStruct)(P,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",j)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(P){return(0,e.is)(P,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function h(P,j){(0,r.assertStruct)(P,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",j)}t.assertIsPendingJsonRpcResponse=h;function d(P){return(0,e.is)(P,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=d;function g(P,j){(0,r.assertStruct)(P,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",j)}t.assertIsJsonRpcResponse=g;function _(P){return(0,e.is)(P,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=_;function R(P,j){(0,r.assertStruct)(P,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",j)}t.assertIsJsonRpcSuccess=R;function L(P){return(0,e.is)(P,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=L;function O(P,j){(0,r.assertStruct)(P,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",j)}t.assertIsJsonRpcFailure=O;function w(P){return(0,e.is)(P,t.JsonRpcErrorStruct)}t.isJsonRpcError=w;function I(P,j){(0,r.assertStruct)(P,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",j)}t.assertIsJsonRpcError=I;function T(P){const{permitEmptyString:j,permitFractions:q,permitNull:z}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},P);return Z=>!!(typeof Z=="number"&&(q||Number.isInteger(Z))||typeof Z=="string"&&(j||Z.length>0)||z&&Z===null)}t.getJsonRpcIdValidator=T;function $(P,j=!1){const q=new Set;function z(F,Z){if(F===void 0)return[!1,0];if(F===null)return[!0,Z?0:n.JsonSize.Null];const K=typeof F;try{if(K==="function")return[!1,0];if(K==="string"||F instanceof String)return[!0,Z?0:(0,n.calculateStringSize)(F)+n.JsonSize.Quote*2];if(K==="boolean"||F instanceof Boolean)return Z?[!0,0]:[!0,F==!0?n.JsonSize.True:n.JsonSize.False];if(K==="number"||F instanceof Number)return Z?[!0,0]:[!0,(0,n.calculateNumberSize)(F)];if(F instanceof Date)return Z?[!0,0]:[!0,isNaN(F.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(F)&&!Array.isArray(F))return[!1,0];if(q.has(F))return[!1,0];q.add(F);try{return[!0,Object.entries(F).reduce((X,[b,u],p,v)=>{let[y,S]=z(u,Z);if(!y)throw new Error("JSON validation did not pass. Validation process stopped.");if(q.delete(F),Z)return 0;const C=Array.isArray(F)?0:b.length+n.JsonSize.Comma+n.JsonSize.Colon*2,k=p<v.length-1?n.JsonSize.Comma:0;return X+C+S+k},Z?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return z(P,j)}t.validateJsonAndGetSize=$})(wp);var fi={},$u={exports:{}},Za,Sf;function H_(){if(Sf)return Za;Sf=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Za=function(h,d){d=d||{};var g=typeof h;if(g==="string"&&h.length>0)return o(h);if(g==="number"&&isFinite(h))return d.long?c(h):a(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(d){var g=parseFloat(d[1]),_=(d[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function a(h){var d=Math.abs(h);return d>=n?Math.round(h/n)+"d":d>=r?Math.round(h/r)+"h":d>=e?Math.round(h/e)+"m":d>=t?Math.round(h/t)+"s":h+"ms"}function c(h){var d=Math.abs(h);return d>=n?l(h,d,n,"day"):d>=r?l(h,d,r,"hour"):d>=e?l(h,d,e,"minute"):d>=t?l(h,d,t,"second"):h+" ms"}function l(h,d,g,_){var R=d>=g*1.5;return Math.round(h/g)+" "+_+(R?"s":"")}return Za}function V_(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=H_(),r.destroy=l,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let d=0;for(let g=0;g<h.length;g++)d=(d<<5)-d+h.charCodeAt(g),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(h){let d,g=null,_,R;function L(...O){if(!L.enabled)return;const w=L,I=Number(new Date),T=I-(d||I);w.diff=T,w.prev=d,w.curr=I,d=I,O[0]=r.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let $=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(j,q)=>{if(j==="%%")return"%";$++;const z=r.formatters[q];if(typeof z=="function"){const F=O[$];j=z.call(w,F),O.splice($,1),$--}return j}),r.formatArgs.call(w,O),(w.log||r.log).apply(w,O)}return L.namespace=h,L.useColors=r.useColors(),L.color=r.selectColor(h),L.extend=n,L.destroy=r.destroy,Object.defineProperty(L,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(_!==r.namespaces&&(_=r.namespaces,R=r.enabled(h)),R),set:O=>{g=O}}),typeof r.init=="function"&&r.init(L),L}function n(h,d){const g=r(this.namespace+(typeof d>"u"?":":d)+h);return g.log=this.log,g}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let d;const g=(typeof h=="string"?h:"").split(/[\s,]+/),_=g.length;for(d=0;d<_;d++)g[d]&&(h=g[d].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function s(){const h=[...r.names.map(a),...r.skips.map(a).map(d=>"-"+d)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let d,g;for(d=0,g=r.skips.length;d<g;d++)if(r.skips[d].test(h))return!1;for(d=0,g=r.names.length;d<g;d++)if(r.names[d].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function c(h){return h instanceof Error?h.stack||h.message:h}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var U_=V_;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;l.splice(1,0,h,"color: inherit");let d=0,g=0;l[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(d++,_==="%c"&&(g=d))}),l.splice(g,0,h)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function o(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=r.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=U_(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})($u,$u.exports);var z_=$u.exports,q_=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});fi.createModuleLogger=fi.createProjectLogger=void 0;const G_=q_(z_),J_=(0,G_.default)("metamask");function Z_(t){return J_.extend(t)}fi.createProjectLogger=Z_;function Q_(t,e){return t.extend(e)}fi.createModuleLogger=Q_;var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.hexToBigInt=ur.hexToNumber=ur.bigIntToHex=ur.numberToHex=void 0;const ti=pt,es=bs,Y_=t=>((0,ti.assert)(typeof t=="number","Value must be a number."),(0,ti.assert)(t>=0,"Value must be a non-negative number."),(0,ti.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,es.add0x)(t.toString(16)));ur.numberToHex=Y_;const K_=t=>((0,ti.assert)(typeof t=="bigint","Value must be a bigint."),(0,ti.assert)(t>=0,"Value must be a non-negative bigint."),(0,es.add0x)(t.toString(16)));ur.bigIntToHex=K_;const X_=t=>{(0,es.assertIsHexString)(t);const e=parseInt(t,16);return(0,ti.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};ur.hexToNumber=X_;const ew=t=>((0,es.assertIsHexString)(t),BigInt((0,es.add0x)(t)));ur.hexToBigInt=ew;var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});var Ep={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Ep);var Mp={},Du={exports:{}};const tw="2.0.0",xp=256,rw=Number.MAX_SAFE_INTEGER||9007199254740991,nw=16,iw=xp-6,sw=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Do={MAX_LENGTH:xp,MAX_SAFE_COMPONENT_LENGTH:nw,MAX_SAFE_BUILD_LENGTH:iw,MAX_SAFE_INTEGER:rw,RELEASE_TYPES:sw,SEMVER_SPEC_VERSION:tw,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Qa={};const ow=typeof process=="object"&&Qa&&Qa.NODE_DEBUG&&/\bsemver\b/i.test(Qa.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var jo=ow;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Do,s=jo;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],l=e.t={};let h=0;const d="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",i],[d,n]],_=L=>{for(const[O,w]of g)L=L.split(`${O}*`).join(`${O}{0,${w}}`).split(`${O}+`).join(`${O}{1,${w}}`);return L},R=(L,O,w)=>{const I=_(O),T=h++;s(L,T,O),l[L]=T,c[T]=O,o[T]=new RegExp(O,w?"g":void 0),a[T]=new RegExp(I,w?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),R("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${d}+`),R("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),R("FULL",`^${c[l.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),R("LOOSE",`^${c[l.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),R("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),R("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),R("COERCERTL",c[l.COERCE],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",R("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",R("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Du,Du.exports);var ys=Du.exports;const aw=Object.freeze({loose:!0}),uw=Object.freeze({}),cw=t=>t?typeof t!="object"?aw:t:uw;var Mc=cw;const Ef=/^[0-9]+$/,Cp=(t,e)=>{const r=Ef.test(t),n=Ef.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},lw=(t,e)=>Cp(e,t);var Rp={compareIdentifiers:Cp,rcompareIdentifiers:lw};const $s=jo,{MAX_LENGTH:Mf,MAX_SAFE_INTEGER:Ds}=Do,{safeRe:xf,t:Cf}=ys,fw=Mc,{compareIdentifiers:Vn}=Rp;let hw=class rr{constructor(e,r){if(r=fw(r),e instanceof rr){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Mf)throw new TypeError(`version is longer than ${Mf} characters`);$s("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?xf[Cf.LOOSE]:xf[Cf.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ds||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ds||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ds||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Ds)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if($s("SemVer.compare",this.version,this.options,e),!(e instanceof rr)){if(typeof e=="string"&&e===this.version)return 0;e=new rr(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof rr||(e=new rr(e,this.options)),Vn(this.major,e.major)||Vn(this.minor,e.minor)||Vn(this.patch,e.patch)}comparePre(e){if(e instanceof rr||(e=new rr(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if($s("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Vn(n,i)}while(++r)}compareBuild(e){e instanceof rr||(e=new rr(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if($s("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Vn(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Vn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Mt=hw;const Rf=Mt,dw=(t,e,r=!1)=>{if(t instanceof Rf)return t;try{return new Rf(t,e)}catch(n){if(!r)return null;throw n}};var Ai=dw;const pw=Ai,gw=(t,e)=>{const r=pw(t,e);return r?r.version:null};var vw=gw;const bw=Ai,yw=(t,e)=>{const r=bw(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var mw=yw;const If=Mt,_w=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new If(t instanceof If?t.version:t,r).inc(e,n,i).version}catch{return null}};var ww=_w;const Af=Ai,Sw=(t,e)=>{const r=Af(t,null,!0),n=Af(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var Ew=Sw;const Mw=Mt,xw=(t,e)=>new Mw(t,e).major;var Cw=xw;const Rw=Mt,Iw=(t,e)=>new Rw(t,e).minor;var Aw=Iw;const kw=Mt,Tw=(t,e)=>new kw(t,e).patch;var Ow=Tw;const Nw=Ai,Lw=(t,e)=>{const r=Nw(t,e);return r&&r.prerelease.length?r.prerelease:null};var Pw=Lw;const kf=Mt,$w=(t,e,r)=>new kf(t,r).compare(new kf(e,r));var Qt=$w;const Dw=Qt,jw=(t,e,r)=>Dw(e,t,r);var Bw=jw;const Fw=Qt,Ww=(t,e)=>Fw(t,e,!0);var Hw=Ww;const Tf=Mt,Vw=(t,e,r)=>{const n=new Tf(t,r),i=new Tf(e,r);return n.compare(i)||n.compareBuild(i)};var xc=Vw;const Uw=xc,zw=(t,e)=>t.sort((r,n)=>Uw(r,n,e));var qw=zw;const Gw=xc,Jw=(t,e)=>t.sort((r,n)=>Gw(n,r,e));var Zw=Jw;const Qw=Qt,Yw=(t,e,r)=>Qw(t,e,r)>0;var Bo=Yw;const Kw=Qt,Xw=(t,e,r)=>Kw(t,e,r)<0;var Cc=Xw;const e2=Qt,t2=(t,e,r)=>e2(t,e,r)===0;var Ip=t2;const r2=Qt,n2=(t,e,r)=>r2(t,e,r)!==0;var Ap=n2;const i2=Qt,s2=(t,e,r)=>i2(t,e,r)>=0;var Rc=s2;const o2=Qt,a2=(t,e,r)=>o2(t,e,r)<=0;var Ic=a2;const u2=Ip,c2=Ap,l2=Bo,f2=Rc,h2=Cc,d2=Ic,p2=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return u2(t,r,n);case"!=":return c2(t,r,n);case">":return l2(t,r,n);case">=":return f2(t,r,n);case"<":return h2(t,r,n);case"<=":return d2(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var kp=p2;const g2=Mt,v2=Ai,{safeRe:js,t:Bs}=ys,b2=(t,e)=>{if(t instanceof g2)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(js[Bs.COERCE]);else{let n;for(;(n=js[Bs.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),js[Bs.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;js[Bs.COERCERTL].lastIndex=-1}return r===null?null:v2(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var y2=b2,Ya,Of;function m2(){return Of||(Of=1,Ya=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Ya}var _2=de;de.Node=bn;de.create=de;function de(t){var e=this;if(e instanceof de||(e=new de),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}de.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};de.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};de.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};de.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)S2(this,arguments[t]);return this.length};de.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)E2(this,arguments[t]);return this.length};de.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};de.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};de.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};de.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};de.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};de.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};de.prototype.map=function(t,e){e=e||this;for(var r=new de,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};de.prototype.mapReverse=function(t,e){e=e||this;for(var r=new de,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};de.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};de.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};de.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};de.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};de.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};de.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};de.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=w2(this,i,r[n]);return s};de.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function w2(t,e,r){var n=e===t.head?new bn(r,null,e,t):new bn(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function S2(t,e){t.tail=new bn(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function E2(t,e){t.head=new bn(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function bn(t,e,r,n){if(!(this instanceof bn))return new bn(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{m2()(de)}catch{}const M2=_2,un=Symbol("max"),vr=Symbol("length"),Un=Symbol("lengthCalculator"),Gi=Symbol("allowStale"),hn=Symbol("maxAge"),dr=Symbol("dispose"),Nf=Symbol("noDisposeOnSet"),ut=Symbol("lruList"),qt=Symbol("cache"),Tp=Symbol("updateAgeOnGet"),Ka=()=>1;class x2{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[un]=e.max||1/0;const r=e.length||Ka;if(this[Un]=typeof r!="function"?Ka:r,this[Gi]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[hn]=e.maxAge||0,this[dr]=e.dispose,this[Nf]=e.noDisposeOnSet||!1,this[Tp]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[un]=e||1/0,$i(this)}get max(){return this[un]}set allowStale(e){this[Gi]=!!e}get allowStale(){return this[Gi]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[hn]=e,$i(this)}get maxAge(){return this[hn]}set lengthCalculator(e){typeof e!="function"&&(e=Ka),e!==this[Un]&&(this[Un]=e,this[vr]=0,this[ut].forEach(r=>{r.length=this[Un](r.value,r.key),this[vr]+=r.length})),$i(this)}get lengthCalculator(){return this[Un]}get length(){return this[vr]}get itemCount(){return this[ut].length}rforEach(e,r){r=r||this;for(let n=this[ut].tail;n!==null;){const i=n.prev;Lf(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[ut].head;n!==null;){const i=n.next;Lf(this,e,n,r),n=i}}keys(){return this[ut].toArray().map(e=>e.key)}values(){return this[ut].toArray().map(e=>e.value)}reset(){this[dr]&&this[ut]&&this[ut].length&&this[ut].forEach(e=>this[dr](e.key,e.value)),this[qt]=new Map,this[ut]=new M2,this[vr]=0}dump(){return this[ut].map(e=>oo(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[ut]}set(e,r,n){if(n=n||this[hn],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Un](r,e);if(this[qt].has(e)){if(s>this[un])return ri(this,this[qt].get(e)),!1;const c=this[qt].get(e).value;return this[dr]&&(this[Nf]||this[dr](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[vr]+=s-c.length,c.length=s,this.get(e),$i(this),!0}const o=new C2(e,r,s,i,n);return o.length>this[un]?(this[dr]&&this[dr](e,r),!1):(this[vr]+=o.length,this[ut].unshift(o),this[qt].set(e,this[ut].head),$i(this),!0)}has(e){if(!this[qt].has(e))return!1;const r=this[qt].get(e).value;return!oo(this,r)}get(e){return Xa(this,e,!0)}peek(e){return Xa(this,e,!1)}pop(){const e=this[ut].tail;return e?(ri(this,e),e.value):null}del(e){ri(this,this[qt].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[qt].forEach((e,r)=>Xa(this,r,!1))}}const Xa=(t,e,r)=>{const n=t[qt].get(e);if(n){const i=n.value;if(oo(t,i)){if(ri(t,n),!t[Gi])return}else r&&(t[Tp]&&(n.value.now=Date.now()),t[ut].unshiftNode(n));return i.value}},oo=(t,e)=>{if(!e||!e.maxAge&&!t[hn])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[hn]&&r>t[hn]},$i=t=>{if(t[vr]>t[un])for(let e=t[ut].tail;t[vr]>t[un]&&e!==null;){const r=e.prev;ri(t,e),e=r}},ri=(t,e)=>{if(e){const r=e.value;t[dr]&&t[dr](r.key,r.value),t[vr]-=r.length,t[qt].delete(r.key),t[ut].removeNode(e)}};class C2{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Lf=(t,e,r,n)=>{let i=r.value;oo(t,i)&&(ri(t,r),t[Gi]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var R2=x2,eu,Pf;function Yt(){if(Pf)return eu;Pf=1;class t{constructor(u,p){if(p=n(p),u instanceof t)return u.loose===!!p.loose&&u.includePrerelease===!!p.includePrerelease?u:new t(u.raw,p);if(u instanceof i)return this.raw=u.value,this.set=[[u]],this.format(),this;if(this.options=p,this.loose=!!p.loose,this.includePrerelease=!!p.includePrerelease,this.raw=u.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(v=>this.parseRange(v.trim())).filter(v=>v.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const v=this.set[0];if(this.set=this.set.filter(y=>!R(y[0])),this.set.length===0)this.set=[v];else if(this.set.length>1){for(const y of this.set)if(y.length===1&&L(y[0])){this.set=[y];break}}}this.format()}format(){return this.range=this.set.map(u=>u.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(u){const v=((this.options.includePrerelease&&g)|(this.options.loose&&_))+":"+u,y=r.get(v);if(y)return y;const S=this.options.loose,C=S?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];u=u.replace(C,K(this.options.includePrerelease)),s("hyphen replace",u),u=u.replace(a[c.COMPARATORTRIM],l),s("comparator trim",u),u=u.replace(a[c.TILDETRIM],h),s("tilde trim",u),u=u.replace(a[c.CARETTRIM],d),s("caret trim",u);let k=u.split(" ").map(U=>w(U,this.options)).join(" ").split(/\s+/).map(U=>Z(U,this.options));S&&(k=k.filter(U=>(s("loose invalid filter",U,this.options),!!U.match(a[c.COMPARATORLOOSE])))),s("range list",k);const m=new Map,f=k.map(U=>new i(U,this.options));for(const U of f){if(R(U))return[U];m.set(U.value,U)}m.size>1&&m.has("")&&m.delete("");const x=[...m.values()];return r.set(v,x),x}intersects(u,p){if(!(u instanceof t))throw new TypeError("a Range is required");return this.set.some(v=>O(v,p)&&u.set.some(y=>O(y,p)&&v.every(S=>y.every(C=>S.intersects(C,p)))))}test(u){if(!u)return!1;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}for(let p=0;p<this.set.length;p++)if(X(this.set[p],u,this.options))return!0;return!1}}eu=t;const e=R2,r=new e({max:1e3}),n=Mc,i=Fo(),s=jo,o=Mt,{safeRe:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:h,caretTrimReplace:d}=ys,{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:_}=Do,R=b=>b.value==="<0.0.0-0",L=b=>b.value==="",O=(b,u)=>{let p=!0;const v=b.slice();let y=v.pop();for(;p&&v.length;)p=v.every(S=>y.intersects(S,u)),y=v.pop();return p},w=(b,u)=>(s("comp",b,u),b=P(b,u),s("caret",b),b=T(b,u),s("tildes",b),b=q(b,u),s("xrange",b),b=F(b,u),s("stars",b),b),I=b=>!b||b.toLowerCase()==="x"||b==="*",T=(b,u)=>b.trim().split(/\s+/).map(p=>$(p,u)).join(" "),$=(b,u)=>{const p=u.loose?a[c.TILDELOOSE]:a[c.TILDE];return b.replace(p,(v,y,S,C,k)=>{s("tilde",b,v,y,S,C,k);let m;return I(y)?m="":I(S)?m=`>=${y}.0.0 <${+y+1}.0.0-0`:I(C)?m=`>=${y}.${S}.0 <${y}.${+S+1}.0-0`:k?(s("replaceTilde pr",k),m=`>=${y}.${S}.${C}-${k} <${y}.${+S+1}.0-0`):m=`>=${y}.${S}.${C} <${y}.${+S+1}.0-0`,s("tilde return",m),m})},P=(b,u)=>b.trim().split(/\s+/).map(p=>j(p,u)).join(" "),j=(b,u)=>{s("caret",b,u);const p=u.loose?a[c.CARETLOOSE]:a[c.CARET],v=u.includePrerelease?"-0":"";return b.replace(p,(y,S,C,k,m)=>{s("caret",b,y,S,C,k,m);let f;return I(S)?f="":I(C)?f=`>=${S}.0.0${v} <${+S+1}.0.0-0`:I(k)?S==="0"?f=`>=${S}.${C}.0${v} <${S}.${+C+1}.0-0`:f=`>=${S}.${C}.0${v} <${+S+1}.0.0-0`:m?(s("replaceCaret pr",m),S==="0"?C==="0"?f=`>=${S}.${C}.${k}-${m} <${S}.${C}.${+k+1}-0`:f=`>=${S}.${C}.${k}-${m} <${S}.${+C+1}.0-0`:f=`>=${S}.${C}.${k}-${m} <${+S+1}.0.0-0`):(s("no pr"),S==="0"?C==="0"?f=`>=${S}.${C}.${k}${v} <${S}.${C}.${+k+1}-0`:f=`>=${S}.${C}.${k}${v} <${S}.${+C+1}.0-0`:f=`>=${S}.${C}.${k} <${+S+1}.0.0-0`),s("caret return",f),f})},q=(b,u)=>(s("replaceXRanges",b,u),b.split(/\s+/).map(p=>z(p,u)).join(" ")),z=(b,u)=>{b=b.trim();const p=u.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return b.replace(p,(v,y,S,C,k,m)=>{s("xRange",b,v,y,S,C,k,m);const f=I(S),x=f||I(C),U=x||I(k),G=U;return y==="="&&G&&(y=""),m=u.includePrerelease?"-0":"",f?y===">"||y==="<"?v="<0.0.0-0":v="*":y&&G?(x&&(C=0),k=0,y===">"?(y=">=",x?(S=+S+1,C=0,k=0):(C=+C+1,k=0)):y==="<="&&(y="<",x?S=+S+1:C=+C+1),y==="<"&&(m="-0"),v=`${y+S}.${C}.${k}${m}`):x?v=`>=${S}.0.0${m} <${+S+1}.0.0-0`:U&&(v=`>=${S}.${C}.0${m} <${S}.${+C+1}.0-0`),s("xRange return",v),v})},F=(b,u)=>(s("replaceStars",b,u),b.trim().replace(a[c.STAR],"")),Z=(b,u)=>(s("replaceGTE0",b,u),b.trim().replace(a[u.includePrerelease?c.GTE0PRE:c.GTE0],"")),K=b=>(u,p,v,y,S,C,k,m,f,x,U,G,A)=>(I(v)?p="":I(y)?p=`>=${v}.0.0${b?"-0":""}`:I(S)?p=`>=${v}.${y}.0${b?"-0":""}`:C?p=`>=${p}`:p=`>=${p}${b?"-0":""}`,I(f)?m="":I(x)?m=`<${+f+1}.0.0-0`:I(U)?m=`<${f}.${+x+1}.0-0`:G?m=`<=${f}.${x}.${U}-${G}`:b?m=`<${f}.${x}.${+U+1}-0`:m=`<=${m}`,`${p} ${m}`.trim()),X=(b,u,p)=>{for(let v=0;v<b.length;v++)if(!b[v].test(u))return!1;if(u.prerelease.length&&!p.includePrerelease){for(let v=0;v<b.length;v++)if(s(b[v].semver),b[v].semver!==i.ANY&&b[v].semver.prerelease.length>0){const y=b[v].semver;if(y.major===u.major&&y.minor===u.minor&&y.patch===u.patch)return!0}return!1}return!0};return eu}var tu,$f;function Fo(){if($f)return tu;$f=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,d){if(d=r(d),h instanceof e){if(h.loose===!!d.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,d),this.options=d,this.loose=!!d.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const d=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],g=h.match(d);if(!g)throw new TypeError(`Invalid comparator: ${h}`);this.operator=g[1]!==void 0?g[1]:"",this.operator==="="&&(this.operator=""),g[2]?this.semver=new a(g[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new a(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,d){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,d).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,d).test(h.semver):(d=r(d),d.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,d)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,d)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}tu=e;const r=Mc,{safeRe:n,t:i}=ys,s=kp,o=jo,a=Mt,c=Yt();return tu}const I2=Yt(),A2=(t,e,r)=>{try{e=new I2(e,r)}catch{return!1}return e.test(t)};var Wo=A2;const k2=Yt(),T2=(t,e)=>new k2(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var O2=T2;const N2=Mt,L2=Yt(),P2=(t,e,r)=>{let n=null,i=null,s=null;try{s=new L2(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new N2(n,r))}),n};var $2=P2;const D2=Mt,j2=Yt(),B2=(t,e,r)=>{let n=null,i=null,s=null;try{s=new j2(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new D2(n,r))}),n};var F2=B2;const ru=Mt,W2=Yt(),Df=Bo,H2=(t,e)=>{t=new W2(t,e);let r=new ru("0.0.0");if(t.test(r)||(r=new ru("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new ru(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Df(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Df(r,s))&&(r=s)}return r&&t.test(r)?r:null};var V2=H2;const U2=Yt(),z2=(t,e)=>{try{return new U2(t,e).range||"*"}catch{return null}};var q2=z2;const G2=Mt,Op=Fo(),{ANY:J2}=Op,Z2=Yt(),Q2=Wo,jf=Bo,Bf=Cc,Y2=Ic,K2=Rc,X2=(t,e,r,n)=>{t=new G2(t,n),e=new Z2(e,n);let i,s,o,a,c;switch(r){case">":i=jf,s=Y2,o=Bf,a=">",c=">=";break;case"<":i=Bf,s=K2,o=jf,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Q2(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const h=e.set[l];let d=null,g=null;if(h.forEach(_=>{_.semver===J2&&(_=new Op(">=0.0.0")),d=d||_,g=g||_,i(_.semver,d.semver,n)?d=_:o(_.semver,g.semver,n)&&(g=_)}),d.operator===a||d.operator===c||(!g.operator||g.operator===a)&&s(t,g.semver))return!1;if(g.operator===c&&o(t,g.semver))return!1}return!0};var Ac=X2;const eS=Ac,tS=(t,e,r)=>eS(t,e,">",r);var rS=tS;const nS=Ac,iS=(t,e,r)=>nS(t,e,"<",r);var sS=iS;const Ff=Yt(),oS=(t,e,r)=>(t=new Ff(t,r),e=new Ff(e,r),t.intersects(e,r));var aS=oS;const uS=Wo,cS=Qt;var lS=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,d)=>cS(h,d,r));for(const h of o)uS(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,d]of n)h===d?a.push(h):!d&&h===o[0]?a.push("*"):d?h===o[0]?a.push(`<=${d}`):a.push(`${h} - ${d}`):a.push(`>=${h}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const Wf=Yt(),kc=Fo(),{ANY:nu}=kc,Di=Wo,Tc=Qt,fS=(t,e,r={})=>{if(t===e)return!0;t=new Wf(t,r),e=new Wf(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=dS(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},hS=[new kc(">=0.0.0-0")],Hf=[new kc(">=0.0.0")],dS=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===nu){if(e.length===1&&e[0].semver===nu)return!0;r.includePrerelease?t=hS:t=Hf}if(e.length===1&&e[0].semver===nu){if(r.includePrerelease)return!0;e=Hf}const n=new Set;let i,s;for(const _ of t)_.operator===">"||_.operator===">="?i=Vf(i,_,r):_.operator==="<"||_.operator==="<="?s=Uf(s,_,r):n.add(_.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Tc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const _ of n){if(i&&!Di(_,String(i),r)||s&&!Di(_,String(s),r))return null;for(const R of e)if(!Di(_,String(R),r))return!1;return!0}let a,c,l,h,d=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,g=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;d&&d.prerelease.length===1&&s.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(const _ of e){if(h=h||_.operator===">"||_.operator===">=",l=l||_.operator==="<"||_.operator==="<=",i){if(g&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===g.major&&_.semver.minor===g.minor&&_.semver.patch===g.patch&&(g=!1),_.operator===">"||_.operator===">="){if(a=Vf(i,_,r),a===_&&a!==i)return!1}else if(i.operator===">="&&!Di(i.semver,String(_),r))return!1}if(s){if(d&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===d.major&&_.semver.minor===d.minor&&_.semver.patch===d.patch&&(d=!1),_.operator==="<"||_.operator==="<="){if(c=Uf(s,_,r),c===_&&c!==s)return!1}else if(s.operator==="<="&&!Di(s.semver,String(_),r))return!1}if(!_.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&h&&!i&&o!==0||g||d)},Vf=(t,e,r)=>{if(!t)return e;const n=Tc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Uf=(t,e,r)=>{if(!t)return e;const n=Tc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var pS=fS;const iu=ys,zf=Do,gS=Mt,qf=Rp,vS=Ai,bS=vw,yS=mw,mS=ww,_S=Ew,wS=Cw,SS=Aw,ES=Ow,MS=Pw,xS=Qt,CS=Bw,RS=Hw,IS=xc,AS=qw,kS=Zw,TS=Bo,OS=Cc,NS=Ip,LS=Ap,PS=Rc,$S=Ic,DS=kp,jS=y2,BS=Fo(),FS=Yt(),WS=Wo,HS=O2,VS=$2,US=F2,zS=V2,qS=q2,GS=Ac,JS=rS,ZS=sS,QS=aS,YS=lS,KS=pS;var XS={parse:vS,valid:bS,clean:yS,inc:mS,diff:_S,major:wS,minor:SS,patch:ES,prerelease:MS,compare:xS,rcompare:CS,compareLoose:RS,compareBuild:IS,sort:AS,rsort:kS,gt:TS,lt:OS,eq:NS,neq:LS,gte:PS,lte:$S,cmp:DS,coerce:jS,Comparator:BS,Range:FS,satisfies:WS,toComparators:HS,maxSatisfying:VS,minSatisfying:US,minVersion:zS,validRange:qS,outside:GS,gtr:JS,ltr:ZS,intersects:QS,simplifyRange:YS,subset:KS,SemVer:gS,re:iu.re,src:iu.src,tokens:iu.t,SEMVER_SPEC_VERSION:zf.SEMVER_SPEC_VERSION,RELEASE_TYPES:zf.RELEASE_TYPES,compareIdentifiers:qf.compareIdentifiers,rcompareIdentifiers:qf.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=XS,r=Rn,n=pt;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",d=>(0,e.valid)(d)===null?`Expected SemVer version, got "${d}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",d=>(0,e.validRange)(d)===null?`Expected SemVer range, got "${d}"`:!0);function i(d){return(0,r.is)(d,t.VersionStruct)}t.isValidSemVerVersion=i;function s(d){return(0,r.is)(d,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(d){(0,n.assertStruct)(d,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(d){(0,n.assertStruct)(d,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(d,g){return(0,e.gt)(d,g)}t.gtVersion=c;function l(d,g){return(0,e.gtr)(d,g)}t.gtRange=l;function h(d,g){return(0,e.satisfies)(d,g,{includePrerelease:!0})}t.satisfiesVersionRange=h})(Mp);(function(t){var e=J&&J.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=J&&J.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(pt,t),r(vs,t),r(he,t),r(Po,t),r(ar,t),r(li,t),r(bs,t),r(wp,t),r(fi,t),r(Ec,t),r(ur,t),r(Sp,t),r(Ep,t),r(Mp,t)})(rp);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=rp;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(tp);var Np=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(No,"__esModule",{value:!0});No.PollingBlockTracker=void 0;const eE=Np(dc),tE=Np(S1),rE=ps,Gf=tp,Jf=(0,Gf.createModuleLogger)(Gf.projectLogger,"polling-block-tracker"),nE=(0,eE.default)(),iE=1e3;class sE extends rE.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*iE,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Zf(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Zf(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:nE(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Jf("Making request",e);const r=await(0,tE.default)(n=>this._provider.sendAsync(e,n))();if(Jf("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}No.PollingBlockTracker=sE;function Zf(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Ho={},oE=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.SubscribeBlockTracker=void 0;const aE=oE(dc),uE=ps,cE=(0,aE.default)();class lE extends uE.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:cE(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Ho.SubscribeBlockTracker=lE;var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});(function(t){var e=J&&J.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=J&&J.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(No,t),r(Ho,t),r(Lp,t)})(ep);var Oc={},Vo={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.getUniqueId=void 0;const Pp=4294967295;let su=Math.floor(Math.random()*Pp);function fE(){return su=(su+1)%Pp,su}ms.getUniqueId=fE;Object.defineProperty(Vo,"__esModule",{value:!0});Vo.createIdRemapMiddleware=void 0;const hE=ms;function dE(){return(t,e,r,n)=>{const i=t.id,s=hE.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Vo.createIdRemapMiddleware=dE;var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.createAsyncMiddleware=void 0;function pE(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const l=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}Uo.createAsyncMiddleware=pE;var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.createScaffoldMiddleware=void 0;function gE(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}zo.createScaffoldMiddleware=gE;var _s={},$p={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.EthereumProviderError=Lr.EthereumRpcError=void 0;const vE=Hh;class Dp extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return vE.default(this.serialize(),mE,2)}}Lr.EthereumRpcError=Dp;class bE extends Dp{constructor(e,r,n){if(!yE(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Lr.EthereumProviderError=bE;function yE(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function mE(t,e){if(e!=="[Circular]")return e}var Nc={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.errorValues=Pr.errorCodes=void 0;Pr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Pr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Pr,r=Lr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(g,_=i){if(Number.isInteger(g)){const R=g.toString();if(d(e.errorValues,R))return e.errorValues[R].message;if(l(g))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return _}t.getMessageFromCode=o;function a(g){if(!Number.isInteger(g))return!1;const _=g.toString();return!!(e.errorValues[_]||l(g))}t.isValidCode=a;function c(g,{fallbackError:_=s,shouldIncludeStack:R=!1}={}){var L,O;if(!_||!Number.isInteger(_.code)||typeof _.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(g instanceof r.EthereumRpcError)return g.serialize();const w={};if(g&&typeof g=="object"&&!Array.isArray(g)&&d(g,"code")&&a(g.code)){const T=g;w.code=T.code,T.message&&typeof T.message=="string"?(w.message=T.message,d(T,"data")&&(w.data=T.data)):(w.message=o(w.code),w.data={originalError:h(g)})}else{w.code=_.code;const T=(L=g)===null||L===void 0?void 0:L.message;w.message=T&&typeof T=="string"?T:_.message,w.data={originalError:h(g)}}const I=(O=g)===null||O===void 0?void 0:O.stack;return R&&g&&I&&typeof I=="string"&&(w.stack=I),w}t.serializeError=c;function l(g){return g>=-32099&&g<=-32e3}function h(g){return g&&typeof g=="object"&&!Array.isArray(g)?Object.assign({},g):g}function d(g,_){return Object.prototype.hasOwnProperty.call(g,_)}})(Nc);var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.ethErrors=void 0;const Lc=Lr,jp=Nc,vt=Pr;qo.ethErrors={rpc:{parse:t=>Nt(vt.errorCodes.rpc.parse,t),invalidRequest:t=>Nt(vt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Nt(vt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Nt(vt.errorCodes.rpc.methodNotFound,t),internal:t=>Nt(vt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Nt(e,t)},invalidInput:t=>Nt(vt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Nt(vt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Nt(vt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Nt(vt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Nt(vt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Nt(vt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>ji(vt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>ji(vt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>ji(vt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>ji(vt.errorCodes.provider.disconnected,t),chainDisconnected:t=>ji(vt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Lc.EthereumProviderError(e,r,n)}}};function Nt(t,e){const[r,n]=Bp(e);return new Lc.EthereumRpcError(t,r||jp.getMessageFromCode(t),n)}function ji(t,e){const[r,n]=Bp(e);return new Lc.EthereumProviderError(t,r||jp.getMessageFromCode(t),n)}function Bp(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Lr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Nc;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=qo;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Pr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})($p);var _E=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_s,"__esModule",{value:!0});_s.JsonRpcEngine=void 0;const wE=_E(wn),Lt=$p;class pr extends wE.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await pr._runAllMiddleware(e,r,this._middleware);return o?(await pr._runReturnHandlers(a),i(s)):n(async c=>{try{await pr._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Lt.EthereumRpcError(Lt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Lt.EthereumRpcError(Lt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Lt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await pr._runAllMiddleware(e,r,this._middleware);if(pr._checkForCompletion(e,r,i),await pr._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await pr._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=Lt.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Lt.EthereumRpcError(Lt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${ou(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Lt.EthereumRpcError(Lt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${ou(e)}`,{request:e});if(!n)throw new Lt.EthereumRpcError(Lt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${ou(e)}`,{request:e})}}_s.JsonRpcEngine=pr;function ou(t){return JSON.stringify(t,null,2)}var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.mergeMiddleware=void 0;const SE=_s;function EE(t){const e=new SE.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Go.mergeMiddleware=EE;(function(t){var e=J&&J.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=J&&J.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Vo,t),r(Uo,t),r(zo,t),r(ms,t),r(_s,t),r(Go,t)})(Oc);var Fp={},Pc={},ju=function(t,e){return ju=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},ju(t,e)};function Wp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ju(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ao=function(){return ao=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ao.apply(this,arguments)};function Hp(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Vp(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Up(t,e){return function(r,n){e(r,n,t)}}function ME(t,e,r,n,i,s){function o(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,h=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d,g=!1,_=r.length-1;_>=0;_--){var R={};for(var L in n)R[L]=L==="access"?{}:n[L];for(var L in n.access)R.access[L]=n.access[L];R.addInitializer=function(w){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(w||null))};var O=(0,r[_])(a==="accessor"?{get:h.get,set:h.set}:h[c],R);if(a==="accessor"){if(O===void 0)continue;if(O===null||typeof O!="object")throw new TypeError("Object expected");(d=o(O.get))&&(h.get=d),(d=o(O.set))&&(h.set=d),(d=o(O.init))&&i.unshift(d)}else(d=o(O))&&(a==="field"?i.unshift(d):h[c]=d)}l&&Object.defineProperty(l,n.name,h),g=!0}function xE(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function CE(t){return typeof t=="symbol"?t:"".concat(t)}function RE(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function zp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function qp(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{l(n.next(h))}catch(d){o(d)}}function c(h){try{l(n.throw(h))}catch(d){o(d)}}function l(h){h.done?s(h.value):i(h.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function Gp(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(h){return c([l,h])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(h){l=[6,h],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Jo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Jp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Jo(e,t,r)}function uo(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $c(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function Zp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($c(arguments[e]));return t}function Qp(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Yp(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function hi(t){return this instanceof hi?(this.v=t,this):new hi(t)}function Kp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(_){return new Promise(function(R,L){s.push([g,_,R,L])>1||a(g,_)})})}function a(g,_){try{c(n[g](_))}catch(R){d(s[0][3],R)}}function c(g){g.value instanceof hi?Promise.resolve(g.value.v).then(l,h):d(s[0][2],g)}function l(g){a("next",g)}function h(g){a("throw",g)}function d(g,_){g(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Xp(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:hi(t[i](o)),done:!1}:s?s(o):o}:s}}function e0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof uo=="function"?uo(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function t0(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var IE=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function r0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Jo(e,t,r);return IE(e,t),e}function n0(t){return t&&t.__esModule?t:{default:t}}function i0(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function s0(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function o0(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function a0(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose]}if(typeof n!="function")throw new TypeError("Object not disposable.");t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var AE=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function u0(t){function e(n){t.error=t.hasError?new AE(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}function r(){for(;t.stack.length;){var n=t.stack.pop();try{var i=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(i).then(r,function(s){return e(s),r()})}catch(s){e(s)}}if(t.hasError)throw t.error}return r()}const kE={__extends:Wp,__assign:ao,__rest:Hp,__decorate:Vp,__param:Up,__metadata:zp,__awaiter:qp,__generator:Gp,__createBinding:Jo,__exportStar:Jp,__values:uo,__read:$c,__spread:Zp,__spreadArrays:Qp,__spreadArray:Yp,__await:hi,__asyncGenerator:Kp,__asyncDelegator:Xp,__asyncValues:e0,__makeTemplateObject:t0,__importStar:r0,__importDefault:n0,__classPrivateFieldGet:i0,__classPrivateFieldSet:s0,__classPrivateFieldIn:o0,__addDisposableResource:a0,__disposeResources:u0},TE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:a0,get __assign(){return ao},__asyncDelegator:Xp,__asyncGenerator:Kp,__asyncValues:e0,__await:hi,__awaiter:qp,__classPrivateFieldGet:i0,__classPrivateFieldIn:o0,__classPrivateFieldSet:s0,__createBinding:Jo,__decorate:Vp,__disposeResources:u0,__esDecorate:ME,__exportStar:Jp,__extends:Wp,__generator:Gp,__importDefault:n0,__importStar:r0,__makeTemplateObject:t0,__metadata:zp,__param:Up,__propKey:CE,__read:$c,__rest:Hp,__runInitializers:xE,__setFunctionName:RE,__spread:Zp,__spreadArray:Yp,__spreadArrays:Qp,__values:uo,default:kE},Symbol.toStringTag,{value:"Module"})),Dc=_n(TE);var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});var Qf=Dc,OE=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Qf.__awaiter(this,void 0,void 0,function(){var r,n,i;return Qf.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Zo.default=OE;Object.defineProperty(Pc,"__esModule",{value:!0});var Yf=Dc,NE=Zo,LE=function(){function t(){this._semaphore=new NE.default(1)}return t.prototype.acquire=function(){return Yf.__awaiter(this,void 0,void 0,function(){var e,r;return Yf.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Pc.default=LE;var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.withTimeout=void 0;var Fs=Dc;function PE(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Fs.__awaiter(n,void 0,void 0,function(){var o,a,c;return Fs.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Fs.__awaiter(this,void 0,void 0,function(){var s,o;return Fs.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Qo.withTimeout=PE;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Pc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Zo;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Qo;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Fp);var $E=jE,DE=Object.prototype.hasOwnProperty;function jE(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)DE.call(r,n)&&(t[n]=r[n])}return t}const BE=$E,FE=dc();var WE=ie;function ie(t){const e=this;e.currentProvider=t}ie.prototype.getBalance=ws(2,"eth_getBalance");ie.prototype.getCode=ws(2,"eth_getCode");ie.prototype.getTransactionCount=ws(2,"eth_getTransactionCount");ie.prototype.getStorageAt=ws(3,"eth_getStorageAt");ie.prototype.call=ws(2,"eth_call");ie.prototype.protocolVersion=ce("eth_protocolVersion");ie.prototype.syncing=ce("eth_syncing");ie.prototype.coinbase=ce("eth_coinbase");ie.prototype.mining=ce("eth_mining");ie.prototype.hashrate=ce("eth_hashrate");ie.prototype.gasPrice=ce("eth_gasPrice");ie.prototype.accounts=ce("eth_accounts");ie.prototype.blockNumber=ce("eth_blockNumber");ie.prototype.getBlockTransactionCountByHash=ce("eth_getBlockTransactionCountByHash");ie.prototype.getBlockTransactionCountByNumber=ce("eth_getBlockTransactionCountByNumber");ie.prototype.getUncleCountByBlockHash=ce("eth_getUncleCountByBlockHash");ie.prototype.getUncleCountByBlockNumber=ce("eth_getUncleCountByBlockNumber");ie.prototype.sign=ce("eth_sign");ie.prototype.sendTransaction=ce("eth_sendTransaction");ie.prototype.sendRawTransaction=ce("eth_sendRawTransaction");ie.prototype.estimateGas=ce("eth_estimateGas");ie.prototype.getBlockByHash=ce("eth_getBlockByHash");ie.prototype.getBlockByNumber=ce("eth_getBlockByNumber");ie.prototype.getTransactionByHash=ce("eth_getTransactionByHash");ie.prototype.getTransactionByBlockHashAndIndex=ce("eth_getTransactionByBlockHashAndIndex");ie.prototype.getTransactionByBlockNumberAndIndex=ce("eth_getTransactionByBlockNumberAndIndex");ie.prototype.getTransactionReceipt=ce("eth_getTransactionReceipt");ie.prototype.getUncleByBlockHashAndIndex=ce("eth_getUncleByBlockHashAndIndex");ie.prototype.getUncleByBlockNumberAndIndex=ce("eth_getUncleByBlockNumberAndIndex");ie.prototype.getCompilers=ce("eth_getCompilers");ie.prototype.compileLLL=ce("eth_compileLLL");ie.prototype.compileSolidity=ce("eth_compileSolidity");ie.prototype.compileSerpent=ce("eth_compileSerpent");ie.prototype.newFilter=ce("eth_newFilter");ie.prototype.newBlockFilter=ce("eth_newBlockFilter");ie.prototype.newPendingTransactionFilter=ce("eth_newPendingTransactionFilter");ie.prototype.uninstallFilter=ce("eth_uninstallFilter");ie.prototype.getFilterChanges=ce("eth_getFilterChanges");ie.prototype.getFilterLogs=ce("eth_getFilterLogs");ie.prototype.getLogs=ce("eth_getLogs");ie.prototype.getWork=ce("eth_getWork");ie.prototype.submitWork=ce("eth_submitWork");ie.prototype.submitHashrate=ce("eth_submitHashrate");ie.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(HE(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ce(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ws(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function HE(t){return BE({id:FE(),jsonrpc:"2.0",params:[]},t)}const Kf=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,h)=>{l?a(l):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Xf=new WeakMap;var VE=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Xf.get(o);if(c||(c={},Xf.set(o,c)),a in c)return c[a];const l=R=>typeof R=="string"||typeof a=="symbol"?a===R:R.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),d=h===void 0||h.writable||h.configurable,_=(e.include?e.include.some(l):!e.exclude.some(l))&&d;return c[a]=_,_},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const h=e.excludeMain?o:Kf(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const h=Kf(c,e,s,o);return i.set(c,h),h}return c}});return s};const UE=wn.default;let zE=class extends UE{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var jc=zE;const qE=jc;let GE=class extends qE{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var JE=GE,Ss={minBlockRef:ZE,maxBlockRef:QE,sortBlockRefs:Bc,bnToHex:YE,blockRefIsNumber:KE,hexToInt:co,incrementHexInt:XE,intToHex:c0,unsafeRandomBytes:e3};function ZE(...t){return Bc(t)[0]}function QE(...t){const e=Bc(t);return e[e.length-1]}function Bc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:co(e)-co(r))}function YE(t){return"0x"+t.toString(16)}function KE(t){return t&&!["earliest","latest","pending"].includes(t)}function co(t){return t==null?t:Number.parseInt(t,16)}function XE(t){if(t==null)return t;const e=co(t);return c0(e+1)}function c0(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function e3(t){let e="0x";for(let r=0;r<t;r++)e+=eh(),e+=eh();return e}function eh(){return Math.floor(Math.random()*16).toString(16)}const t3=WE,r3=VE,n3=JE,{bnToHex:CI,hexToInt:Ws,incrementHexInt:i3,minBlockRef:s3,blockRefIsNumber:o3}=Ss;let a3=class extends n3{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new t3(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=s3(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=i3(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await r3(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ws(this.params.fromBlock)>=Ws(e.blockNumber)||o3(this.params.toBlock)&&Ws(this.params.toBlock)<=Ws(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}};var u3=a3,Fc=c3;async function c3({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=th(e),s=th(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(l3);return await Promise.all(o.map(c=>h3(t,"eth_getBlockByNumber",[c,!1])))}function th(t){return t==null?t:Number.parseInt(t,16)}function l3(t){return t==null?t:"0x"+t.toString(16)}function f3(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function h3(t,e,r){for(let n=0;n<3;n++)try{return await f3(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const d3=jc,p3=Fc,{incrementHexInt:g3}=Ss;let v3=class extends d3{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=g3(e),o=(await p3({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var b3=v3;const y3=jc,m3=Fc,{incrementHexInt:_3}=Ss;let w3=class extends y3{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=_3(e),i=await m3({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var S3=w3;const E3=Fp.Mutex,{createAsyncMiddleware:M3,createScaffoldMiddleware:x3}=Oc,C3=u3,R3=b3,I3=S3,{intToHex:l0,hexToInt:au}=Ss;var A3=k3;function k3({blockTracker:t,provider:e}){let r=0,n={};const i=new E3,s=T3({mutex:i}),o=x3({eth_newFilter:s(uu(c)),eth_newBlockFilter:s(uu(l)),eth_newPendingTransactionFilter:s(uu(h)),eth_uninstallFilter:s(Qs(_)),eth_getFilterChanges:s(Qs(d)),eth_getFilterLogs:s(Qs(g))}),a=async({oldBlock:I,newBlock:T})=>{if(n.length===0)return;const $=await i.acquire();try{await Promise.all(zn(n).map(async P=>{try{await P.update({oldBlock:I,newBlock:T})}catch(j){console.error(j)}}))}catch(P){console.error(P)}$()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=h,o.uninstallFilter=_,o.getFilterChanges=d,o.getFilterLogs=g,o.destroy=()=>{O()},o;async function c(I){const T=new C3({provider:e,params:I});return await R(T),T}async function l(){const I=new R3({provider:e});return await R(I),I}async function h(){const I=new I3({provider:e});return await R(I),I}async function d(I){const T=au(I),$=n[T];if(!$)throw new Error(`No filter for index "${T}"`);return $.getChangesAndClear()}async function g(I){const T=au(I),$=n[T];if(!$)throw new Error(`No filter for index "${T}"`);let P=[];return $.type==="log"&&(P=$.getAllResults()),P}async function _(I){const T=au(I),P=!!n[T];return P&&await L(T),P}async function R(I){const T=zn(n).length,$=await t.getLatestBlock();await I.initialize({currentBlock:$}),r++,n[r]=I,I.id=r,I.idHex=l0(r);const P=zn(n).length;return w({prevFilterCount:T,newFilterCount:P}),r}async function L(I){const T=zn(n).length;delete n[I];const $=zn(n).length;w({prevFilterCount:T,newFilterCount:$})}async function O(){const I=zn(n).length;n={},w({prevFilterCount:I,newFilterCount:0})}function w({prevFilterCount:I,newFilterCount:T}){if(I===0&&T>0){t.on("sync",a);return}if(I>0&&T===0){t.removeListener("sync",a);return}}}function uu(t){return Qs(async(...e)=>{const r=await t(...e);return l0(r.id)})}function Qs(t){return M3(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function T3({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function zn(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const O3=wn.default,{createAsyncMiddleware:rh,createScaffoldMiddleware:N3}=Oc,L3=A3,{unsafeRandomBytes:P3,incrementHexInt:$3}=Ss,D3=Fc;var j3=B3;function B3({blockTracker:t,provider:e}){const r={},n=L3({blockTracker:t,provider:e});let i=!1;const s=new O3,o=N3({eth_subscribe:rh(a),eth_unsubscribe:rh(c)});return o.destroy=h,{events:s,middleware:o};async function a(d,g){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const _=d.params[0],R=P3(16);let L;switch(_){case"newHeads":L=O({subId:R});break;case"logs":const I=d.params[1],T=await n.newLogFilter(I);L=w({subId:R,filter:T});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${_}"`)}r[R]=L,g.result=R;return;function O({subId:I}){const T={type:_,destroy:async()=>{t.removeListener("sync",T.update)},update:async({oldBlock:$,newBlock:P})=>{const j=P,q=$3($);(await D3({provider:e,fromBlock:q,toBlock:j})).map(F3).filter(Z=>Z!==null).forEach(Z=>{l(I,Z)})}};return t.on("sync",T.update),T}function w({subId:I,filter:T}){return T.on("update",P=>l(I,P)),{type:_,destroy:async()=>await n.uninstallFilter(T.idHex)}}}async function c(d,g){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const _=d.params[0],R=r[_];if(!R){g.result=!1;return}delete r[_],await R.destroy(),g.result=!0}function l(d,g){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:d,result:g}})}function h(){s.removeAllListeners();for(const d in r)r[d].destroy(),delete r[d];i=!0}}function F3(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Oo,"__esModule",{value:!0});Oo.SubscriptionManager=void 0;const W3=ep,H3=j3,nh=()=>{};class V3{constructor(e){const r=new W3.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=H3({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,nh,nh),r}destroy(){this.subscriptionMiddleware.destroy()}}Oo.SubscriptionManager=V3;var Wc=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ii,"__esModule",{value:!0});ii.CoinbaseWalletProvider=void 0;const U3=Wc(wn),z3=Wc(So),cu=wi,_e=ss,ih=Ei,sh=Jt,lu=Mo,q3=Ee,ae=Q,fu=Wc(b1),G3=ci,ve=Xd,J3=Oo,oh="DefaultChainId",ah="DefaultJsonRpcUrl";class Z3 extends U3.default{constructor(e){var r,n;super(),this._filterPolyfill=new G3.FilterPolyfill(this),this._subscriptionManager=new J3.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,ae.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(sh.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,ae.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ae.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(ah))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(ah,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(oh,r.toString(10)),((0,ae.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,ae.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),h=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await l.requestEthereumAccounts().promise;const d=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=d.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=d.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,q3.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===_e.standardErrorCodes.provider.unsupportedChain?_e.standardErrors.provider.unsupportedChain(e):_e.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(cu.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?ih.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(ve.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,_e.serializeError)(i,e)})}catch(n){throw(0,_e.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,_e.serializeError)(n,e)})}catch(n){return Promise.reject((0,_e.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,_e.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,_e.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw _e.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw _e.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw _e.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,ae.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,_e.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",lu.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,_e.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",lu.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,_e.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",lu.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ae.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(sh.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ve.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ve.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ve.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ve.JSONRPCMethod.net_version:return this._net_version();case ve.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ve.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ve.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ve.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ve.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ve.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ve.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ve.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ve.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ve.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ve.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ve.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ve.JSONRPCMethod.eth_signTypedData_v4:case ve.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ve.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ve.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ve.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ve.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ve.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ve.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ve.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ve.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ve.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ve.JSONRPCMethod.eth_subscribe:case ve.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ae.ensureAddressString)(e);return this._addresses.map(i=>(0,ae.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(cu.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ae.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ae.ensureAddressString)(e.to):null,i=e.value!=null?(0,ae.ensureBN)(e.value):new z3.default(0),s=e.data?(0,ae.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ae.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ae.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,ae.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,ae.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,ae.ensureBN)(e.gas):null,d=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:h,chainId:d}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw _e.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw _e.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ae.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(oh);if(!e)return(0,ae.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ae.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(cu.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?ih.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ae.ensureBuffer)(e[0]),n=(0,ae.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ae.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?_e.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ae.ensureParsedJSONObject)(e[0]),n=(0,ae.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=fu.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=fu.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ae.ensureAddressString)(e[0]),n=(0,ae.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=fu.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw _e.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw _e.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw _e.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw _e.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw _e.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw _e.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ae.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}ii.CoinbaseWalletProvider=Z3;var Yo={},Ko={},Es,ne,f0,h0,cn,uh,d0,Bu,p0,ts={},g0=[],Q3=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Xo=Array.isArray;function br(t,e){for(var r in e)t[r]=e[r];return t}function v0(t){var e=t.parentNode;e&&e.removeChild(t)}function Fu(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Es.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Ji(t,o,n,i,null)}function Ji(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++f0,__i:-1,__u:0};return i==null&&ne.vnode!=null&&ne.vnode(s),s}function Y3(){return{current:null}}function Ms(t){return t.children}function Zi(t,e){this.props=t,this.context=e}function di(t,e){if(e==null)return t.__?di(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?di(t):null}function b0(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return b0(t)}}function Wu(t){(!t.__d&&(t.__d=!0)&&cn.push(t)&&!lo.__r++||uh!==ne.debounceRendering)&&((uh=ne.debounceRendering)||d0)(lo)}function lo(){var t,e,r,n,i,s,o,a,c;for(cn.sort(Bu);t=cn.shift();)t.__d&&(e=cn.length,n=void 0,s=(i=(r=t).__v).__e,a=[],c=[],(o=r.__P)&&((n=br({},i)).__v=i.__v+1,ne.vnode&&ne.vnode(n),Hc(o,n,i,r.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,a,s??di(i),!!(32&i.__u),c),n.__.__k[n.__i]=n,w0(a,n,c),n.__e!=s&&b0(n)),cn.length>e&&cn.sort(Bu));lo.__r=0}function y0(t,e,r,n,i,s,o,a,c,l,h){var d,g,_,R,L,O=n&&n.__k||g0,w=e.length;for(r.__d=c,K3(r,e,O),c=r.__d,d=0;d<w;d++)(_=r.__k[d])!=null&&typeof _!="boolean"&&typeof _!="function"&&(g=_.__i===-1?ts:O[_.__i]||ts,_.__i=d,Hc(t,_,g,i,s,o,a,c,l,h),R=_.__e,_.ref&&g.ref!=_.ref&&(g.ref&&Vc(g.ref,null,_),h.push(_.ref,_.__c||R,_)),L==null&&R!=null&&(L=R),65536&_.__u||g.__k===_.__k?c=m0(_,c,t):typeof _.type=="function"&&_.__d!==void 0?c=_.__d:R&&(c=R.nextSibling),_.__d=void 0,_.__u&=-196609);r.__d=c,r.__e=L}function K3(t,e,r){var n,i,s,o,a,c=e.length,l=r.length,h=l,d=0;for(t.__k=[],n=0;n<c;n++)(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?Ji(null,i,null,null,i):Xo(i)?Ji(Ms,{children:i},null,null,null):i.__b>0?Ji(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=X3(i,r,o=n+d,h),i.__i=a,s=null,a!==-1&&(h--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&d--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?d++:a>o?h>c-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==n+d&&(i.__u|=65536))):(s=r[n])&&s.key==null&&s.__e&&(s.__e==t.__d&&(t.__d=di(s)),Hu(s,s,!1),r[n]=null,h--);if(h)for(n=0;n<l;n++)(s=r[n])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=di(s)),Hu(s,s))}function m0(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=m0(n[i],e,r));return e}return t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function _0(t,e){return e=e||[],t==null||typeof t=="boolean"||(Xo(t)?t.some(function(r){_0(r,e)}):e.push(t)),e}function X3(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null&&!(131072&c.__u)?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&!(131072&c.__u)&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&!(131072&c.__u)&&i==c.key&&s===c.type)return a;a++}}return-1}function ch(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Q3.test(e)?r:r+"px"}function Hs(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||ch(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||ch(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?fh:lh,s)):t.removeEventListener(e,s?fh:lh,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function lh(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(ne.event?ne.event(t):t)}function fh(t){return this.l[t.type+!0](ne.event?ne.event(t):t)}function Hc(t,e,r,n,i,s,o,a,c,l){var h,d,g,_,R,L,O,w,I,T,$,P,j,q,z,F=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),s=[a=e.__e=r.__e]),(h=ne.__b)&&h(e);e:if(typeof F=="function")try{if(w=e.props,I=(h=F.contextType)&&n[h.__c],T=h?I?I.props.value:h.__:n,r.__c?O=(d=e.__c=r.__c).__=d.__E:("prototype"in F&&F.prototype.render?e.__c=d=new F(w,T):(e.__c=d=new Zi(w,T),d.constructor=F,d.render=t4),I&&I.sub(d),d.props=w,d.state||(d.state={}),d.context=T,d.__n=n,g=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),F.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=br({},d.__s)),br(d.__s,F.getDerivedStateFromProps(w,d.__s))),_=d.props,R=d.state,d.__v=e,g)F.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(F.getDerivedStateFromProps==null&&w!==_&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(w,T),!d.__e&&(d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(w,d.__s,T)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(d.props=w,d.state=d.__s,d.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(Z){Z&&(Z.__=e)}),$=0;$<d._sb.length;$++)d.__h.push(d._sb[$]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(w,d.__s,T),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(_,R,L)})}if(d.context=T,d.props=w,d.__P=t,d.__e=!1,P=ne.__r,j=0,"prototype"in F&&F.prototype.render){for(d.state=d.__s,d.__d=!1,P&&P(e),h=d.render(d.props,d.state,d.context),q=0;q<d._sb.length;q++)d.__h.push(d._sb[q]);d._sb=[]}else do d.__d=!1,P&&P(e),h=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++j<25);d.state=d.__s,d.getChildContext!=null&&(n=br(br({},n),d.getChildContext())),g||d.getSnapshotBeforeUpdate==null||(L=d.getSnapshotBeforeUpdate(_,R)),y0(t,Xo(z=h!=null&&h.type===Ms&&h.key==null?h.props.children:h)?z:[z],e,r,n,i,s,o,a,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),O&&(d.__E=d.__=null)}catch(Z){e.__v=null,c||s!=null?(e.__e=a,e.__u|=c?160:32,s[s.indexOf(a)]=null):(e.__e=r.__e,e.__k=r.__k),ne.__e(Z,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=e4(r.__e,e,r,n,i,s,o,c,l);(h=ne.diffed)&&h(e)}function w0(t,e,r){e.__d=void 0;for(var n=0;n<r.length;n++)Vc(r[n],r[++n],r[++n]);ne.__c&&ne.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){ne.__e(s,i.__v)}})}function e4(t,e,r,n,i,s,o,a,c){var l,h,d,g,_,R,L,O=r.props,w=e.props,I=e.type;if(I==="svg"&&(i=!0),s!=null){for(l=0;l<s.length;l++)if((_=s[l])&&"setAttribute"in _==!!I&&(I?_.localName===I:_.nodeType===3)){t=_,s[l]=null;break}}if(t==null){if(I===null)return document.createTextNode(w);t=i?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,w.is&&w),s=null,a=!1}if(I===null)O===w||a&&t.data===w||(t.data=w);else{if(s=s&&Es.call(t.childNodes),O=r.props||ts,!a&&s!=null)for(O={},l=0;l<t.attributes.length;l++)O[(_=t.attributes[l]).name]=_.value;for(l in O)_=O[l],l=="children"||(l=="dangerouslySetInnerHTML"?d=_:l==="key"||l in w||Hs(t,l,null,_,i));for(l in w)_=w[l],l=="children"?g=_:l=="dangerouslySetInnerHTML"?h=_:l=="value"?R=_:l=="checked"?L=_:l==="key"||a&&typeof _!="function"||O[l]===_||Hs(t,l,_,O[l],i);if(h)a||d&&(h.__html===d.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(d&&(t.innerHTML=""),y0(t,Xo(g)?g:[g],e,r,n,i&&I!=="foreignObject",s,o,s?s[0]:r.__k&&di(r,0),a,c),s!=null)for(l=s.length;l--;)s[l]!=null&&v0(s[l]);a||(l="value",R!==void 0&&(R!==t[l]||I==="progress"&&!R||I==="option"&&R!==O[l])&&Hs(t,l,R,O[l],!1),l="checked",L!==void 0&&L!==t[l]&&Hs(t,l,L,O[l],!1))}return t}function Vc(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ne.__e(n,r)}}function Hu(t,e,r){var n,i;if(ne.unmount&&ne.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Vc(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ne.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Hu(n[i],e,r||typeof t.type!="function");r||t.__e==null||v0(t.__e),t.__=t.__e=t.__d=void 0}function t4(t,e,r){return this.constructor(t,r)}function S0(t,e,r){var n,i,s,o;ne.__&&ne.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],Hc(e,t=(!n&&r||e).__k=Fu(Ms,null,[t]),i||ts,ts,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Es.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),w0(s,t,o)}function E0(t,e){S0(t,e,E0)}function r4(t,e,r){var n,i,s,o,a=br({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Es.call(arguments,2):r),Ji(t.type,a,n||t.key,i||t.ref,null)}function n4(t,e){var r={__c:e="__cC"+p0++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,Wu(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Es=g0.slice,ne={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},f0=0,h0=function(t){return t!=null&&t.constructor==null},Zi.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=br({},this.state),typeof t=="function"&&(t=t(br({},r),this.props)),t&&br(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Wu(this))},Zi.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Wu(this))},Zi.prototype.render=Ms,cn=[],d0=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Bu=function(t,e){return t.__v.__b-e.__v.__b},lo.__r=0,p0=0;const i4=Object.freeze(Object.defineProperty({__proto__:null,Component:Zi,Fragment:Ms,cloneElement:r4,createContext:n4,createElement:Fu,createRef:Y3,h:Fu,hydrate:E0,get isValidElement(){return h0},get options(){return ne},render:S0,toChildArray:_0},Symbol.toStringTag,{value:"Module"})),Tt=_n(i4);function pi(t){return typeof t=="function"}var hh=!1,$t={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}hh=t},get useDeprecatedSynchronousErrorHandling(){return hh}};function Qn(t){setTimeout(function(){throw t},0)}var fo={closed:!0,next:function(t){},error:function(t){if($t.useDeprecatedSynchronousErrorHandling)throw t;Qn(t)},complete:function(){}},St=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Uc(t){return t!==null&&typeof t=="object"}var s4=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Qi=s4,Ke=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(pi(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(d){e=d instanceof Qi?dh(d.errors):[d]}}if(St(o))for(var a=-1,l=o.length;++a<l;){var h=o[a];if(Uc(h))try{h.unsubscribe()}catch(g){e=e||[],g instanceof Qi?e=e.concat(dh(g.errors)):e.push(g)}}if(e)throw new Qi(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function dh(t){return t.reduce(function(e,r){return e.concat(r instanceof Qi?r.errors:r)},[])}var ho=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),Y=function(t){B(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=fo;break;case 1:if(!r){s.destination=fo;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new ph(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new ph(s,r,n,i);break}return s}return e.prototype[ho]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Ke),ph=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return pi(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==fo&&(c=Object.create(n),pi(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!$t.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=$t.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Qn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Qn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!$t.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),$t.useDeprecatedSynchronousErrorHandling)throw i;Qn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!$t.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return $t.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Qn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Y);function zc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof Y?t=n:t=null}return!0}function o4(t,e,r){if(t){if(t instanceof Y)return t;if(t[ho])return t[ho]()}return!t&&!e&&!r?new Y(fo):new Y(t,e,r)}var ki=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function $r(t){return t}function Vu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return M0(t)}function M0(t){return t.length===0?$r:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ue=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=o4(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||$t.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),$t.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){$t.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),zc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=gh(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[ki]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:M0(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=gh(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function gh(t){if(t||(t=$t.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var a4=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Ar=a4,x0=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Ke),C0=function(t){B(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(Y),ft=function(t){B(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[ho]=function(){return new C0(this)},e.prototype.lift=function(r){var n=new vh(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Ar;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Ar;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ar;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Ar;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Ar;return this.hasError?(r.error(this.thrownError),Ke.EMPTY):this.isStopped?(r.complete(),Ke.EMPTY):(this.observers.push(r),new x0(this,r))},e.prototype.asObservable=function(){var r=new ue;return r.source=this,r},e.create=function(r,n){return new vh(r,n)},e}(ue),vh=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Ke.EMPTY},e}(ft);function qc(){return function(e){return e.lift(new u4(e))}}var u4=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new c4(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),c4=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(Y),R0=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Ke,r.add(this.source.subscribe(new f4(this.getSubject(),this))),r.closed&&(this._connection=null,r=Ke.EMPTY)),r},e.prototype.refCount=function(){return qc()(this)},e}(ue),l4=function(){var t=R0.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),f4=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(C0);function h4(t,e,r,n){return function(i){return i.lift(new d4(t,e,r,n))}}var d4=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new p4(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),p4=function(t){B(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ft,i.set(n,s);var a=new Uu(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Uu(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new g4(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(Y),g4=function(t){B(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(Y),Uu=function(t){B(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Ke,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new v4(s)),n.add(o.subscribe(r)),n},e}(ue),v4=function(t){B(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Ke),I0=function(t){B(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ar;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ft),b4=function(t){B(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Ke),xs=function(t){B(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(b4),y4=function(t){B(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(xs),zu=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Cs=function(t){B(e,t);function e(r,n){n===void 0&&(n=zu.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(zu),m4=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Cs),A0=new m4(y4),k0=A0,gi=new ue(function(t){return t.complete()});function Ti(t){return t?_4(t):gi}function _4(t){return new ue(function(e){return t.schedule(function(){return e.complete()})})}function kt(t){return t&&typeof t.schedule=="function"}var T0=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Gc(t,e){return new ue(function(r){var n=new Ke,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Rs(t,e){return e?Gc(t,e):new ue(T0(t))}function ea(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return kt(r)?(t.pop(),Gc(t,r)):Rs(t)}function Jc(t,e){return e?new ue(function(r){return e.schedule(w4,0,{error:t,subscriber:r})}):new ue(function(r){return r.error(t)})}function w4(t){var e=t.error,r=t.subscriber;r.error(e)}var qu;qu||(qu={});var yr=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ea(this.value);case"E":return Jc(this.error);case"C":return Ti()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function S4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new E4(t,e))}}var E4=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new O0(e,this.scheduler,this.delay))},t}(),O0=function(t){B(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new M4(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(yr.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(yr.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(yr.createComplete()),this.unsubscribe()},e}(Y),M4=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Zc=function(t){B(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new x4(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Ar;if(this.isStopped||this.hasError?a=Ke.EMPTY:(this.observers.push(r),a=new x0(this,r)),s&&r.add(r=new O0(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||k0).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ft),x4=function(){function t(e,r){this.time=e,this.value=r}return t}(),Oi=function(t){B(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Ke.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Ke.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ft),C4=1,R4=function(){return Promise.resolve()}(),Gu={};function bh(t){return t in Gu?(delete Gu[t],!0):!1}var yh={setImmediate:function(t){var e=C4++;return Gu[e]=!0,R4.then(function(){return bh(e)&&t()}),e},clearImmediate:function(t){bh(t)}},I4=function(t){B(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=yh.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(yh.clearImmediate(n),r.scheduled=void 0)},e}(xs),A4=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Cs),N0=new A4(I4),Ys=N0,L0=new Cs(xs),Et=L0,k4=function(t){B(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(xs),T4=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Cs),P0=new T4(k4),O4=P0,N4=function(t){B(e,t);function e(r,n){r===void 0&&(r=$0),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Cs),$0=function(t){B(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(xs);function ir(){}function L4(t){return!!t&&(t instanceof ue||typeof t.lift=="function"&&typeof t.subscribe=="function")}var P4=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),vi=P4,$4=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Is=$4,D4=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),D0=D4;function Ht(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j4(t,e))}}var j4=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new B4(e,this.project,this.thisArg))},t}(),B4=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Y);function j0(t,e,r){if(e)if(kt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return j0(t,r).apply(void 0,n).pipe(Ht(function(s){return St(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ue(function(c){if(r){var h={args:n,subscriber:c,params:a};return r.schedule(F4,0,h)}else{if(!o){o=new Oi;var l=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];o.next(d.length<=1?d[0]:d),o.complete()};try{t.apply(s,n.concat([l]))}catch(d){zc(o)?o.error(d):console.warn(d)}}return o.subscribe(c)}})}}function F4(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Oi;var l=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var g=h.length<=1?h[0]:h;e.add(a.schedule(W4,0,{value:g,subject:c}))};try{s.apply(o,r.concat([l]))}catch(h){c.error(h)}}this.add(c.subscribe(n))}function W4(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function B0(t,e,r){if(e)if(kt(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return B0(t,r).apply(void 0,n).pipe(Ht(function(s){return St(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ue(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(H4,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Oi;var l=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var g=h.shift();if(g){c.error(g);return}c.next(h.length<=1?h[0]:h),c.complete()};try{t.apply(a,n.concat([l]))}catch(h){zc(c)?c.error(h):console.warn(h)}}return c.subscribe(o)})}}function H4(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Oi;var l=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];var g=h.shift();if(g)e.add(a.schedule(mh,0,{err:g,subject:c}));else{var _=h.length<=1?h[0]:h;e.add(a.schedule(V4,0,{value:_,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(h){this.add(a.schedule(mh,0,{err:h,subject:c}))}}this.add(c.subscribe(n))}function V4(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function mh(t){var e=t.err,r=t.subject;r.error(e)}var In=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Y),U4=function(t){B(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Y),z4=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Qn),e}};function q4(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dr=q4(),G4=function(t){return function(e){var r=t[Dr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},J4=function(t){return function(e){var r=t[ki]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},F0=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function W0(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var rs=function(t){if(t&&typeof t[ki]=="function")return J4(t);if(F0(t))return T0(t);if(W0(t))return z4(t);if(t&&typeof t[Dr]=="function")return G4(t);var e=Uc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function _r(t,e,r,n,i){if(i===void 0&&(i=new U4(t,r,n)),!i.closed)return e instanceof ue?e.subscribe(i):rs(e)(i)}var _h={};function Z4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return kt(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0]),Rs(t,n).lift(new Qc(r))}var Qc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Q4(e,this.resultSelector))},t}(),Q4=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(_h),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(_r(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===_h?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(In);function Y4(t,e){return new ue(function(r){var n=new Ke;return n.add(e.schedule(function(){var i=t[ki]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function K4(t,e){return new ue(function(r){var n=new Ke;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function X4(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(function(r){var n=new Ke,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Dr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function e5(t){return t&&typeof t[ki]=="function"}function t5(t){return t&&typeof t[Dr]=="function"}function H0(t,e){if(t!=null){if(e5(t))return Y4(t,e);if(W0(t))return K4(t,e);if(F0(t))return Gc(t,e);if(t5(t)||typeof t=="string")return X4(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Sr(t,e){return e?H0(t,e):t instanceof ue?t:new ue(rs(t))}var Xe=function(t){B(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Y),et=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Y);function tt(t,e){if(!e.closed){if(t instanceof ue)return t.subscribe(e);var r;try{r=rs(t)(e)}catch(n){e.error(n)}return r}}function yn(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(yn(function(i,s){return Sr(t(i,s)).pipe(Ht(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new r5(t,r))})}var r5=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new n5(e,this.project,this.concurrent))},t}(),n5=function(t){B(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(et),i5=yn;function Yc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),yn($r,t)}function V0(){return Yc(1)}function ns(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return V0()(ea.apply(void 0,t))}function Kc(t){return new ue(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Sr(r):Ti();return n.subscribe(e)})}function s5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(St(r))return Vs(r,null);if(Uc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Vs(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&St(t[0])?t[0]:t,Vs(t,null).pipe(Ht(function(s){return i.apply(void 0,s)}))}return Vs(t,null)}function Vs(t,e){return new ue(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var h=Sr(t[l]),d=!1;r.add(h.subscribe({next:function(g){d||(d=!0,o++),i[l]=g},error:function(g){return r.error(g)},complete:function(){s++,(s===n||!d)&&(o===n&&r.next(e?e.reduce(function(g,_,R){return g[_]=i[R],g},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function U0(t,e,r,n){return pi(r)&&(n=r,r=void 0),n?U0(t,e,r).pipe(Ht(function(i){return St(i)?n.apply(void 0,i):n(i)})):new ue(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}z0(t,e,s,i,r)})}function z0(t,e,r,n,i){var s;if(u5(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(a5(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(o5(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var l=0,h=t.length;l<h;l++)z0(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function o5(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function a5(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function u5(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function q0(t,e,r){return r?q0(t,e).pipe(Ht(function(n){return St(n)?r.apply(void 0,n):r(n)})):new ue(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(pi(e))return function(){return e(i,s)}})}function c5(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||$r,i=a.scheduler}else n===void 0||kt(n)?(o=t,s=$r,i=n):(o=t,s=n);return new ue(function(c){var l=o;if(i)return i.schedule(l5,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var h=void 0;try{h=e(l)}catch(g){c.error(g);return}if(!h){c.complete();break}}var d=void 0;try{d=s(l)}catch(g){c.error(g);return}if(c.next(d),c.closed)break;try{l=r(l)}catch(g){c.error(g);return}}while(!0)})}function l5(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function f5(t,e,r){return e===void 0&&(e=gi),r===void 0&&(r=gi),Kc(function(){return t()?e:r})}function bi(t){return!St(t)&&t-parseFloat(t)+1>=0}function h5(t,e){return t===void 0&&(t=0),e===void 0&&(e=Et),(!bi(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Et),new ue(function(r){return r.add(e.schedule(d5,t,{subscriber:r,counter:0,period:t})),r})}function d5(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function G0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return kt(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ue?t[0]:Yc(r)(Rs(t,n))}var J0=new ue(ir);function p5(){return J0}function Ju(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return gi;var r=t[0],n=t.slice(1);return t.length===1&&St(r)?Ju.apply(void 0,r):new ue(function(i){var s=function(){return i.add(Ju.apply(void 0,n).subscribe(i))};return Sr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function g5(t,e){return e?new ue(function(r){var n=Object.keys(t),i=new Ke;return i.add(e.schedule(v5,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ue(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function v5(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Z0(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function jr(t,e){return function(n){return n.lift(new b5(t,e))}}var b5=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new y5(e,this.predicate,this.thisArg))},t}(),y5=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(Y);function m5(t,e,r){return[jr(e,r)(new ue(rs(t))),jr(Z0(e,r))(new ue(rs(t)))]}function Q0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(St(t[0]))t=t[0];else return t[0];return Rs(t,void 0).lift(new _5)}var _5=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new w5(e))},t}(),w5=function(t){B(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=_r(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(In);function S5(t,e,r){return t===void 0&&(t=0),new ue(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(E5,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function E5(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Y0(t,e,r){t===void 0&&(t=0);var n=-1;return bi(e)?n=Number(e)<1&&1||Number(e):kt(e)&&(r=e),kt(r)||(r=Et),new ue(function(i){var s=bi(t)?t:+t-r.now();return r.schedule(M5,s,{index:0,period:n,subscriber:i})})}function M5(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function x5(t,e){return new ue(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Sr(i):gi,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function K0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Rs(t,void 0).lift(new X0(r))}var X0=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new C5(e,this.resultSelector))},t}(),C5=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;St(r)?n.push(new I5(r)):typeof r[Dr]=="function"?n.push(new R5(r[Dr]())):n.push(new A5(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Y),R5=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),I5=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Dr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),A5=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Dr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return tt(this.observable,new Xe(this))},e}(et);const k5=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:vi,AsyncSubject:Oi,BehaviorSubject:I0,ConnectableObservable:R0,EMPTY:gi,EmptyError:Is,GroupedObservable:Uu,NEVER:J0,Notification:yr,get NotificationKind(){return qu},ObjectUnsubscribedError:Ar,Observable:ue,ReplaySubject:Zc,Scheduler:zu,Subject:ft,Subscriber:Y,Subscription:Ke,TimeoutError:D0,UnsubscriptionError:Qi,VirtualAction:$0,VirtualTimeScheduler:N4,animationFrame:O4,animationFrameScheduler:P0,asap:Ys,asapScheduler:N0,async:Et,asyncScheduler:L0,bindCallback:j0,bindNodeCallback:B0,combineLatest:Z4,concat:ns,config:$t,defer:Kc,empty:Ti,forkJoin:s5,from:Sr,fromEvent:U0,fromEventPattern:q0,generate:c5,identity:$r,iif:f5,interval:h5,isObservable:L4,merge:G0,never:p5,noop:ir,observable:ki,of:ea,onErrorResumeNext:Ju,pairs:g5,partition:m5,pipe:Vu,queue:k0,queueScheduler:A0,race:Q0,range:S5,scheduled:H0,throwError:Jc,timer:Y0,using:x5,zip:K0},Symbol.toStringTag,{value:"Module"})),ta=_n(k5);var ra={};function eg(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=eg(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function wh(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=eg(t))&&(n&&(n+=" "),n+=e);return n}const T5=Object.freeze(Object.defineProperty({__proto__:null,clsx:wh,default:wh},Symbol.toStringTag,{value:"Module"})),na=_n(T5);var wr,we,hu,Sh,yi=0,tg=[],Ks=[],Eh=ne.__b,Mh=ne.__r,xh=ne.diffed,Ch=ne.__c,Rh=ne.unmount;function An(t,e){ne.__h&&ne.__h(we,t,yi||e),yi=0;var r=we.__H||(we.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Ks}),r.__[t]}function rg(t){return yi=1,ng(sg,t)}function ng(t,e,r){var n=An(wr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):sg(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=we,!we.u)){var i=function(a,c,l){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(g){return g.__c});if(h.every(function(g){return!g.__N}))return!s||s.call(this,a,c,l);var d=!1;return h.forEach(function(g){if(g.__N){var _=g.__[0];g.__=g.__N,g.__N=void 0,_!==g.__[0]&&(d=!0)}}),!(!d&&n.__c.props===a)&&(!s||s.call(this,a,c,l))};we.u=!0;var s=we.shouldComponentUpdate,o=we.componentWillUpdate;we.componentWillUpdate=function(a,c,l){if(this.__e){var h=s;s=void 0,i(a,c,l),s=h}o&&o.call(this,a,c,l)},we.shouldComponentUpdate=i}return n.__N||n.__}function O5(t,e){var r=An(wr++,3);!ne.__s&&el(r.__H,e)&&(r.__=t,r.i=e,we.__H.__h.push(r))}function ig(t,e){var r=An(wr++,4);!ne.__s&&el(r.__H,e)&&(r.__=t,r.i=e,we.__h.push(r))}function N5(t){return yi=5,Xc(function(){return{current:t}},[])}function L5(t,e,r){yi=6,ig(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Xc(t,e){var r=An(wr++,7);return el(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function P5(t,e){return yi=8,Xc(function(){return t},e)}function $5(t){var e=we.context[t.__c],r=An(wr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(we)),e.props.value):t.__}function D5(t,e){ne.useDebugValue&&ne.useDebugValue(e?e(t):t)}function j5(t){var e=An(wr++,10),r=rg();return e.__=t,we.componentDidCatch||(we.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function B5(){var t=An(wr++,11);if(!t.__){for(var e=we.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function F5(){for(var t;t=tg.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Xs),t.__H.__h.forEach(Zu),t.__H.__h=[]}catch(e){t.__H.__h=[],ne.__e(e,t.__v)}}ne.__b=function(t){we=null,Eh&&Eh(t)},ne.__r=function(t){Mh&&Mh(t),wr=0;var e=(we=t.__c).__H;e&&(hu===we?(e.__h=[],we.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Ks,r.__N=r.i=void 0})):(e.__h.forEach(Xs),e.__h.forEach(Zu),e.__h=[],wr=0)),hu=we},ne.diffed=function(t){xh&&xh(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(tg.push(e)!==1&&Sh===ne.requestAnimationFrame||((Sh=ne.requestAnimationFrame)||W5)(F5)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Ks&&(r.__=r.__V),r.i=void 0,r.__V=Ks})),hu=we=null},ne.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Xs),r.__h=r.__h.filter(function(n){return!n.__||Zu(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ne.__e(n,r.__v)}}),Ch&&Ch(t,e)},ne.unmount=function(t){Rh&&Rh(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Xs(n)}catch(i){e=i}}),r.__H=void 0,e&&ne.__e(e,r.__v))};var Ih=typeof requestAnimationFrame=="function";function W5(t){var e,r=function(){clearTimeout(n),Ih&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Ih&&(e=requestAnimationFrame(r))}function Xs(t){var e=we,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),we=e}function Zu(t){var e=we;t.__c=t.__(),we=e}function el(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function sg(t,e){return typeof e=="function"?e(t):e}const H5=Object.freeze(Object.defineProperty({__proto__:null,useCallback:P5,useContext:$5,useDebugValue:D5,useEffect:O5,useErrorBoundary:j5,useId:B5,useImperativeHandle:L5,useLayoutEffect:ig,useMemo:Xc,useReducer:ng,useRef:N5,useState:rg},Symbol.toStringTag,{value:"Module"})),As=_n(H5);var cr={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.CloseIcon=void 0;const Ah=Tt;function V5(t){return(0,Ah.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ah.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ia.CloseIcon=V5;var tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var rl={};Object.defineProperty(rl,"__esModule",{value:!0});rl.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.QRCodeIcon=void 0;const tr=Tt;function U5(t){return(0,tr.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,tr.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,tr.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,tr.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,tr.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,tr.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,tr.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,tr.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,tr.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,tr.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}sa.QRCodeIcon=U5;var nl={};Object.defineProperty(nl,"__esModule",{value:!0});const z5=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;nl.default=z5;var il={};Object.defineProperty(il,"__esModule",{value:!0});il.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.StatusDotIcon=void 0;const kh=Tt;function q5(t){return(0,kh.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,kh.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}oa.StatusDotIcon=q5;var aa={};function og(t){this.mode=It.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}og.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function lr(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}lr.prototype={addData:function(t){var e=new og(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=lr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Qe.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Qe.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Qe.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Qe.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=Qe.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};lr.PAD0=236;lr.PAD1=17;lr.createData=function(t,e,r){for(var n=or.getRSBlocks(t,e),i=new ag,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Qe.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(lr.PAD0,8),i.getLengthInBits()>=a*8));)i.put(lr.PAD1,8);return lr.createBytes(i,n)};lr.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var d=Qe.getErrorCorrectPolynomial(l),g=new ni(s[a],d.getLength()-1),_=g.mod(d);o[a]=new Array(d.getLength()-1);for(var h=0;h<o[a].length;h++){var R=h+_.getLength()-o[a].length;o[a][h]=R>=0?_.get(R):0}}for(var L=0,h=0;h<e.length;h++)L+=e[h].totalCount;for(var O=new Array(L),w=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(O[w++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(O[w++]=o[a][h]);return O};var It={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Tr={L:1,M:0,Q:3,H:2},Mr={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Qe={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G15)>=0;)e^=Qe.G15<<Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G15);return(t<<10|e)^Qe.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G18)>=0;)e^=Qe.G18<<Qe.getBCHDigit(e)-Qe.getBCHDigit(Qe.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Qe.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Mr.PATTERN000:return(e+r)%2==0;case Mr.PATTERN001:return e%2==0;case Mr.PATTERN010:return r%3==0;case Mr.PATTERN011:return(e+r)%3==0;case Mr.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Mr.PATTERN101:return e*r%2+e*r%3==0;case Mr.PATTERN110:return(e*r%2+e*r%3)%2==0;case Mr.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new ni([1],0),r=0;r<t;r++)e=e.multiply(new ni([1,lt.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case It.MODE_NUMBER:return 10;case It.MODE_ALPHA_NUM:return 9;case It.MODE_8BIT_BYTE:return 8;case It.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case It.MODE_NUMBER:return 12;case It.MODE_ALPHA_NUM:return 11;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case It.MODE_NUMBER:return 14;case It.MODE_ALPHA_NUM:return 13;case It.MODE_8BIT_BYTE:return 16;case It.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var d=Math.abs(100*h/e/e-50)/5;return r+=d*10,r}},lt={glog:function(t){if(t<1)throw new Error("glog("+t+")");return lt.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return lt.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var dt=0;dt<8;dt++)lt.EXP_TABLE[dt]=1<<dt;for(var dt=8;dt<256;dt++)lt.EXP_TABLE[dt]=lt.EXP_TABLE[dt-4]^lt.EXP_TABLE[dt-5]^lt.EXP_TABLE[dt-6]^lt.EXP_TABLE[dt-8];for(var dt=0;dt<255;dt++)lt.LOG_TABLE[lt.EXP_TABLE[dt]]=dt;function ni(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}ni.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=lt.gexp(lt.glog(this.get(r))+lt.glog(t.get(n)));return new ni(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=lt.glog(this.get(0))-lt.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=lt.gexp(lt.glog(t.get(n))+e);return new ni(r,0).mod(t)}};function or(t,e){this.totalCount=t,this.dataCount=e}or.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];or.getRSBlocks=function(t,e){var r=or.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new or(a,c));return i};or.getRsBlockTable=function(t,e){switch(e){case Tr.L:return or.RS_BLOCK_TABLE[(t-1)*4+0];case Tr.M:return or.RS_BLOCK_TABLE[(t-1)*4+1];case Tr.Q:return or.RS_BLOCK_TABLE[(t-1)*4+2];case Tr.H:return or.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function ag(){this.buffer=[],this.length=0}ag.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var du=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function ug(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Tr.L;case"M":return Tr.M;case"Q":return Tr.Q;case"H":return Tr.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var h=i(c),d=1,g=0,_=0,R=du.length;_<=R;_++){var L=du[_];if(!L)throw new Error("Content too long: expected "+g+" but got "+h);switch(l){case"L":g=L[0];break;case"M":g=L[1];break;case"Q":g=L[2];break;case"H":g=L[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(h<=g)break;d++}if(d>du.length)throw new Error("Content too long");return d}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new lr(o,a),this.qrcode.addData(s),this.qrcode.make()}ug.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),h=a/(c+2*e.padding),d=typeof e.join<"u"?!!e.join:!1,g=typeof e.swap<"u"?!!e.swap:!1,_=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,R=typeof e.predefined<"u"?!!e.predefined:!1,L=R?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",O=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,w="",I="",T=0;T<c;T++)for(var $=0;$<c;$++){var P=r[$][T];if(P){var j=$*l+e.padding*l,q=T*h+e.padding*h;if(g){var z=j;j=q,q=z}if(d){var F=l+j,Z=h+q;j=Number.isInteger(j)?Number(j):j.toFixed(2),q=Number.isInteger(q)?Number(q):q.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),Z=Number.isInteger(Z)?Number(Z):Z.toFixed(2),I+="M"+j+","+q+" V"+Z+" H"+F+" V"+q+" H"+j+" Z "}else R?w+=i+'<use x="'+j.toString()+'" y="'+q.toString()+'" href="#qrmodule" />'+s:w+=i+'<rect x="'+j.toString()+'" y="'+q.toString()+'" width="'+l+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}d&&(w=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+I+'" />');let K="";if(this.options.image!==void 0&&this.options.image.svg){const b=o*this.options.image.width/100,u=a*this.options.image.height/100,p=o/2-b/2,v=a/2-u/2;K+=`<svg x="${p}" y="${v}" width="${b}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,K+=this.options.image.svg+s,K+="</svg>"}var X="";switch(t.container){case"svg":_&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,X+=L+O+w,X+=K,X+="</svg>";break;case"svg-viewbox":_&&(X+='<?xml version="1.0" standalone="yes"?>'+s),X+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,X+=L+O+w,X+=K,X+="</svg>";break;case"g":X+='<g width="'+o+'" height="'+a+'">'+s,X+=L+O+w,X+=K,X+="</g>";break;default:X+=(L+O+w+K).replace(/^\s+/,"");break}return X};var G5=ug,J5=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(aa,"__esModule",{value:!0});aa.QRCode=void 0;const Z5=Tt,Th=As,Q5=J5(G5),Y5=t=>{const[e,r]=(0,Th.useState)("");return(0,Th.useEffect)(()=>{var n,i;const s=new Q5.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Z5.h)("img",{src:e,alt:"QR Code"}):null};aa.QRCode=Y5;var ua={},sl={};Object.defineProperty(sl,"__esModule",{value:!0});sl.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var K5=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});ua.Spinner=void 0;const Us=Tt,X5=K5(sl),eM=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Us.h)("div",{class:"-cbwsdk-spinner"},(0,Us.h)("style",null,X5.default),(0,Us.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Us.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};ua.Spinner=eM;var ol={};Object.defineProperty(ol,"__esModule",{value:!0});ol.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ni=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cr,"__esModule",{value:!0});cr.CoinbaseAppSteps=cr.CoinbaseWalletSteps=cr.ConnectItem=cr.ConnectContent=void 0;const jt=Ni(na),te=Tt,Oh=As,tM=Q,rM=Si,nM=ia,iM=Ni(tl),sM=Ni(rl),cg=sa,oM=Ni(nl),aM=Ni(il),uM=oa,cM=aa,lM=ua,fM=Ni(ol),Nh={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:sM.default,steps:fg},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:iM.default,steps:hg}},hM=t=>{switch(t){case"coinbase-app":return oM.default;case"coinbase-wallet-app":default:return aM.default}},Qu=t=>t==="light"?"#FFFFFF":"#0A0B0D";function dM(t){const{theme:e}=t,[r,n]=(0,Oh.useState)("coinbase-wallet-app"),i=(0,Oh.useCallback)(l=>{n(l)},[]),s=(0,tM.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Nh[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,te.h)("div",{"data-testid":"connect-content",class:(0,jt.default)("-cbwsdk-connect-content",e)},(0,te.h)("style",null,fM.default),(0,te.h)("div",{class:"-cbwsdk-connect-content-header"},(0,te.h)("h2",{class:(0,jt.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,te.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,te.h)(nM.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,te.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,te.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,te.h)("div",null,Object.entries(Nh).map(([l,h])=>(0,te.h)(lg,{key:l,title:h.title,description:h.description,icon:h.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,te.h)("div",{class:(0,jt.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,te.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,te.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,te.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,te.h)(cM.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:hM(r),width:25,height:25}}),(0,te.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:rM.LIB_VERSION}),(0,te.h)("input",{type:"hidden",value:s})),(0,te.h)(a,{theme:e}),!t.isConnected&&(0,te.h)("div",{"data-testid":"connecting-spinner",class:(0,jt.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,te.h)(lM.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,te.h)("p",null,"Connecting...")))))}cr.ConnectContent=dM;function lg({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,te.h)("div",{onClick:s,class:(0,jt.default)("-cbwsdk-connect-item",i,{selected:n})},(0,te.h)("div",null,(0,te.h)("img",{src:r,alt:t})),(0,te.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,te.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,te.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}cr.ConnectItem=lg;function fg({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,jt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,te.h)("li",{class:(0,jt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"Scan")," "),(0,te.h)("span",{class:(0,jt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(cg.QRCodeIcon,{fill:Qu(t)})))))}cr.CoinbaseWalletSteps=fg;function hg({theme:t}){return(0,te.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,te.h)("li",{class:(0,jt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,te.h)("li",{class:(0,jt.default)("-cbwsdk-wallet-steps-item",t)},(0,te.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,te.h)("span",null,"Tap ",(0,te.h)("strong",null,"More")),(0,te.h)("span",{class:(0,jt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(uM.StatusDotIcon,{fill:Qu(t)})),(0,te.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,te.h)("strong",null,"Scan")),(0,te.h)("span",{class:(0,jt.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,te.h)(cg.QRCodeIcon,{fill:Qu(t)})))))}cr.CoinbaseAppSteps=hg;var ca={},la={};Object.defineProperty(la,"__esModule",{value:!0});la.ArrowLeftIcon=void 0;const Lh=Tt;function pM(t){return(0,Lh.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Lh.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}la.ArrowLeftIcon=pM;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.LaptopIcon=void 0;const pu=Tt;function gM(t){return(0,pu.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,pu.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,pu.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}fa.LaptopIcon=gM;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.SafeIcon=void 0;const Ph=Tt;function vM(t){return(0,Ph.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ph.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ha.SafeIcon=vM;var al={};Object.defineProperty(al,"__esModule",{value:!0});al.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var dg=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ca,"__esModule",{value:!0});ca.TryExtensionContent=void 0;const tn=dg(na),nt=Tt,gu=As,bM=la,yM=fa,mM=ha,_M=dg(al);function wM({theme:t}){const[e,r]=(0,gu.useState)(!1),n=(0,gu.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,gu.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,nt.h)("div",{class:(0,tn.default)("-cbwsdk-try-extension",t)},(0,nt.h)("style",null,_M.default),(0,nt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,nt.h)("h3",{class:(0,tn.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,nt.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,nt.h)("button",{class:(0,tn.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,nt.h)("div",null,!e&&(0,nt.h)(bM.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,nt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,nt.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,nt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,nt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,nt.h)("span",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,nt.h)(yM.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,nt.h)("div",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,nt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,nt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,nt.h)("span",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,nt.h)(mM.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,nt.h)("div",{class:(0,tn.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ca.TryExtensionContent=wM;var ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var pg=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});ra.ConnectDialog=void 0;const vu=pg(na),rn=Tt,bu=As,SM=cr,EM=ca,MM=pg(ul),xM=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,bu.useState)(!e),[s,o]=(0,bu.useState)(!e);(0,bu.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,rn.h)("div",{class:(0,vu.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,rn.h)("style",null,MM.default),(0,rn.h)("div",{class:(0,vu.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,rn.h)("div",{class:"-cbwsdk-connect-dialog"},(0,rn.h)("div",{class:(0,vu.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,rn.h)(SM.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,rn.h)(EM.TryExtensionContent,{theme:a}))))};ra.ConnectDialog=xM;Object.defineProperty(Ko,"__esModule",{value:!0});Ko.LinkFlow=void 0;const yu=Tt,$h=ta,CM=ra;class RM{constructor(e){this.extensionUI$=new $h.BehaviorSubject({}),this.subscriptions=new $h.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,yu.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,yu.render)((0,yu.h)(CM.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ko.LinkFlow=RM;var gg={},cl={};Object.defineProperty(cl,"__esModule",{value:!0});cl.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=J&&J.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(na),n=Tt,i=As,s=e(cl),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(d){switch(d){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(g){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=g.darkMode}attach(g){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",g.appendChild(this.root),this.render()}presentItem(g){const _=this.nextItemKey++;return this.items.set(_,g),this.render(),()=>{this.items.delete(_),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([g,_])=>(0,n.h)(t.SnackbarInstance,Object.assign({},_,{key:g}))))),this.root)}}t.Snackbar=c;const l=d=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},d.children));t.SnackbarContainer=l;const h=({autoExpand:d,message:g,menuItems:_,appSrc:R})=>{const[L,O]=(0,i.useState)(!0),[w,I]=(0,i.useState)(d??!1);(0,i.useEffect)(()=>{const $=[window.setTimeout(()=>{O(!1)},1),window.setTimeout(()=>{I(!0)},1e4)];return()=>{$.forEach(window.clearTimeout)}});const T=()=>{I(!w)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",L&&"-cbwsdk-snackbar-instance-hidden",w&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:T},(0,n.h)("img",{src:a(R),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},g),(0,n.h)("div",{class:"-gear-container"},!w&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),_&&_.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},_.map(($,P)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",$.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:$.onClick,key:P},(0,n.h)("svg",{width:$.svgWidth,height:$.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":$.defaultFillRule,"clip-rule":$.defaultClipRule,d:$.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",$.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},$.info)))))};t.SnackbarInstance=h})(gg);var da={},ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var IM=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(da,"__esModule",{value:!0});da.injectCssReset=void 0;const AM=IM(ll);function kM(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(AM.default)),document.documentElement.appendChild(t)}da.injectCssReset=kM;Object.defineProperty(Yo,"__esModule",{value:!0});Yo.WalletSDKUI=void 0;const TM=Ko,OM=gg,NM=da;class LM{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new OM.Snackbar({darkMode:e.darkMode}),this.linkFlow=new TM.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,NM.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Yo.WalletSDKUI=LM;var pa={},ga={};Object.defineProperty(ga,"__esModule",{value:!0});var Yn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Yn||(Yn={}));function vg(t,e,r){if(!r||typeof r.value!==Yn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Yn.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Yn.boolTrue,writable:Yn.boolTrue}),n}}}ga.bind=vg;ga.default=vg;function bg(t){return function(r){return r.lift(new PM(t))}}var PM=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new $M(e,this.durationSelector))},t}(),$M=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=tt(n,new Xe(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(et);function DM(t,e){return e===void 0&&(e=Et),bg(function(){return Y0(t,e)})}function jM(t){return function(r){return r.lift(new BM(t))}}var BM=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new FM(e,this.closingNotifier))},t}(),FM=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(tt(n,new Xe(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(et);function WM(t,e){return e===void 0&&(e=null),function(n){return n.lift(new HM(t,e))}}var HM=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=VM:this.subscriberClass=UM}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),VM=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(Y),UM=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(Y);function zM(t){var e=arguments.length,r=Et;kt(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new qM(t,n,i,r))}}var qM=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new JM(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),GM=function(){function t(){this.buffer=[]}return t}(),JM=function(t){B(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Dh,n,l))}else{var h={subscriber:a,context:c},d={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(yg,n,h)),a.add(o.schedule(ZM,i,d))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Dh,i,s))}},e.prototype.openContext=function(){var r=new GM;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(Y);function Dh(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ZM(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(yg,r,{subscriber:n,context:s})),o.schedule(t,e))}function yg(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function QM(t,e){return function(n){return n.lift(new YM(t,e))}}var YM=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new KM(e,this.openings,this.closingSelector))},t}(),KM=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(_r(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Ke,o={buffer:i,subscription:s};n.push(o);var a=_r(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(In);function XM(t){return function(e){return e.lift(new ex(t))}}var ex=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new tx(e,this.closingSelector))},t}(),tx=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Ke,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(tt(i,new Xe(this))),this.subscribing=!1},e}(et);function rx(t){return function(r){var n=new nx(t),i=r.lift(n);return n.caught=i}}var nx=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new ix(e,this.selector,this.caught))},t}(),ix=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Xe(this);this.add(i);var s=tt(n,i);s!==i&&this.add(s)}},e}(et);function sx(t){return function(e){return e.lift(new Qc(t))}}function ox(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&St(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Sr([n].concat(t)),new Qc(r))}}function ax(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ns.apply(void 0,[r].concat(t)))}}function mg(t,e){return yn(t,e,1)}function ux(t,e){return mg(function(){return t},e)}function cx(t){return function(e){return e.lift(new lx(t,e))}}var lx=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new fx(e,this.predicate,this.source))},t}(),fx=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Y);function hx(t){return function(e){return e.lift(new dx(t))}}var dx=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new px(e,this.durationSelector))},t}(),px=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=tt(n,new Xe(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(et);function gx(t,e){return e===void 0&&(e=Et),function(r){return r.lift(new vx(t,e))}}var vx=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new bx(e,this.dueTime,this.scheduler))},t}(),bx=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(yx,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(Y);function yx(t){t.debouncedNext()}function ks(t){return t===void 0&&(t=null),function(e){return e.lift(new mx(t))}}var mx=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new _x(e,this.defaultValue))},t}(),_x=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Y);function _g(t){return t instanceof Date&&!isNaN(+t)}function wx(t,e){e===void 0&&(e=Et);var r=_g(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Sx(n,e))}}var Sx=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Ex(e,this.delay,this.scheduler))},t}(),Ex=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Mx(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(yr.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(yr.createComplete()),this.unsubscribe()},e}(Y),Mx=function(){function t(e,r){this.time=e,this.notification=r}return t}();function xx(t,e){return e?function(r){return new Rx(r,e).lift(new jh(t))}:function(r){return r.lift(new jh(t))}}var jh=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Cx(e,this.delayDurationSelector))},t}(),Cx=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=_r(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(In),Rx=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new Ix(r,this.source))},e}(ue),Ix=function(t){B(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Y);function Ax(){return function(e){return e.lift(new kx)}}var kx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Tx(e))},t}(),Tx=function(t){B(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(Y);function Ox(t,e){return function(r){return r.lift(new Nx(t,e))}}var Nx=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Lx(e,this.keySelector,this.flushes))},t}(),Lx=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(tt(i,new Xe(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(et);function wg(t,e){return function(r){return r.lift(new Px(t,e))}}var Px=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new $x(e,this.compare,this.keySelector))},t}(),$x=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(Y);function Dx(t,e){return wg(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function va(t){return t===void 0&&(t=Fx),function(e){return e.lift(new jx(t))}}var jx=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new Bx(e,this.errorFactory))},t}(),Bx=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(Y);function Fx(){return new Is}function fl(t){return function(e){return t===0?Ti():e.lift(new Wx(t))}}var Wx=function(){function t(e){if(this.total=e,this.total<0)throw new vi}return t.prototype.call=function(e,r){return r.subscribe(new Hx(e,this.total))},t}(),Hx=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(Y);function Vx(t,e){if(t<0)throw new vi;var r=arguments.length>=2;return function(n){return n.pipe(jr(function(i,s){return s===t}),fl(1),r?ks(e):va(function(){return new vi}))}}function Ux(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ns(r,ea.apply(void 0,t))}}function zx(t,e){return function(r){return r.lift(new qx(t,e,r))}}var qx=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new Gx(e,this.predicate,this.thisArg,this.source))},t}(),Gx=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Y);function Jx(){return function(t){return t.lift(new Zx)}}var Zx=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Qx(e))},t}(),Qx=function(t){B(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(tt(r,new Xe(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(et);function Sg(t,e){return e?function(r){return r.pipe(Sg(function(n,i){return Sr(t(n,i)).pipe(Ht(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new Yx(t))}}var Yx=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Kx(e,this.project))},t}(),Kx=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(et);function Xx(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new eC(t,e,r))}}var eC=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new tC(e,this.project,this.concurrent,this.scheduler))},t}(),tC=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(tt(r,new Xe(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(et);function rC(t){return function(e){return e.lift(new nC(t))}}var nC=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new iC(e,this.callback))},t}(),iC=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Ke(n)),i}return e}(Y);function sC(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Eg(t,r,!1,e))}}var Eg=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new oC(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),oC=function(t){B(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Y);function aC(t,e){return function(r){return r.lift(new Eg(t,r,!0,e))}}function uC(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?jr(function(i,s){return t(i,s,n)}):$r,fl(1),r?ks(e):va(function(){return new Is}))}}function cC(){return function(e){return e.lift(new lC)}}var lC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new fC(e))},t}(),fC=function(t){B(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(Y);function hC(){return function(t){return t.lift(new dC)}}var dC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new pC(e))},t}(),pC=function(t){B(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Y);function po(t){return function(r){return t===0?Ti():r.lift(new gC(t))}}var gC=function(){function t(e){if(this.total=e,this.total<0)throw new vi}return t.prototype.call=function(e,r){return r.subscribe(new vC(e,this.total))},t}(),vC=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(Y);function bC(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?jr(function(i,s){return t(i,s,n)}):$r,po(1),r?ks(e):va(function(){return new Is}))}}function yC(t){return function(e){return e.lift(new mC(t))}}var mC=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new _C(e,this.value))},t}(),_C=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(Y);function wC(){return function(e){return e.lift(new SC)}}var SC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new EC(e))},t}(),EC=function(t){B(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(yr.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(yr.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(yr.createComplete()),r.complete()},e}(Y);function go(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new MC(t,e,r))}}var MC=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new xC(e,this.accumulator,this.seed,this.hasSeed))},t}(),xC=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(Y);function ba(t,e){return arguments.length>=2?function(n){return Vu(go(t,e),po(1),ks(e))(n)}:function(n){return Vu(go(function(i,s,o){return t(i,s,o+1)}),po(1))(n)}}function CC(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return ba(e)}function RC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(G0.apply(void 0,[r].concat(t)))}}function IC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?yn(function(){return t},e,r):(typeof e=="number"&&(r=e),yn(function(){return t},r))}function AC(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new kC(t,e,r))}}var kC=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new TC(e,this.accumulator,this.seed,this.concurrent))},t}(),TC=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(et);function OC(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return ba(e)}function mn(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new NC(i,e));var s=Object.create(n,l4);return s.source=n,s.subjectFactory=i,s}}var NC=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function LC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&St(t[0])&&(t=t[0]),function(r){return r.lift(new PC(t))}}var PC=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new $C(e,this.nextSources))},t}(),$C=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(et);function DC(){return function(t){return t.lift(new jC)}}var jC=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new BC(e))},t}(),BC=function(t){B(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(Y);function FC(t,e){return function(r){return[jr(t,e)(r),jr(Z0(t,e))(r)]}}function WC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ht(HC(t,r))(n)}}function HC(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function VC(t){return t?mn(function(){return new ft},t):mn(new ft)}function UC(t){return function(e){return mn(new I0(t))(e)}}function zC(){return function(t){return mn(new Oi)(t)}}function qC(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Zc(t,e,n);return function(o){return mn(function(){return s},i)(o)}}function GC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&St(t[0])&&(t=t[0]),n.lift.call(Q0.apply(void 0,[n].concat(t)))}}function JC(t){return t===void 0&&(t=-1),function(e){return t===0?Ti():t<0?e.lift(new Bh(-1,e)):e.lift(new Bh(t-1,e))}}var Bh=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ZC(e,this.count,this.source))},t}(),ZC=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(Y);function QC(t){return function(e){return e.lift(new YC(t))}}var YC=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new KC(e,this.notifier,r))},t}(),KC=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ft;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=tt(r,new Xe(this))},e}(et);function XC(t){return t===void 0&&(t=-1),function(e){return e.lift(new eR(t,e))}}var eR=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new tR(e,this.count,this.source))},t}(),tR=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(Y);function rR(t){return function(e){return e.lift(new nR(t,e))}}var nR=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new iR(e,this.notifier,this.source))},t}(),iR=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ft;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=tt(i,new Xe(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(et);function sR(t){return function(e){return e.lift(new oR(t))}}var oR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new aR(e),i=r.subscribe(n);return i.add(tt(this.notifier,new Xe(n))),i},t}(),aR=function(t){B(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(et);function uR(t,e){return e===void 0&&(e=Et),function(r){return r.lift(new cR(t,e))}}var cR=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new lR(e,this.period,this.scheduler))},t}(),lR=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(fR,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Y);function fR(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function hR(t,e){return function(r){return r.lift(new dR(t,e))}}var dR=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new pR(e,this.compareTo,this.comparator))},t}(),pR=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new gR(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(Y),gR=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Y);function vR(){return new ft}function bR(){return function(t){return qc()(mn(vR)(t))}}function yR(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(mR(n))}}function mR(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,h=!1,d=!1;return function(_){c++;var R;!a||h?(h=!1,a=new Zc(r,i,o),R=a.subscribe(this),l=_.subscribe({next:function(L){a.next(L)},error:function(L){h=!0,a.error(L)},complete:function(){d=!0,l=void 0,a.complete()}}),d&&(l=void 0)):R=a.subscribe(this),this.add(function(){c--,R.unsubscribe(),R=void 0,l&&!d&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function _R(t){return function(e){return e.lift(new wR(t,e))}}var wR=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new SR(e,this.predicate,this.source))},t}(),SR=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Is)},e}(Y);function ER(t){return function(e){return e.lift(new MR(t))}}var MR=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new xR(e,this.total))},t}(),xR=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(Y);function CR(t){return function(e){return e.lift(new RR(t))}}var RR=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new vi}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new Y(e)):r.subscribe(new IR(e,this._skipCount))},t}(),IR=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(Y);function AR(t){return function(e){return e.lift(new kR(t))}}var kR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new TR(e,this.notifier))},t}(),TR=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Xe(i);i.add(s),i.innerSubscription=s;var o=tt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(et);function OR(t){return function(e){return e.lift(new NR(t))}}var NR=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new LR(e,this.predicate))},t}(),LR=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(Y);function PR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return kt(r)?(t.pop(),function(n){return ns(t,n,r)}):function(n){return ns(t,n)}}var $R=function(t){B(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Ys);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!bi(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Ys),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Ys),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ue);function DR(t,e){return e===void 0&&(e=0),function(n){return n.lift(new jR(t,e))}}var jR=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new $R(r,this.delay,this.scheduler).subscribe(e)},t}();function is(t,e){return typeof e=="function"?function(r){return r.pipe(is(function(n,i){return Sr(t(n,i)).pipe(Ht(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new BR(t))}}var BR=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new FR(e,this.project))},t}(),FR=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Xe(this),s=this.destination;s.add(i),this.innerSubscription=tt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(et);function WR(){return is($r)}function HR(t,e){return e?is(function(){return t},e):is(function(){return t})}function VR(t){return function(e){return e.lift(new UR(t))}}var UR=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new zR(e),i=tt(this.notifier,new Xe(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),zR=function(t){B(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(et);function qR(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new GR(t,e))}}var GR=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new JR(e,this.predicate,this.inclusive))},t}(),JR=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(Y);function ZR(t,e,r){return function(i){return i.lift(new QR(t,e,r))}}var QR=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new YR(e,this.nextOrObserver,this.error,this.complete))},t}(),YR=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ir,o._tapError=ir,o._tapComplete=ir,o._tapError=i||ir,o._tapComplete=s||ir,pi(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ir,o._tapError=n.error||ir,o._tapComplete=n.complete||ir),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(Y),Mg={leading:!0,trailing:!1};function KR(t,e){return e===void 0&&(e=Mg),function(r){return r.lift(new XR(t,!!e.leading,!!e.trailing))}}var XR=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new e6(e,this.durationSelector,this.leading,this.trailing))},t}(),e6=function(t){B(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=tt(n,new Xe(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(et);function t6(t,e,r){return e===void 0&&(e=Et),r===void 0&&(r=Mg),function(n){return n.lift(new r6(t,e,r.leading,r.trailing))}}var r6=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new n6(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),n6=function(t){B(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(i6,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(Y);function i6(t){var e=t.subscriber;e.clearThrottle()}function s6(t){return t===void 0&&(t=Et),function(e){return Kc(function(){return e.pipe(go(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ht(function(r){var n=r.current,i=r.last,s=r.value;return new o6(s,n-i)}))})}}var o6=function(){function t(e,r){this.value=e,this.interval=r}return t}();function xg(t,e,r){return r===void 0&&(r=Et),function(n){var i=_g(t),s=i?+t-r.now():Math.abs(t);return n.lift(new a6(s,i,e,r))}}var a6=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new u6(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),u6=function(t){B(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(tt(n,new Xe(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(et);function c6(t,e){return e===void 0&&(e=Et),xg(t,Jc(new D0),e)}function l6(t){return t===void 0&&(t=Et),Ht(function(e){return new f6(e,t.now())})}var f6=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function h6(t,e,r){return r===0?[e]:(t.push(e),t)}function d6(){return ba(h6,[])}function p6(t){return function(r){return r.lift(new g6(t))}}var g6=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new v6(e),i=r.subscribe(n);return i.closed||n.add(tt(this.windowBoundaries,new Xe(n))),i},t}(),v6=function(t){B(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ft,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ft;n.next(i)},e}(et);function b6(t,e){return e===void 0&&(e=0),function(n){return n.lift(new y6(t,e))}}var y6=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new m6(e,this.windowSize,this.startWindowEvery))},t}(),m6=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ft],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new ft;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Y);function _6(t){var e=Et,r=null,n=Number.POSITIVE_INFINITY;return kt(arguments[3])&&(e=arguments[3]),kt(arguments[2])?e=arguments[2]:bi(arguments[2])&&(n=Number(arguments[2])),kt(arguments[1])?e=arguments[1]:bi(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new w6(t,r,n,e))}}var w6=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new E6(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),S6=function(t){B(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ft),E6=function(t){B(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Cg,n,l)),a.add(o.schedule(x6,i,h))}else{var d={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(M6,n,d))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new S6;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(Y);function M6(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function x6(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Cg,e,c),o.add(a.subscription),o.schedule(t,i)}function Cg(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function C6(t,e){return function(r){return r.lift(new R6(t,e))}}var R6=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new I6(e,this.openings,this.closingSelector))},t}(),I6=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=_r(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(_){return this.error(_)}var l=new ft,h=new Ke,d={window:l,subscription:h};this.contexts.push(d);var g=_r(this,a,d);g.closed?this.closeWindow(this.contexts.length-1):(g.context=d,h.add(g)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(In);function A6(t){return function(r){return r.lift(new k6(t))}}var k6=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new T6(e,this.closingSelector))},t}(),T6=function(t){B(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ft;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=_r(this,s))},e}(In);function O6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new N6(i,n))}}var N6=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new L6(e,this.observables,this.project))},t}(),L6=function(t){B(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(_r(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(In);function P6(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(K0.apply(void 0,[n].concat(t)))}}function $6(t){return function(e){return e.lift(new X0(t))}}const D6=Object.freeze(Object.defineProperty({__proto__:null,audit:bg,auditTime:DM,buffer:jM,bufferCount:WM,bufferTime:zM,bufferToggle:QM,bufferWhen:XM,catchError:rx,combineAll:sx,combineLatest:ox,concat:ax,concatAll:V0,concatMap:mg,concatMapTo:ux,count:cx,debounce:hx,debounceTime:gx,defaultIfEmpty:ks,delay:wx,delayWhen:xx,dematerialize:Ax,distinct:Ox,distinctUntilChanged:wg,distinctUntilKeyChanged:Dx,elementAt:Vx,endWith:Ux,every:zx,exhaust:Jx,exhaustMap:Sg,expand:Xx,filter:jr,finalize:rC,find:sC,findIndex:aC,first:uC,flatMap:i5,groupBy:h4,ignoreElements:cC,isEmpty:hC,last:bC,map:Ht,mapTo:yC,materialize:wC,max:CC,merge:RC,mergeAll:Yc,mergeMap:yn,mergeMapTo:IC,mergeScan:AC,min:OC,multicast:mn,observeOn:S4,onErrorResumeNext:LC,pairwise:DC,partition:FC,pluck:WC,publish:VC,publishBehavior:UC,publishLast:zC,publishReplay:qC,race:GC,reduce:ba,refCount:qc,repeat:JC,repeatWhen:QC,retry:XC,retryWhen:rR,sample:sR,sampleTime:uR,scan:go,sequenceEqual:hR,share:bR,shareReplay:yR,single:_R,skip:ER,skipLast:CR,skipUntil:AR,skipWhile:OR,startWith:PR,subscribeOn:DR,switchAll:WR,switchMap:is,switchMapTo:HR,take:fl,takeLast:po,takeUntil:VR,takeWhile:qR,tap:ZR,throttle:KR,throttleTime:t6,throwIfEmpty:va,timeInterval:s6,timeout:c6,timeoutWith:xg,timestamp:l6,toArray:d6,window:p6,windowCount:b6,windowTime:_6,windowToggle:C6,windowWhen:A6,withLatestFrom:O6,zip:P6,zipAll:$6},Symbol.toStringTag,{value:"Module"})),hl=_n(D6);var ya={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.ClientMessagePublishEvent=Dt.ClientMessageSetSessionConfig=Dt.ClientMessageGetSessionConfig=Dt.ClientMessageIsLinked=Dt.ClientMessageHostSession=void 0;function j6(t){return Object.assign({type:"HostSession"},t)}Dt.ClientMessageHostSession=j6;function B6(t){return Object.assign({type:"IsLinked"},t)}Dt.ClientMessageIsLinked=B6;function F6(t){return Object.assign({type:"GetSessionConfig"},t)}Dt.ClientMessageGetSessionConfig=F6;function W6(t){return Object.assign({type:"SetSessionConfig"},t)}Dt.ClientMessageSetSessionConfig=W6;function H6(t){return Object.assign({type:"PublishEvent"},t)}Dt.ClientMessagePublishEvent=H6;var Rg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=ta,r=hl;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Rg);var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.isServerMessageFail=void 0;function V6(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ma.isServerMessageFail=V6;Object.defineProperty(ya,"__esModule",{value:!0});ya.WalletSDKConnection=void 0;const Ut=ta,fe=hl,Bi=Ei,qn=fs,Fi=Dt,Wi=wi,zs=Rg,mu=ma,Fh=1e4,U6=6e4;class z6{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ut.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,qn.IntNumber)(1),this.connectedSubject=new Ut.BehaviorSubject(!1),this.linkedSubject=new Ut.BehaviorSubject(!1),this.sessionConfigSubject=new Ut.ReplaySubject(1);const o=new zs.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,fe.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Wi.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Bi.Session.hash(e)})}),(0,fe.skip)(1),(0,fe.filter)(a=>a===zs.ConnectionState.DISCONNECTED&&!this.destroyed),(0,fe.delay)(5e3),(0,fe.filter)(a=>!this.destroyed),(0,fe.flatMap)(a=>o.connect()),(0,fe.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(2),(0,fe.switchMap)(a=>(0,Ut.iif)(()=>a===zs.ConnectionState.CONNECTED,this.authenticate().pipe((0,fe.tap)(c=>this.sendIsLinked()),(0,fe.tap)(c=>this.sendGetSessionConfig()),(0,fe.map)(c=>!0)),(0,Ut.of)(!1))),(0,fe.distinctUntilChanged)(),(0,fe.catchError)(a=>(0,Ut.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,fe.skip)(1),(0,fe.switchMap)(a=>(0,Ut.iif)(()=>a===zs.ConnectionState.CONNECTED,(0,Ut.timer)(0,Fh)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,fe.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Wi.EVENTS.LINKED,{sessionIdHash:Bi.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,fe.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(Wi.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Bi.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Wi.EVENTS.STARTED_CONNECTING,{sessionIdHash:Bi.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Wi.EVENTS.DISCONNECTED,{sessionIdHash:Bi.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,fe.filter)(e=>e),(0,fe.take)(1),(0,fe.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,fe.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,fe.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Fi.ClientMessageSetSessionConfig)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,fe.flatMap)(i=>this.makeRequest(n)),(0,fe.map)(i=>{if((0,mu.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Fi.ClientMessagePublishEvent)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,fe.flatMap)(s=>this.makeRequest(i)),(0,fe.map)(s=>{if((0,mu.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Fh*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=U6){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ut.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,fe.timeoutWith)(r,(0,Ut.throwError)(new Error(`request ${n} timed out`))),(0,fe.filter)(i=>i.id===n),(0,fe.take)(1))}authenticate(){const e=(0,Fi.ClientMessageHostSession)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,fe.map)(r=>{if((0,mu.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Fi.ClientMessageIsLinked)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Fi.ClientMessageGetSessionConfig)({id:(0,qn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ya.WalletSDKConnection=z6;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.decrypt=mi.encrypt=void 0;const vo=Q;async function q6(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,vo.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),h=new Uint8Array(c),d=new Uint8Array([...r,...l,...h]);return(0,vo.uint8ArrayToHex)(d)}mi.encrypt=q6;function G6(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,vo.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,vo.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const d=await window.crypto.subtle.decrypt(h,i,l),g=new TextDecoder;r(g.decode(d))}catch(d){n(d)}})()})}mi.decrypt=G6;var _a={},wa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(wa);Object.defineProperty(_a,"__esModule",{value:!0});_a.Web3RequestCanceledMessage=void 0;const J6=wa;function Z6(t){return{type:J6.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}_a.Web3RequestCanceledMessage=Z6;var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Web3RequestMessage=void 0;const Q6=wa;function Y6(t){return Object.assign({type:Q6.RelayMessageType.WEB3_REQUEST},t)}Sa.Web3RequestMessage=Y6;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.isWeb3ResponseMessage=_i.Web3ResponseMessage=void 0;const Ig=wa;function K6(t){return Object.assign({type:Ig.RelayMessageType.WEB3_RESPONSE},t)}_i.Web3ResponseMessage=K6;function X6(t){return t&&t.type===Ig.RelayMessageType.WEB3_RESPONSE}_i.isWeb3ResponseMessage=X6;var eI=J&&J.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),tI=J&&J.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ag=J&&J.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},rI=J&&J.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&eI(e,t,r);return tI(e,t),e},nI=J&&J.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pa,"__esModule",{value:!0});pa.WalletSDKRelay=void 0;const kg=nI(ga),nn=ta,it=hl,bt=wi,iI=ya,Gn=ss,sI=fs,Ze=Q,xr=rI(mi),Cr=Ei,qs=Jt,ht=Mo,oI=_a,aI=Sa,Pt=Ee,xt=_i;class Gt extends qs.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new nn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new nn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Cr.Session.load(this.storage)||new Cr.Session(this.storage).save(),r=new iI.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,it.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,it.skip)(1),(0,it.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(qs.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(bt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,it.mergeMap)(i=>xr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(qs.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,it.mergeMap)(i=>xr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(qs.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,it.mergeMap)(i=>(0,nn.zip)(xr.decrypt(i.metadata.ChainId,e.secret),xr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,it.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,it.mergeMap)(i=>xr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Gt.accountRequestCallbackIds.size>0&&(Array.from(Gt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,xt.Web3ResponseMessage)({id:s,response:(0,Pt.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Gt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,it.mergeMap)(i=>xr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,it.timeout)(1e3),(0,it.catchError)(e=>(0,nn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(bt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Cr.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(bt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Cr.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new nn.Subscription;const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(bt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ht.Web3Method.signEthereumMessage,params:{message:(0,Ze.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ht.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Ze.hexStringFromBuffer)(e,!0),signature:(0,Ze.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ht.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ze.bigIntStringFromBN)(e.weiValue),data:(0,Ze.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Ze.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ht.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Ze.bigIntStringFromBN)(e.weiValue),data:(0,Ze.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Ze.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Ze.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Ze.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Ze.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ht.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Ze.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ht.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Ze.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ht.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Ze.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r==null||r(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,aI.Web3RequestMessage)({id:e,request:r}),s=Cr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(bt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Cr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(bt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Cr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,oI.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new nn.Observable(s=>{xr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,it.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,nn.from)(xr.decrypt(e.data,this.session.secret)).pipe((0,it.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,xt.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(bt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(bt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Pt.isRequestEthereumAccountsResponse)(n)){Gt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Gt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n==null?void 0:n.message)!==null&&s!==void 0?s:(0,Gn.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ht.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Ze.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,Ze.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=h=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:r,response:(0,Pt.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=Gn.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Gt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ht.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Ze.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:n,response:(0,Pt.SelectProviderResponse)(sI.ProviderType.Unselected)}))},l=h=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:n,response:(0,Pt.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ht.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,Ze.randomBytesHex)(8),h=g=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,g),c==null||c()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const d=new Promise((g,_)=>{this.relayEventManager.callbacks.set(l,O=>{if(c==null||c(),O.errorMessage)return _(new Error(O.errorMessage));g(O)});const R=O=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,Pt.WatchAssetReponse)(!1)}))},L=()=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,Pt.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:L,onCancel:R,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:h,promise:d}}addEthereumChain(e,r,n,i,s,o){const a={method:ht.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,Ze.randomBytesHex)(8),h=g=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,g),c==null||c()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((g,_)=>{this.relayEventManager.callbacks.set(l,O=>{if(c==null||c(),O.errorMessage)return _(new Error(O.errorMessage));g(O)});const R=O=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,Pt.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},L=O=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:l,response:(0,Pt.AddEthereumChainResponse)({isApproved:!0,rpcUrl:O})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:R,onApprove:L,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:ht.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Ze.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,d=>{if((0,Pt.isErrorResponse)(d)&&d.errorCode)return c(Gn.standardErrors.provider.custom({code:d.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(d.errorMessage)return c(new Error(d.errorMessage));a(d)});const l=d=>{var g;if(d){const _=(g=(0,Gn.getErrorCode)(d))!==null&&g!==void 0?g:Gn.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ht.Web3Method.switchEthereumChain,d instanceof Error?d:Gn.standardErrors.provider.unsupportedChain(e),_)}else this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,Pt.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=d=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:i,response:(0,Pt.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:d})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Cr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,xt.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ht.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ht.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Gt.accountRequestCallbackIds=new Set;Ag([kg.default],Gt.prototype,"resetAndReload",null);Ag([kg.default],Gt.prototype,"handleIncomingEvent",null);pa.WalletSDKRelay=Gt;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.WalletSDKRelayEventManager=void 0;const uI=Q;class cI{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,uI.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Ea.WalletSDKRelayEventManager=cI;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.CoinbaseWalletSDK=void 0;const lI=mo,fI=_o,hI=wo,dI=ii,pI=Yo,gI=pa,vI=Ea,bI=Q,Tg=Si;class Ma{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||fI.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new pI.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new hI.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Ma.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new vI.WalletSDKRelayEventManager,this._relay=new gI.WalletSDKRelay({linkAPIUrl:s,version:Tg.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new dI.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,bI.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,lI.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Yi.CoinbaseWalletSDK=Ma;Ma.VERSION=Tg.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Yi,r=ii;var n=Yi;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=ii;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ku);const yI=Og(Ku),kI=Ng({__proto__:null,default:yI},[Ku]);export{kI as i};
